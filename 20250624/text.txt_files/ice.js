var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function _defineProperty(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}(function(){"use strict";try{var isSafeListener=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=(t.log,t.tag),i=void 0===n?"":n;if(!e||"function"!=typeof e)return!1;try{if(e.toString().slice(0,200).includes("[native code]"))return!1}catch(e){}if("message"===i){var o=e.name;if(["write","eval","alert","Function","e","a","L9","writeln"].includes(o))return!1;if(o&&o.length<=2)return!1}return!0},appNamespace="$ice";if(window[appNamespace])return void window[appNamespace].event.fire("checkQueue");var what=function(e){return null==e?"undefined":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},$extend=function(e){if("object"==this.$root.what(e)){var t;for(t in e)this[t]=e[t];return this}this.$root.logger.warn("source is not an object",this)},$fn=function(e,t){this&&this!=window&&("function"==this.$root.what(t)?(this[e]=t,t.$id=e,t.$parent=this,t.$root=this.$root):this.$root.logger.warn(e+" is not a function",this))},$create=function e(t,n,i,o){$root&&!$root.iceResponseTime&&($root.iceResponseTime=Date.now());var r,s,a=what(n),d=this||window;if(!/object|function/.test(a))return null;if(d[t])r=d[t];else{var l=function(){var n=function(){};return n.prototype.$id=t,n.prototype.$parent=d,n.prototype.$root=d==window?null:d.$root,n.prototype.$create=e,n.prototype.$extend=$extend,n.prototype.$fn=$fn,o&&d!=window&&d.$root.event&&(n.prototype.bind=d.$root.event.bind,n.prototype.unbind=d.$root.event.unbind,n.prototype.fire=d.$root.event.fire),n};d==window?(Object.defineProperties(window,_defineProperty({},t,{value:new(new l),writable:!0})),r=d[t]):r=d[t]=new(new l)}for(s in"object"==what(i)&&r.$extend(i),n)if(n.hasOwnProperty(s))switch(what(n[s])){case"function":r.$fn(s,n[s]);break;case"object":r.$create(s,n[s]);break;default:r[s]=n[s]}return r},$root=$create(appNamespace,{},null,!1);$root.what=what,$root.$root=$root,$root.$extend({$fn:$fn});var $infolinks=$create("$infolinks",{},null,!0);$infolinks.what=what,$infolinks.$root=$infolinks,$infolinks.$create=$create,$infolinks.$extend=$extend,$infolinks.$extend({$fn:$fn}),$root.$create("plugins",{},{},!0);var loggly=$root.$create("loggly",{logglyTracker:function(){this.key=!1,this.sendConsoleErrors=!1,this.tag="jslogger",this.useDomainProxy=!1},init:function(){var e=this;switch(this.logglyTracker.prototype={setSession:function(t){t?(this.session_id=t,this.setCookie(this.session_id)):this.session_id||(this.session_id=this.readCookie(),this.session_id||(this.session_id=e.uuid(),this.setCookie(this.session_id)))},push:function(t){var n=void 0===t?"undefined":_typeof(t);if(t&&("object"===n||"string"===n)){var i=this;if("string"===n)t={text:t};else{if(t.logglyCollectorDomain)return void(i.logglyCollectorDomain=t.logglyCollectorDomain);if(void 0!==t.sendConsoleErrors&&e.setSendConsoleError(i,t.sendConsoleErrors),t.tag&&e.setTag(i,t.tag),t.useDomainProxy&&e.setDomainProxy(i,t.useDomainProxy),t.logglyKey)return void e.setKey(i,t.logglyKey);if(t.session_id)return void e.setSession(t.session_id)}i.key&&i.track(t)}},track:function(e){e.sessionId=this.session_id;try{var t=new XMLHttpRequest;t.open("POST",this.inputUrl,!0),t.setRequestHeader("Content-Type","text/plain"),t.send(JSON.stringify(e))}catch(e){window&&window.console&&window.console.log}},readCookie:function(){var t=document.cookie,n=t.indexOf(e.settings.LOGGLY_SESSION_KEY);if(n<0)return!1;var i=t.indexOf(";",n+1);return i=i<0?t.length:i,t.slice(n+e.settings.LOGGLY_SESSION_KEY_LENGTH,i)},setCookie:function(t){document.cookie=e.settings.LOGGLY_SESSION_KEY+"="+t}},this.logLevel()){case"error":this.warnLog=function(){},this.traceLog=function(){};break;case"warn":this.traceLog=function(){};break;case"info":case"true":case"log":break;case"loggly":case null:(loggly=new this.logglyTracker).push({logglyKey:"c2567968-6d7d-4427-a7bb-eaab4a243135",sendConsoleErrors:!1,tag:"ice"}),this.errorLog=function(){var e=(arguments[0]?arguments[0].stack:"no argument").replaceAll("https://resources.infolinks.com/js","");window.$iceboot&&(e=e.replaceAll("/"+window.$iceboot,"")),loggly.push({args:arguments,stack:e,url:window.location.href,ua:window.navigator.userAgent,v:window.$iceboot?window.$iceboot.version:"unknown",message:arguments[0]?arguments[0].message:"no message"})},this.testlog=function(){loggly.push({args:arguments,url:window.location.href,ua:window.navigator.userAgent,v:window.$iceboot?window.$iceboot.version:"unknown"})},this.deprecatedLog=function(){var e=(arguments[0]?arguments[0].stack:"no argument").replaceAll("https://resources.infolinks.com/js","");window.$iceboot&&(e=e.replaceAll("/"+window.$iceboot,"")),loggly.push({deprecatedError:arguments[0].deprecatedError?arguments[0].deprecatedError:arguments,stack:e,url:window.location.href,ua:window.navigator.userAgent,v:window.$iceboot?window.$iceboot.version:"unknown"})},this.warnLog=function(){},this.traceLog=function(){}}},uuid:function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)}))},setKey:function(e,t){e.key=t,e.setSession(),this.setInputUrl(e)},setTag:function(e,t){e.tag=t},setDomainProxy:function(e,t){e.useDomainProxy=t,this.setInputUrl(e)},setSendConsoleError:function(e,t){if(e.sendConsoleErrors=t,!0===e.sendConsoleErrors){var n=window.onerror;window.onerror=function(t,i,o,r){e.push({category:"BrowserJsException",exception:{message:t,url:i,lineno:o,colno:r}}),n&&"function"==typeof n&&n.apply(window,arguments)}}},setInputUrl:function(e){1==e.useDomainProxy?e.inputUrl=this.settings.LOGGLY_INPUT_PREFIX+window.location.host+"/"+this.settings.LOGGLY_PROXY_DOMAIN+"/inputs/"+e.key+"/tag/"+e.tag:e.inputUrl=this.settings.LOGGLY_INPUT_PREFIX+(e.logglyCollectorDomain||this.settings.LOGGLY_COLLECTOR_DOMAIN)+"/inputs/"+e.key+"/tag/"+e.tag},traceLog:function(){},warnLog:function(){},errorLog:function(){},deprecatedLog:function(){},testlog:function(){},logLevel:function(){var e=window.location.href,t=new RegExp("[?&]il.trce(=([^&#]*)|&|#|$)").exec(e);return t?t[2]?decodeURIComponent(t[2].replace(/\+/g," ")):"info":null}},{settings:{LOGGLY_INPUT_PREFIX:"http"+("https:"===document.location.protocol?"s":"")+"://",LOGGLY_COLLECTOR_DOMAIN:"logs-01.loggly.com",LOGGLY_SESSION_KEY:"logglytrackingsession",LOGGLY_SESSION_KEY_LENGTH:22,LOGGLY_PROXY_DOMAIN:"loggly",loggly:null}},!0);loggly.init(),$ice.versionFile="ice";var event=$root.$create("event",{bind:function(e){var t,n,i,o,r=this.$root,s=r.event,a=null;if(e.event?e.listener||(a=s.msgs.ml):a=s.msgs.me,a)return!1;e.$root=r,s._listeners[e.event]||(s._listeners[e.event]=[]),t=s._listeners[e.event];var d=r.what(e.listener);if("function"==d)t[t.length]=e;else if("object"==d)for(n in e.listener){for(o in this!=s&&this.$fn(n,e.listener[n]),i={},e)i[o]=e[o];i.listener=e.listener[n],t[t.length]=i}return!0},unbind:function(e,t){var n,i,o=this.$root,r=o.event,s=r._listeners[e];if("array"!=o.what(s))return!1;if(t)for(n=0,i=s.length;n<i;n++)s[n].listener===t&&s.splice(n--,1);else delete r._listeners[e];return!0},fire:function(e,t,n){var i,o,r,s,a=this.$root,d=a.event._listeners[e],l="undefined"!=a.what(t);if(!e||a.event.disabled||d&&d.disabled||"array"!=a.what(d))return!1;for(var c=0,u=d.length;c<u;c++){o=d[c],l&&(o.data=t);var h=(i=o.listener)&&i.$parent?i.$parent:window;if(s=this.msg("Fire",e,i.$id,t),r=n&&"number"==a.what(n)?n:o.delay)return setTimeout(function(){var e=a.utils.object.clone(o);return function(){a.logger.log(s,i),i.call(h,e)}}(),r);a.logger.log(s,i),i.call(h,o)}},repeat:function(e,t,n,i){var o,r,s,a=this.$root,d=a.event._listeners[e],l="undefined"!=a.what(n);if(!e||a.event.disabled||d&&d.disabled||"array"!=a.what(d)||!t||"number"!=a.what(t))return!1;i&&"number"==a.what(i)||(i=null);for(var c=0,u=d.length;c<u;c++){if((r=d[c]).repeat||r.delay)return;l&&(r.data=n);var h=(o=r.listener)&&o.$parent?o.$parent:window;r.interval=t,r.counter=0,s=function(){r.counter||a.logger.log(a.event.msg("Repeat",e,o.$id,n,{interval:t,delay:i}),o),r.counter++,o.call(h,r)},i?r.delay=setTimeout((function(){r.repeat=setInterval(s,t)}),i):r.repeat=setInterval(s,t)}},stop:function(e){var t,n,i=this.$root,o=i.event._listeners[e];if(!e||!o)return!1;for(var r=0,s=o.length;r<s;r++)n=o[r],clearInterval(n.repeat),clearTimeout(n.delay),delete n.repeat,delete n.delay,t=n.listener,i.logger.log(i.event.msg("Stop",e,t.$id,null,{repetitions:n.counter}),t),n.counter=0},disable:function(e){this.$root.event.able(e,!0)},enable:function(e){this.$root.event.able(e,!1)},able:function(e,t){var n,i=this.$root;if(e)for("string"==i.what(e)&&(e=[e]),n=0;n<e.length;n++)i.event._listeners[e].disabled=t;else i.event.disabled=t},msg:function(e,t,n,i,o){return[e," { event:'",t,"', listener:'",n||"Anonymous","'",o?", "+this.data2str(o):"",i?", "+this.data2str(i):"","} "].join("")},data2str:function(e){var t,n,i=[];if("object"!=this.$root.what(e))return"";for(t in e)n="'"+(null==e[t]?"null":e[t].toString?this.$root.utils.string.truncate(e[t].toString(),50,"..."):"[Unknown Object]")+"'",i[i.length]=[t,n].join(":");return i.join(", ")}},{_listeners:{},msgs:{me:"Error: Missing event.",ml:"Error: Misssing listener."}},!1);event.$create("dom",{bind:function(e,t){var n,i,o,r,s=this.$root,a=s.settings.nodeTypes,d=null;function l(e,t){if(e===t)return!1;for(;t&&t!==e;)t=t.parentNode;return t===e}if(!e||e.nodeType!=a.ELEMENT&&e.nodeType!=a.DOCUMENT&&e!=window?d=this.msgs.mbe:t.event?t.listener||(d=this.$parent.msgs.ml):d=this.$parent.msgs.me,d)return!1;function c(e){try{return e===window?"[window]":e===document?"[document]":e&&e.outerHTML?e.outerHTML.slice(0,80)+"...":e&&e.tagName?"<"+e.tagName.toLowerCase()+">":Object.prototype.toString.call(e)}catch(e){return"[unknown element]"}}if(e.$iceId||(e.$iceId=++this.elementBinder),t.element=e,t.$root=s,"function"==s.what(t.listener))t.listener={a:t.listener};else if("object"!=s.what(t.listener))return;for(n in t.listener){for(o in i={},t)i[o]=t[o];i.listener=t.listener[n],e.addEventListener&&/mouseenter|mouseleave/.test(i.event)&&(i.simEvent=i.event,i.event=i.event.replace(/enter/,"over").replace(/leave/,"out")),r=function(){var e=s.utils.object.clone(i);return function(t){try{if(t||(t=window.event),"message"===e.event){if(!["https://router.infolinks.com","https://resources.infolinks.com"].includes(t.origin))return;if(!isSafeListener(e.listener,{log:!0,tag:e.event}))return void s.loggly.errorLog(new Error("Blocked suspicious listener at bind"),"__event.dom.bind",{event:e.event,funcName:(e.originalListener||e.listener).name||"[anonymous]",element:c(e.element)})}if(/mouseenter|mouseleave/.test(e.simEvent)&&t.relatedTarget&&(this===t.relatedTarget||l(this,t.relatedTarget)))return;e.domEvent=t,s.event.dom.fire(e)}catch(t){s.loggly.errorLog(t,"__event bind unexpected error in handler for event ",e.event,c(e.element))}}}(),e.addEventListener?e.addEventListener(i.event,r,!1):e.attachEvent&&e.attachEvent("on"+i.event,r);var u=e.$iceId,h=this._listeners;h[u]||(h[u]={}),h[u][i.event]||(h[u][i.event]=[]),s.utils.array.push(h[u][i.event],{listener:r,original:i.listener})}return!0},unbind:function(e,t,n){var i,o=this.$root,r=o.settings.nodeTypes;if(e&&e.$iceId&&(e.nodeType==r.ELEMENT||e.nodeType==r.DOCUMENT||e==window)){var s=e.$iceId,a=o.event.dom._listeners[s];if(a&&a[t]){for(i=0;i<a[t].length;i++)a[t][i].original&&a[t][i].original.name==n.name&&(e.removeEventListener?e.removeEventListener(t,a[t][i].listener,!1):e.detachEvent&&e.detachEvent("on"+t,a[t][i].listener),a[t].splice(i--,1));return 0==a[t].length&&delete a[t],!0}}else o.logger.error(this.msgs.mbe,this)},unbindAll:function(e){var t,n=this.$root,i=n.settings.nodeTypes;if(e&&e.$iceId&&(e.nodeType==i.ELEMENT||e.nodeType==i.DOCUMENT||e==window)){var o=e.$iceId,r=n.event.dom._listeners[o];if(r){for(var s in r){for(t=0;t<r[s].length;t++)e.removeEventListener?e.removeEventListener(s,r[s][t].listener,!1):e.detachEvent&&e.detachEvent("on"+s,r[s][t].listener),r[s].splice(t--,1);0==r[s].length&&delete r[s]}return!0}}else n.logger.error(this.msgs.mbe,this)},fire:function(e){var t=this.$root;if(e&&e.listener){if("message"===e.event&&e.data&&"object"==_typeof(e.data)){if(!e.data.name)return void t.loggly.errorLog(new Error("Message missing required 'name' property"),"__event dom.fire invalid message");if(e.source&&e.source!==window.parent&&e.source!==window)return void t.loggly.errorLog(new Error("Invalid message source"),"__event dom.fire invalid source")}var n=e.listener,i=n&&n.$parent?n.$parent:window;if(isSafeListener(n.originalListener||n,{log:!0,tag:e.event}))try{try{t.event.msg("Fire",e.event,n&&n.$id||"anonymous",e.data,{element:e.element?e.element.id||e.element.tagName||"unknown":"no-element"})}catch(e){return void t.loggly.errorLog(e,"__event dom.fire error creating message")}e.delay&&"number"==t.what(e.delay)?setTimeout((function(){n.call(i,e)}),e.delay):n.call(i,e)}catch(o){t.loggly.errorLog(o,"__event error in dom.fire",e.event,function(e){try{return e?e===window?"[window]":e===document?"[document]":e&&e.outerHTML?e.outerHTML.slice(0,80)+"...":e&&e.tagName?"<"+e.tagName.toLowerCase()+">":Object.prototype.toString.call(e):"[no element]"}catch(e){return"[unknown element]"}}(e.element),n&&n.toString?n.toString().slice(0,100)+"...":"[unknown listener]",n&&n.name?n.name:"[anonymous]",i===window?"[window context]":"[custom context]")}}else t.loggly.errorLog(new Error("Missing required parameters"),"__event dom.fire missing parameters")}},{_listeners:{},elementBinder:0,msgs:{mbe:"Error: Missing or bad element."}},!1),$root.$create("logger",{log:function(e,t,n){n||(n="log");var i={message:e,type:n,time:(new Date).getTime(),context:t};this.history[this.history.length]=i,"console"==this.output&&this.$root.what(window.console)},info:function(e,t){this.log(e,t,"info")},warn:function(e,t){this.log(e,t,"warn")},error:function(e,t){this.log(e,t,"error"),this.errorReporting>=Math.ceil(100*Math.random())&&this.$root.event.fire("sendErrorReport",{msg:e})},descent:function(e,t){var n=[];for(t&&e&&e.$id&&(n[0]=e);e&&e.$root&&e!=window;)n.unshift(e.$id),e=e.$parent;return n},describe:function(e){var t,n,i,o=[];for(t=0,n=this.history.length;t<n;t++)i=this.history[t],e&&e!=i.type||(o[o.length]=[this.$root.utils.date.int2str(i.time),i.message,this.descent(i.context,!1).join(".")].join(" "));return o}},{history:[],output:"none",errorReporting:-1}),$root.$create("browser",new function(){var e,t="user-agent",n="",i="function",o="undefined",r="object",s="string",a="browser",d="cpu",l="device",c="engine",u="os",h="result",m="name",g="type",p="vendor",f="version",v="architecture",b="major",w="model",y="console",x="mobile",k="tablet",I="smarttv",S="wearable",C="xr",T="embedded",E="inapp",L="brands",A="formFactors",$="fullVersionList",_="platform",N="platformVersion",O="bitness",j="sec-ch-ua",P=j+"-full-version-list",R=j+"-arch",D=j+"-"+O,M=j+"-form-factors",B=j+"-"+x,H=j+"-"+w,F=j+"-"+_,V=F+"-version",W=[L,$,x,w,_,N,v,A,O],U="Amazon",q="Apple",z="ASUS",G="BlackBerry",J="Google",K="Huawei",Q="Lenovo",X="Honor",Y="LG",Z="Microsoft",ee="Motorola",te="Nvidia",ne="OnePlus",ie="OPPO",oe="Samsung",re="Sharp",se="Sony",ae="Xiaomi",de="Zebra",le="Chrome",ce="Chromium",ue="Chromecast",he="Firefox",me="Opera",ge="Facebook",pe="Sogou",fe="Mobile ",ve=" Browser",be="Windows",we=("undefined"==typeof window?"undefined":_typeof(window))!=o,ye=we&&window.navigator?window.navigator:void 0,xe=ye&&ye.userAgentData?ye.userAgentData:void 0,ke=function(e){for(var t={},n=0;n<e.length;n++)t[e[n].toUpperCase()]=e[n];return t},Ie=function(e,t){if((void 0===e?"undefined":_typeof(e))==r&&e.length>0){for(var n in e)if(Ee(e[n])==Ee(t))return!0;return!1}return!!Ce(e)&&-1!==Ee(t).indexOf(Ee(e))},Se=function e(t,n){for(var i in t)return/^(browser|cpu|device|engine|os)$/.test(i)||!!n&&e(t[i])},Ce=function(e){return(void 0===e?"undefined":_typeof(e))==s},Te=function(e){if(e){for(var t=[],n=$e(/\\?\"/g,e).split(","),i=0;i<n.length;i++)if(n[i].indexOf(";")>-1){var o=Ne(n[i]).split(";v=");t[i]={brand:o[0],version:o[1]}}else t[i]=Ne(n[i]);return t}},Ee=function(e){return Ce(e)?e.toLowerCase():e},Le=function(e){return Ce(e)?$e(/[^\d\.]/g,e).split(".")[0]:void 0},Ae=function(e){for(var t in e){var n=e[t];(void 0===n?"undefined":_typeof(n))==r&&2==n.length?this[n[0]]=n[1]:this[n]=void 0}return this},$e=function(e,t){return Ce(t)?t.replace(e,n):t},_e=function(e){return $e(/\\?\"/g,e)},Ne=function(e,t){if(Ce(e))return e=$e(/^\s\s*/,e),(void 0===t?"undefined":_typeof(t))==o?e:e.substring(0,500)},Oe=function(e,t){if(e&&t)for(var n,o,s,a,d,l,c=0;c<t.length&&!d;){var u=t[c],h=t[c+1];for(n=o=0;n<u.length&&!d&&u[n];)if(d=u[n++].exec(e))for(s=0;s<h.length;s++)l=d[++o],(void 0===(a=h[s])?"undefined":_typeof(a))==r&&a.length>0?2===a.length?_typeof(a[1])==i?this[a[0]]=a[1].call(this,l):this[a[0]]=a[1]:3===a.length?_typeof(a[1])!=i||a[1].exec&&a[1].test?this[a[0]]=l?l.replace(a[1],a[2]):void 0:this[a[0]]=l?a[1].call(this,l,a[2]):void 0:4===a.length&&(this[a[0]]=l?a[3].call(this,l.replace(a[1],a[2])):void 0):this[a]=l||void 0;c+=2}},je=function(e,t){for(var n in t)if(_typeof(t[n])==r&&t[n].length>0){for(var i=0;i<t[n].length;i++)if(Ie(t[n][i],e))return"?"==n?void 0:n}else if(Ie(t[n],e))return"?"==n?void 0:n;return t.hasOwnProperty("*")?t["*"]:e},Pe={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Re={embedded:"Automotive",mobile:"Mobile",tablet:["Tablet","EInk"],smarttv:"TV",wearable:"Watch",xr:["VR","XR"],"?":["Desktop","Unknown"],"*":void 0},De={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[f,[m,fe+"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[f,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,f],[/opios[\/ ]+([\w\.]+)/i],[f,[m,me+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[f,[m,me+" GX"]],[/\bopr\/([\w\.]+)/i],[f,[m,me]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[f,[m,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[f,[m,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[m,f],[/quark(?:pc)?\/([-\w\.]+)/i],[f,[m,"Quark"]],[/\bddg\/([\w\.]+)/i],[f,[m,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[f,[m,"UCBrowser"]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[f,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[f,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[f,[m,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[f,[m,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[f,[m,"Smart "+Q+ve]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure"+ve],f],[/\bfocus\/([\w\.]+)/i],[f,[m,he+" Focus"]],[/\bopt\/([\w\.]+)/i],[f,[m,me+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[f,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[f,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[f,[m,me+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[f,[m,"MIUI"+ve]],[/fxios\/([\w\.-]+)/i],[f,[m,fe+he]],[/\bqihoobrowser\/?([\w\.]*)/i],[f,[m,"360"]],[/\b(qq)\/([\w\.]+)/i],[[m,/(.+)/,"$1Browser"],f],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1"+ve],f],[/samsungbrowser\/([\w\.]+)/i],[f,[m,oe+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[f,[m,pe+" Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[m,pe+" Mobile"],f],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[m,f],[/(lbbrowser|rekonq)/i],[m],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[f,m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,ge],f,[g,E]],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(instagram|snapchat)[\/ ]([-\w\.]+)/i],[m,f,[g,E]],[/\bgsa\/([\w\.]+) .*safari\//i],[f,[m,"GSA"],[g,E]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[f,[m,"TikTok"],[g,E]],[/\[(linkedin)app\]/i],[m,[g,E]],[/(chromium)[\/ ]([-\w\.]+)/i],[m,f],[/headlesschrome(?:\/([\w\.]+)| )/i],[f,[m,le+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,le+" WebView"],f],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[f,[m,"Android"+ve]],[/chrome\/([\w\.]+) mobile/i],[f,[m,fe+"Chrome"]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,f],[/version\/([\w\.\,]+) .*mobile(?:\/\w+ | ?)safari/i],[f,[m,fe+"Safari"]],[/iphone .*mobile(?:\/\w+ | ?)safari/i],[[m,fe+"Safari"]],[/version\/([\w\.\,]+) .*(safari)/i],[f,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[f,"1"]],[/(webkit|khtml)\/([\w\.]+)/i],[m,f],[/(?:mobile|tablet);.*(firefox)\/([\w\.-]+)/i],[[m,fe+he],f],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],f],[/(wolvic|librewolf)\/([\w\.]+)/i],[m,f],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[f,[m,he+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[m,[f,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[m,[f,/[^\d\.]+./,n]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[v,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)\b/i],[[v,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[v,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[v,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[v,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[v,/ower/,n,Ee]],[/ sun4\w[;\)]/i],[[v,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[v,Ee]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[w,[p,oe],[g,k]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[w,[p,oe],[g,x]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[w,[p,q],[g,x]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[w,[p,q],[g,k]],[/(macintosh);/i],[w,[p,q]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[w,[p,re],[g,x]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[w,[p,X],[g,k]],[/honor([-\w ]+)[;\)]/i],[w,[p,X],[g,x]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[w,[p,K],[g,k]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[w,[p,K],[g,x]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[w,/_/g," "],[p,ae],[g,k]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[w,/_/g," "],[p,ae],[g,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[w,[p,ie],[g,x]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[w,[p,je,{OnePlus:["304","403","203"],"*":ie}],[g,k]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[w,[p,"Vivo"],[g,x]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[w,[p,"Realme"],[g,x]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[w,[p,ee],[g,x]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[w,[p,ee],[g,k]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[w,[p,Y],[g,k]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[w,[p,Y],[g,x]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[w,[p,Q],[g,k]],[/(nokia) (t[12][01])/i],[p,w,[g,k]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?(([-\w\.]*))/i],[[w,/_/g," "],[g,x],[p,"Nokia"]],[/(pixel (c|tablet))\b/i],[w,[p,J],[g,k]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[w,[p,J],[g,x]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[w,[p,se],[g,x]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[w,"Xperia Tablet"],[p,se],[g,k]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[w,[p,ne],[g,x]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[w,[p,U],[g,k]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[w,/(.+)/g,"Fire Phone $1"],[p,U],[g,x]],[/(playbook);[-\w\),; ]+(rim)/i],[w,p,[g,k]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[w,[p,G],[g,x]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[w,[p,z],[g,k]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[w,[p,z],[g,x]],[/(nexus 9)/i],[w,[p,"HTC"],[g,k]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[p,[w,/_/g," "],[g,x]],[/tcl (xess p17aa)/i,/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])(_\w(\w|\w\w))?(\)| bui)/i],[w,[p,"TCL"],[g,k]],[/droid [\w\.]+; (418(?:7d|8v)|5087z|5102l|61(?:02[dh]|25[adfh]|27[ai]|56[dh]|59k|65[ah])|a509dl|t(?:43(?:0w|1[adepqu])|50(?:6d|7[adju])|6(?:09dl|10k|12b|71[efho]|76[hjk])|7(?:66[ahju]|67[hw]|7[045][bh]|71[hk]|73o|76[ho]|79w|81[hks]?|82h|90[bhsy]|99b)|810[hs]))(_\w(\w|\w\w))?(\)| bui)/i],[w,[p,"TCL"],[g,x]],[/(itel) ((\w+))/i],[[p,Ee],w,[g,je,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[w,[p,"Acer"],[g,k]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[w,[p,"Meizu"],[g,x]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[w,[p,"Ulefone"],[g,x]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[w,[p,"Energizer"],[g,x]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[w,[p,"Cat"],[g,x]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[w,[p,"Smartfren"],[g,x]],[/droid.+; (a(?:015|06[35]|142p?))/i],[w,[p,"Nothing"],[g,x]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[p,w,[g,k]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[p,w,[g,x]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i],[p,w,[g,k]],[/(surface duo)/i],[w,[p,Z],[g,k]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[w,[p,"Fairphone"],[g,x]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[w,[p,te],[g,k]],[/(sprint) (\w+)/i],[p,w,[g,x]],[/(kin\.[onetw]{3})/i],[[w,/\./g," "],[p,Z],[g,x]],[/droid.+; ([c6]+|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[w,[p,de],[g,k]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[w,[p,de],[g,x]],[/smart-tv.+(samsung)/i],[p,[g,I]],[/hbbtv.+maple;(\d+)/i],[[w,/^/,"SmartTV"],[p,oe],[g,I]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[p,Y],[g,I]],[/(apple) ?tv/i],[p,[w,q+" TV"],[g,I]],[/crkey.*devicetype\/chromecast/i],[[w,ue+" Third Generation"],[p,J],[g,I]],[/crkey.*devicetype\/([^/]*)/i],[[w,/^/,"Chromecast "],[p,J],[g,I]],[/fuchsia.*crkey/i],[[w,ue+" Nest Hub"],[p,J],[g,I]],[/crkey/i],[[w,ue],[p,J],[g,I]],[/droid.+aft(\w+)( bui|\))/i],[w,[p,U],[g,I]],[/(shield \w+ tv)/i],[w,[p,te],[g,I]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[w,[p,re],[g,I]],[/(bravia[\w ]+)( bui|\))/i],[w,[p,se],[g,I]],[/(mi(tv|box)-?\w+) bui/i],[w,[p,ae],[g,I]],[/Hbbtv.*(technisat) (.*);/i],[p,w,[g,I]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[p,Ne],[w,Ne],[g,I]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[w,[g,I]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[g,I]],[/(ouya)/i,/(nintendo) (\w+)/i],[p,w,[g,y]],[/droid.+; (shield)( bui|\))/i],[w,[p,te],[g,y]],[/(playstation \w+)/i],[w,[p,se],[g,y]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[w,[p,Z],[g,y]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[w,[p,oe],[g,S]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[p,w,[g,S]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[w,[p,ie],[g,S]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[w,[p,q],[g,S]],[/(opwwe\d{3})/i],[w,[p,ne],[g,S]],[/(moto 360)/i],[w,[p,ee],[g,S]],[/(smartwatch 3)/i],[w,[p,se],[g,S]],[/(g watch r)/i],[w,[p,Y],[g,S]],[/droid.+; (wt63?0{2,3})\)/i],[w,[p,de],[g,S]],[/droid.+; (glass) \d/i],[w,[p,J],[g,C]],[/(pico) (4|neo3(?: link|pro)?)/i],[p,w,[g,C]],[/; (quest( \d| pro)?)/i],[w,[p,ge],[g,C]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[p,[g,T]],[/(aeobc)\b/i],[w,[p,U],[g,T]],[/(homepod).+mac os/i],[w,[p,q],[g,T]],[/windows iot/i],[[g,T]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+?(mobile|vr|\d) safari/i],[w,[g,je,{mobile:"Mobile",xr:"VR","*":k}]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[g,k]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[g,x]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[w,[p,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[f,[m,"EdgeHTML"]],[/(arkweb)\/([\w\.]+)/i],[m,f],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[f,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[m,f],[/ladybird\//i],[[m,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[f,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,f],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[m,[f,je,Pe]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[f,je,Pe],[m,be]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[f,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,"macOS"],[f,/_/g,"."]],[/android ([\d\.]+).*crkey/i],[f,[m,ue+" Android"]],[/fuchsia.*crkey\/([\d\.]+)/i],[f,[m,ue+" Fuchsia"]],[/crkey\/([\d\.]+).*devicetype\/smartspeaker/i],[f,[m,ue+" SmartSpeaker"]],[/linux.*crkey\/([\d\.]+)/i],[f,[m,ue+" Linux"]],[/crkey\/([\d\.]+)/i],[f,[m,ue]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[f,m],[/(ubuntu) ([\w\.]+) like android/i],[[m,/(.+)/,"$1 Touch"],f],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish|openharmony)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,f],[/\(bb(10);/i],[f,[m,G]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[f,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[f,[m,he+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[f,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[f,[m,"watchOS"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,"Chrome OS"],f],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) (\w+)/i,/(xbox); +xbox ([^\);]+)/i,/(pico) .+os([\w\.]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,f],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],f],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[m,f]]},Me=(Ae.call((e={init:{},isIgnore:{},isIgnoreRgx:{},toString:{}}).init,[[a,[m,f,b,g]],[d,[v]],[l,[g,w,p]],[c,[m,f]],[u,[m,f]]]),Ae.call(e.isIgnore,[[a,[f,b]],[c,[f]],[u,[f]]]),Ae.call(e.isIgnoreRgx,[[a,/ ?browser$/i],[u,/ ?os$/i]]),Ae.call(e.toString,[[a,[m,f]],[d,[v]],[l,[p,w]],[c,[m,f]],[u,[m,f]]]),e),Be=function(e,t){var i=Me.init[t],r=Me.isIgnore[t]||0,s=Me.isIgnoreRgx[t]||0,a=Me.toString[t]||0;function d(){Ae.call(this,i)}return d.prototype.getItem=function(){return e},d.prototype.withClientHints=function(){return xe?xe.getHighEntropyValues(W).then((function(t){return e.setCH(new He(t,!1)).parseCH().get()})):e.parseCH().get()},d.prototype.withFeatureCheck=function(){return e.detectFeature().get()},t!=h&&(d.prototype.is=function(e){var t=!1;for(var n in this)if(this.hasOwnProperty(n)&&!Ie(r,n)&&Ee(s?$e(s,this[n]):this[n])==Ee(s?$e(s,e):e)){if(t=!0,e!=o)break}else if(e==o&&t){t=!t;break}return t},d.prototype.toString=function(){var e=n;for(var t in a)_typeof(this[a[t]])!=o&&(e+=(e?" ":n)+this[a[t]]);return e||o}),xe||(d.prototype.then=function(e){var t=this,n=function(){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e])};n.prototype={is:d.prototype.is,toString:d.prototype.toString};var i=new n;return e(i),i}),new d};function He(e,t){if(e=e||{},Ae.call(this,W),t)Ae.call(this,[[L,Te(e[j])],[$,Te(e[P])],[x,/\?1/.test(e[B])],[w,_e(e[H])],[_,_e(e[F])],[N,_e(e[V])],[v,_e(e[R])],[A,Te(e[M])],[O,_e(e[D])]]);else for(var n in e)this.hasOwnProperty(n)&&_typeof(e[n])!=o&&(this[n]=e[n])}function Fe(e,t,n,r){return this.get=function(e){return e?this.data.hasOwnProperty(e)?this.data[e]:void 0:this.data},this.set=function(e,t){return this.data[e]=t,this},this.setCH=function(e){return this.uaCH=e,this},this.detectFeature=function(){if(ye&&ye.userAgent==this.ua)switch(this.itemType){case a:ye.brave&&_typeof(ye.brave.isBrave)==i&&this.set(m,"Brave");break;case l:!this.get(g)&&xe&&xe[x]&&this.set(g,x),"Macintosh"==this.get(w)&&ye&&_typeof(ye.standalone)!=o&&ye.maxTouchPoints&&ye.maxTouchPoints>2&&this.set(w,"iPad").set(g,k);break;case u:!this.get(m)&&xe&&xe[_]&&this.set(m,xe[_]);break;case h:var e=this.data,t=function(t){return e[t].getItem().detectFeature().get()};this.set(a,t(a)).set(d,t(d)).set(l,t(l)).set(c,t(c)).set(u,t(u))}return this},this.parseUA=function(){return this.itemType!=h&&Oe.call(this.data,this.ua,this.rgxMap),this.itemType==a&&this.set(b,Le(this.get(f))),this},this.parseCH=function(){var e=this.uaCH,t=this.rgxMap;switch(this.itemType){case a:case c:var n,i=e[$]||e[L];if(i)for(var o in i){var r=i[o].brand||i[o],s=i[o].version;this.itemType!=a||/not.a.brand/i.test(r)||n&&(!/chrom/i.test(n)||r==ce)||(r=je(r,{Chrome:"Google Chrome",Edge:"Microsoft Edge","Chrome WebView":"Android WebView","Chrome Headless":"HeadlessChrome"}),this.set(m,r).set(f,s).set(b,Le(s)),n=r),this.itemType==c&&r==ce&&this.set(f,s)}break;case d:var y=e[v];y&&(y&&"64"==e[O]&&(y+="64"),Oe.call(this.data,y+";",t));break;case l:if(e[x]&&this.set(g,x),e[w]&&(this.set(w,e[w]),!this.get(g)||!this.get(p))){var k={};Oe.call(k,"droid 9; "+e[w]+")",t),!this.get(g)&&k.type&&this.set(g,k.type),!this.get(p)&&k.vendor&&this.set(p,k.vendor)}if(e[A]){var I;if("string"!=typeof e[A])for(var S=0;!I&&S<e[A].length;)I=je(e[A][S++],Re);else I=je(e[A],Re);this.set(g,I)}break;case u:var C=e[_];if(C){var T=e[N];C==be&&(T=parseInt(Le(T),10)>=13?"11":"10"),this.set(m,C).set(f,T)}this.get(m)==be&&"Xbox"==e[w]&&this.set(m,"Xbox").set(f,void 0);break;case h:var E=this.data,j=function(t){return E[t].getItem().setCH(e).parseCH().get()};this.set(a,j(a)).set(d,j(d)).set(l,j(l)).set(c,j(c)).set(u,j(u))}return this},Ae.call(this,[["itemType",e],["ua",t],["uaCH",r],["rgxMap",n],["data",Be(this,e)]]),this}var Ve=function e(o,m,g){if((void 0===o?"undefined":_typeof(o))==r?(Se(o,!0)?((void 0===m?"undefined":_typeof(m))==r&&(g=m),m=o):(g=o,m=void 0),o=void 0):(void 0===o?"undefined":_typeof(o))!=s||Se(m,!0)||(g=m,m=void 0),g&&_typeof(g.append)==i){var p={};g.forEach((function(e,t){p[t]=e})),g=p}if(!(this instanceof e))return new e(o,m,g).getResult();var f=this,v=(void 0===o?"undefined":_typeof(o))==s?o:g&&g[t]?g[t]:ye&&ye.userAgent?ye.userAgent:n,b=new He(g,!0),w=m?function(e,t){var n={},i=t;if(!Se(t))for(var o in i={},t)for(var r in t[o])i[r]=t[o][r].concat(i[r]?i[r]:[]);for(var s in e)n[s]=i[s]&&i[s].length%2==0?i[s].concat(e[s]):e[s];return n}(De,m):De,y=function(e){return e==h?function(){return new Fe(e,v,w,b).set("ua",v).set(a,this.getBrowser()).set(d,this.getCPU()).set(l,this.getDevice()).set(c,this.getEngine()).set(u,this.getOS()).set("getDevice",(function(){return"tablet"===this.device.type?"t":"mobile"===this.device.type||"icemobile"===$root.versionFile?"m":"p"})).set("getName",(function(){return this.browser.name.replace(/\s+/g,"")})).set("getVersion",(function(){return this.browser.version})).set("detectCSSFeature",(function(e){var t=!1,n="Webkit Moz ms O".split(" "),i=document.createElement("div"),o=null;if(e=e.toLowerCase(),void 0!==i.style[e]&&(t=!0),0==t){o=e.charAt(0).toUpperCase()+e.substr(1);for(var r=0;r<n.length;r++)if(void 0!==i.style[n[r]+o]){t=!0;break}}return t})).set("getOS",(function(){return this.os.name})).set("getOSVersion",(function(){return this.os.version})).set("getEngine",(function(){return this.engine.name})).set("IE",function(e){if("IE"===e.getBrowser().name)return e.getBrowser().version}(f)).set("Firefox",function(e){if("Firefox"===e.getBrowser().name)return e.getBrowser().version}(f)).set("Chrome",function(e){if("Chrome"===e.getBrowser().name)return e.getBrowser().version}(f)).set("Safari",function(e){if("Safari"===e.getBrowser().name)return e.getBrowser().version}(f)).set("Opera",function(e){if("Opera"===e.getBrowser().name)return e.getBrowser().version}(f)).set("iPhone",function(e){if("iPhone"===e.getDevice().model)return e.getDevice().model}(f)).set("iPad",function(e){if("iPad"===e.getDevice().model)return e.getDevice().model}(f)).get()}:function(){return new Fe(e,v,w[e],b).parseUA().get()}};Ae.call(this,[["getBrowser",y(a)],["getCPU",y(d)],["getDevice",y(l)],["getEngine",y(c)],["getOS",y(u)],["getResult",y(h)],["getUA",function(){return v}],["setUA",function(e){return Ce(e)&&(v=e.length>500?Ne(e,500):e),this}]]).setUA(v)};return Ve.VERSION="2.0.0",Ve.BROWSER=ke([m,f,b,g]),Ve.CPU=ke([v]),Ve.DEVICE=ke([w,p,g,y,x,I,k,S,T]),Ve.ENGINE=Ve.OS=ke([m,f]),Ve()});var utils=$root.$create("utils",{VeST:function(e,t,n){var i,o,r=this.$root,s=this.VeST;if((o=s.cache)||(o=s.cache={},s.encQ=function(e){return e.split("'").join("\t")},s.decQ=function(e){return e.split("\t").join("'")}),n&&o[n])i=o[n];else{var a=(e=e.replace(/<%\-\-[\s\S]*?\-\-%>/g,"")).replace(/[\r\t\n]/g," ").replace(/<%.*?%>/g,s.encQ).replace(/'/g,"\\'").replace(/<%.*?%>/g,s.decQ).replace(/<%=(.*?)%>/g,"',$1,'").split("<%").join("');").split("%>").join("p.push('");a=["var p=[];with(obj||{}){p.push('",a,"');}return p.join('');"].join(""),i=new Function("obj",a),n&&(o[n]=i)}return"object"==r.what(t)&&(n&&(t.$id=n),t.$root=r),i(t)},doRectsOverlap:function(e,t){var n;return t[0]<e[0]&&(n=e,e=t,t=n),!(e[2]<t[0]||e[0]>t[2])&&(t[1]<e[1]&&(n=e,e=t,t=n),!(e[3]<t[1]||e[1]>t[3]))}});utils.$create("number",{get:function(e){return this.counters[e]},next:function(e,t){return"undefined"==this.$root.what(this.counters[e])?this.counters[e]="number"==this.$root.what(t)?t:0:this.counters[e]++,this.counters[e]}},{counters:{}}),utils.$create("agds",{get:function(e){var t=this.$root,n=[];return(window.adsbygoogle||[]).onload=function(){[].forEach.call(document.querySelectorAll("ins, .adsbygoogle"),(function(e){n.push(e)})),t.event.fire(e,{agds:n})},n},elementsOverlap:function(e,t){for(var n=[],i=t.getBoundingClientRect(),o=0;e&&o<e.length;o++){var r=e[o].getBoundingClientRect();!(r.top>i.bottom||r.right<i.left||r.bottom<i.top||r.left>i.right)&&n.push(e[o])}return n},check:function(e,t){var n=new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window});e.dispatchEvent(n)}}),utils.$create("oo",{check:function(e){var t=this,n=this.$root;if(!n.iceDS&&(n.iceDS=!0,window.googletag&&(n.comm.settings.responses.impression.prs.u||n.comm.settings.responses.impression.prs.k))){if(!window.googletag.destroySlots)return;var i=window.googletag.destroySlots;if(window.googletag.destroySlots=function(e){return t.removeIceProducts(e),i(e)},!window.googletag.pubads)return;var o=n.comm.settings.responses.impression.prs.u&&n.comm.settings.responses.impression.prs.u.behavior.ropti,r=n.comm.settings.responses.impression.prs.k&&n.comm.settings.responses.impression.prs.k.behavior.ropti;if(o||r){var s="https://resources.infolinks.com/js/"+n.version+"/rpt.js";n.comm.loadScript(s,null,"rptloaded")}else{var a=window.googletag.pubads().refresh;window.googletag.pubads().refresh=function(e){return t.removeIceProducts(e),a(e)}}}},removeIceProducts:function(e){var t=this.$root;if(t.products.inplace||t.products.incube)if(e)for(var n=0;n<e.length;n++)e[n].getSlotElementId()&&(t.event.fire("destroyInplace",{id:e[n].getSlotElementId()}),t.event.fire("destroyIncube",{id:e[n].getSlotElementId()}));else t.event.fire("destroyInplace"),t.event.fire("destroyIncube");if(t.settings.dfpSlot)if(e){for(n=0;n<e.length;n++)if(e[n].getSlotId()&&t.settings.dfpSlot==e[n].getSlotId().getName()){t.event.fire("destroy",{id:e[n].getSlotId().getName()});break}}else t.event.fire("destroy")},getSlotName:function(e){return""}}),utils.$create("image",{preLoadImage:function(e,t){var n=window.$ice.$root;t=t||1e3;var i,o=!1,r=new Image;r.onerror=r.onabort=function(){try{if(!o)return clearTimeout(i),!1}catch(e){n.loggly.errorLog(e,"_utils preLoadImage onerror unexpected error in handler for event 'onerror' or 'onabort'")}},r.onload=function(){try{if(!o)return clearTimeout(i),!0}catch(e){n.loggly.errorLog(e,"_utils preLoadImage onload unexpected error in handler for event 'onload' on img")}},r.src=e,i=setTimeout((function(){return o=!0,r.src="//!!!!/errorOnLoad.jpg",!1}),t)}}),utils.$create("string",{capitalize:function(e){var t=e.split(/\s+/);if(t.length>2)t[0]=t[0].charAt(0).toUpperCase()+t[0].slice(1);else for(var n=0,i=t.length;n<i;++n)t[n]=t[n].charAt(0).toUpperCase()+t[n].slice(1);return t.join(" ")},lpad:function(e,t,n){return new Array(t+1-e.toString().length).join(n||"0")+e},qw:function(e){return this.trim(e).split(/\s+/)},toObject:function(e,t,n){if(-1==e.indexOf("="))return null;0==e.indexOf("?")&&(e=e.substring(1));for(var i,o={},r=e.split("&"),s=0,a=r.length;s<a;s++)2==(i=r[s].split("=")).length&&(n&&(i[0]=decodeURIComponent(i[0]),i[1]=decodeURIComponent(i[1])),o[i[0]]=i[1]);return"undefined"!=this.$root.what(t)?o[t]:o},stringToObject:function(e){var t,n,i={};(e.indexOf("{")||e.indexOf("}"))&&(e=e.replace(/[{}]/g,""));for(var o=0,r=(t=e.split(",")).length;o<r;o++)i[(n=t[o].split(":"))[0]]=n[1];return i},trim:function(e){return e.replace(/^\s+|\s+$/g,"")},replaceAll:function(e,t,n){return e.split(t).join(n)},truncate:function(e,t,n){return e.length<=t?e:e.substring(0,t)+(n||"")},truncateToChar:function(e,t,n,i){var o=e.length<=t?e:e.substring(0,t);return o.length<e.length&&(o=o.substr(0,o.lastIndexOf(n))+(i||"")),o},parseURL:function(e){var t,n,i,o={},r=0,s=0;if(null==e||0==e.length)return o;switch(-1!=e.indexOf("://")?s=(r=e.indexOf("://"))+3:e.startsWith("tel:")&&(s=(r=3)+1),o.protocol=e.substr(0,r),n=-1==(n=(t=e.substr(s,e.length)).indexOf("/"))?t.length:n,o.domain=t.substr(0,n),o.path=-1==n||n+1==t.length?null:t.substr(n+1,t.length),(i=o.domain.split(".")).length){case 2:o.subdomain=null,o.host=i[0],o.tld=i[1];break;case 3:o.subdomain=i[0],o.host=i[1],o.tld=i[2];break;case 4:o.subdomain=i[0],o.host=i[1],o.tld=i[2]+"."+i[3]}return o.parent_domain=o.host+"."+o.tld,o}}),utils.$create("array",{clone:function(e,t){var n,i,o=[],r=this.$root;for(n=0,i=e.length;n<i;n++)t&&/object|array/.test(r.what(e[n]))&&(!this.cloneDepth||this.cloneDepth<10)?(this.cloneDepth||(this.cloneDepth=0),this.cloneDepth++,o[n]="object"==r.what(e[n])?this.$parent.object.clone(e[n],t):this.clone(e[n],t)):o[n]=e[n];return delete this.cloneDepth,o},concat:function(){for(var e=[],t=0,n=arguments.length;t<n;t++)for(var i=0,o=arguments[t].length;i<o;i++)e[e.length]=arguments[t][i];return e},discard:function(e,t){for(var n=e.length-1;n>=0;n--)e[n]==t&&e.splice(n,1);return e},find:function(e,t){for(var n=0,i=e.length;n<i;n++)if(t(e[n]))return e[n];return null},indexOf:function(e,t){for(var n=0,i=e.length;n<i;n++)if(e[n]==t)return n;return-1},insertionSort:function(e,t,n){var i,o,r;for(i=1;i<e.length;i++){for(r=e[i],o=i-1;o>=0&&(n?e[o][t]>r[t]:e[o][t]<r[t]);)e[o+1]=e[o],o--;e[o+1]=r}},map:function(e,t){for(var n=0,i=e.length,o=[];n<i;n++)o[n]=t(e[n]);return o},push:function(){if(!(arguments.length<2)){for(var e=arguments[0],t=1;t<arguments.length;t++)e[e.length]=arguments[t];return e}},range:function(e,t){var n,i=[],o=this.$root.what;if("number"==o(e)&&"number"==o(t)&&e<=t)for(n=e;n<=t;n++)i[i.length]=n;return i},sum:function(e){var t,n,i=0,o=this.$root.what;for(t=0,n=e.length;t<n;t++)"number"==o(e[t])&&(i+=e[t]);return i},times:function(e,t){var n,i=this.range(1,t);for(n=0;n<t;n++)i[n]=e;return i},toObject:function(e,t,n){if(!e)return t;var i,o,r,s=this.$root.what;"array"!=s(e)&&(e=[e]),t||(t={});for(var a=0,d=e.length;a<d;a++)(o="string"==s(i=e[a])?i:null!=i&&"function"==s(i.toString)?i.toString():null)&&(r="undefined"==s(n)?o:"function"==s(n)?n(o):n,t[o]=r);return t},uniq:function(e){var t,n;for(t=0;t<e.length-1;t++)for(n=t+1;n<e.length;n++)e[t]===e[n]&&(e.splice(n,1),n--);return e}}),utils.$create("object",{clean:function(e){var t,n,i={},o=this.$root.what;for(t in e)"undefined"!=o(n=e[t])&&""!==n&&null!==n&&(i[t]=e[t]);return i},clone:function(e,t){var n,i={},o=this.$root;for(n in e)t&&/object|array/.test(o.what(e[n]))&&(!this.cloneDepth||this.cloneDepth<10)?(this.cloneDepth||(this.cloneDepth=0),this.cloneDepth++,i[n]="object"==o.what(e[n])?this.clone(e[n],t):this.$parent.array.clone(e[n],t)):i[n]=e[n];return delete this.cloneDepth,i},extend:function(){if(arguments.length<2)return arguments.length?arguments[0]:{};var e,t,n,i,o=this.$root,r=arguments[0];if("object"!=o.what(r))return r;for(t=1,n=arguments.length;t<n;t++)if(i=arguments[t],"object"==o.what(i))for(e in i)r[e]=i[e];return r},hasKey:function(e,t){t instanceof Array||(t=[t]);for(var n=0,i=t.length,o=this.$root.what;n<i;n++)if("undefined"!=o(e[t[n]]))return!0;return!1},keys:function(e){var t=[];for(var n in e)t[t.length]=n;return t},map:function(e,t){var n,i={};for(n in e)i[n]=t(e[n]);return i},renameProperty:function(e,t,n){"undefined"!=this.$root.what(e[t])&&(e[n]=e[t],delete e[t])},stringify:function(e,t){var n,i,o,r,s=this.$root,a=s.what(e),d=s.utils.array.push,l=this.stringify;if(t||(t=1),t>10)n='"Exceeded max depth of 10 levels."';else if("undefined"==a)n="undefined";else if("number"==a||"boolean"==a)n=e;else if("string"==a)n=['"',e.replace(/"/g,'\\"'),'"'].join("");else if("function"==a)n='"[Function]"';else if("array"==a){for(n=["["],i=0,o=e.length;i<o;i++)d(n,l.call(this,e[i],t+1),",");n.length>1&&n.pop(),d(n,"]"),n=n.join("")}else if(null===e)n="null";else if("object"==a){for(r in n=["{"],e)d(n,'"',r.replace(/"/g,'\\"'),'":',l.call(this,e[r],t+1),",");n.length>1&&n.pop(),d(n,"}"),n=n.join("")}return n},toQueryString:function(e,t){var n,i,o=[],r=this.$parent.array.push;for(n in e)t?(n=encodeURIComponent(n),i=encodeURIComponent(e[n])):i=e[n],r(o,o.length?"&":"?",n,"=",i);return o.join("")},values:function(e){var t=[];for(var n in e)t[t.length]=e[n];return t},join:function(e,t){var n="";for(var i in e)n+=i+":"+e[i]+t;return"~"==n.substr(n.length-1)&&(n=n.substring(0,n.length-1)),n},size:function(e){var t,n=0;for(t in e)n++;return n}}),utils.$create("date",{now:function(){return(new Date).getTime()},int2str:function(e){var t=new Date(e),n=this.$parent.string.lpad;return[t.getFullYear(),"-",n(t.getMonth()+1,2),"-",n(t.getDate(),2)," ",n(t.getHours(),2),":",n(t.getMinutes(),2),":",n(t.getSeconds(),2),".",n(t.getMilliseconds(),3)].join("")}}),utils.$create("timer",{start:function(e){var t=this.$root.utils.date.now();return this.times[e]={start:t},t},stop:function(e){var t=this.$root,n=this.times[e];return n&&n.start?(n.stop=t.utils.date.now(),n.delta=n.stop-n.start,n.delta):(t.logger.warn(['Trying to stop timer "',e,'" which does not exist.'].join(""),this.stop),0)},delta:function(e){var t=this.times[e];return t&&t.delta?t.delta:0},poll:function(e){var t=this.times[e];return t&&t.start?(t.stop||this.$root.utils.date.now())-t.start:0},clear:function(e){delete this.times[e]}},{times:{}}),utils.$create("cookie",{afterWWWi:"www"==window.location.hostname.split(".")[0]?4:0,set:function(e,t,n){n=n?"; expires="+("date"==this.$root.what(n)?n.toUTCString():new Date((new Date).getTime()+1e3*n).toUTCString()):"";var i="; domain="+location.hostname.substr(this.afterWWWi,location.hostname.length);return document.cookie=[e,"=",encodeURIComponent(t),n,i,"; path=/"].join(""),!0},has:function(e){return this.$parent.array.indexOf(this.$parent.array.map(document.cookie.split(/;\s*/),(function(e){return e.split("=")[0]})),e)>-1},remove:function(e){var t="; domain="+location.hostname.substr(this.afterWWWi,location.hostname.length);return document.cookie=[e,"=;expires=",new Date((new Date).getTime()-6e4).toUTCString(),t,"; path=/"].join(""),!0},get:function(e){var t={};return this.$parent.array.map(document.cookie.split(/;\s*/),(function(e){var n=e.split("=");return t[n[0]]=n[1],null})),decodeURIComponent(t[e])||null},getCCP:function(){var e=this.get("usprivacy");if("undefined"!=e)return e}}),utils.$create("storage",{setExpireDate:function(e,t){var n=JSON.parse(localStorage.getItem(e));n.ed=t,localStorage.setItem(e,JSON.stringify(n))},passedExpireDate:function(e){try{var t=JSON.parse(localStorage.getItem(e)),n=(new Date).getTime();return!!(t&&t.ed<n)}catch(e){return}}}),utils.$create("base64",{init:function(e){if(!this.reverseBase64Chars){this.reverseBase64Chars={};for(var t=0,n=this.base64Chars.length;t<n;t++)this.reverseBase64Chars[this.base64Chars[t]]=t}this.base64Str=e,this.base64Count=0},readBase64:function(){if(!this.base64Str)return this.EOI;if(this.base64Count>=this.base64Str.length)return this.EOI;var e=255&this.base64Str.charCodeAt(this.base64Count);return this.base64Count++,e},encodeBase64:function(e){this.init(e);for(var t="",n=new Array(3),i=0,o=!1;!o&&(n[0]=this.readBase64())!=this.EOI;)n[1]=this.readBase64(),n[2]=this.readBase64(),t+=this.base64Chars[n[0]>>2],n[1]!=this.EOI?(t+=this.base64Chars[n[0]<<4&48|n[1]>>4],n[2]!=this.EOI?(t+=this.base64Chars[n[1]<<2&60|n[2]>>6],t+=this.base64Chars[63&n[2]]):(t+=this.base64Chars[n[1]<<2&60],t+="=",o=!0)):(t+=this.base64Chars[n[0]<<4&48],t+="=",t+="=",o=!0),(i+=4)>=76&&(t+="\n",i=0);return t},readReverseBase64:function(){if(!this.base64Str)return this.EOI;for(;;){if(this.base64Count>=this.base64Str.length)return this.EOI;var e=this.base64Str.charAt(this.base64Count);if(this.base64Count++,this.reverseBase64Chars[e])return this.reverseBase64Chars[e];if("A"==e)return 0}},ntos:function(e){return 1==(e=e.toString(16)).length&&(e="0"+e),e="%"+e,unescape(e)},decodeBase64:function(e){this.init(e);for(var t="",n=new Array(4),i=!1;!i&&(n[0]=this.readReverseBase64())!=this.EOI&&(n[1]=this.readReverseBase64())!=this.EOI;)n[2]=this.readReverseBase64(),n[3]=this.readReverseBase64(),t+=this.ntos(n[0]<<2&255|n[1]>>4),n[2]!=this.EOI?(t+=this.ntos(n[1]<<4&255|n[2]>>2),n[3]!=this.EOI?t+=this.ntos(n[2]<<6&255|n[3]):i=!0):i=!0;return t}},{EOI:-1,base64Chars:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),reverseBase64Chars:null,base64Str:"",base64Count:0}),utils.$create("dom",{createDOMFragment:function(e){var t,n,i,o,r,s=this.$root;if(e.tag){var a=e.tag.toLowerCase();if(t=document.createElement(a),"input"==a&&(t.type=e.type||"text"),e.id&&(t.id=e.id),e.cls&&(t.className=e.cls),e.style&&this.element.setStyle(t,e.style),e.attributes)for(n in e.attributes)t.setAttribute(n,e.attributes[n]);if("undefined"!=s.what(e.value)&&(t.value=e.value),"undefined"!=s.what(e.innerHTML)&&(t.innerHTML=e.innerHTML),e.events)for(n in e.events)s.event.dom.bind(t,{event:n,listener:e.events[n]})}else{if(!e.isTextNode||"undefined"==s.what(e.value))return null;t=document.createTextNode(e.value)}if(e.isChild&&(t=e.parent.appendChild(t)),e.tag&&e.children)for("array"!=s.what(e.children)&&(e.children=[e.children]),i=0,o=e.children.length;i<o;i++)r=e.children[i],s.utils.object.extend(r,{isChild:!0,parent:t}),this.createDOMFragment(r);else if(e.tag&&e.childNodes)for(i=0,o=e.childNodes.length;i<o;i++)t.appendChild(e.childNodes[i]);if(!e.isChild&&e.parent){var d="string"==s.what(e.parent)?this.element.$(e.parent):e.parent;e.overwrite&&(d.innerHTML=""),e.before?d.insertBefore(t,e.before):e.after?this.element.insertAfter(t,e.after):d.appendChild(t)}return t},createIframe:function(e){var t=this.createDOMFragment(e);t.src=e.src,t.sandbox=e.sandbox},filterByClass:function(e,t,n){var i=$root.helpers;return this._filterByClass||(document.getElementsByClassName&&i.isNative(document.getElementsByClassName)?this._filterByClass=function(e,t,n){var i=(n&&n.getElementsByClassName?n:document).getElementsByClassName(e),o=[];t=t?t.toLowerCase():null;for(var r=0,s=i.length;r<s;r++)t&&i[r].tagName.toLowerCase()!=t||(o[o.length]=i[r]);return o}:document.evaluate&&i.isNative(document.evaluate)?this._filterByClass=function(e,t,n){t=t||"*",n=n||document;for(var i,o,r=e.split(" "),s="",a="http://www.w3.org/1999/xhtml",d=document.documentElement.namespaceURI===a?a:null,l=[],c=0,u=r.length;c<u;c++)s+="[contains(concat(' ', @class, ' '), ' "+r[c]+" ')]";try{i=document.evaluate(".//"+t+s,n,d,0,null)}catch(e){i=document.evaluate(".//"+t+s,n,null,0,null)}for(;o=i.iterateNext();)l[l.length]=o;return l}:this._filterByClass=function(e,t,n){t=t||"*",n=n||document;for(var i,o,r=e.split(" "),s=[],a="*"===t&&n.all?n.all:n.getElementsByTagName(t),d=[],l=0,c=r.length;l<c;l++)s[s.length]=new RegExp("(^|\\s)"+r[l]+"(\\s|$)");for(var u=0,h=a.length;u<h;u++){i=a[u],o=!1;for(var m=0,g=s.length;m<g&&(o=s[m].test(i.className));m++);o&&(d[d.length]=i)}return d}),this._filterByClass(e,t,n)},findWidestNode:function(){var e,t,n,i,o,r=document.body,s=this.$root,a=s.utils.dom,d=a.element,l=0,c=null;for(e=0,t=r.childNodes.length;e<t;e++)(n=r.childNodes[e]).nodeType==s.settings.nodeTypes.ELEMENT&&d.isVisible(n)&&(i=d.getActualWidth(n),o=d.getActualHeight(n),i>l&&o>50&&(l=i,c={node:n,width:i,height:o}));return c||(c={node:r,width:a.document.getWidth(),height:a.document.getHeight()}),c},isChild:function(e,t){return"function"==$root.what(e.contains)?e.contains(t):16==e.compareDocumentPosition(t)||void 0},getScale:function(e){var t=this.screenAvailDimensions.getWidth(),n=this.innerDimensions.getWidth();return e&&-1!=e?Math.min(t/e,1):n/t},innerDimensions:{getHeight:function(){return"p"!=this.$root.browser.getDevice()?window.innerHeight:utils.dom.viewportFixed.getHeight()},getWidth:function(){return"p"!=this.$root.browser.getDevice()?window.innerWidth:utils.dom.viewportFixed.getWidth()}},screenAvailDimensions:{getMultiplier:function(){var e=this.$root.browser.ua,t=-1!=e.indexOf("Android"),n=-1!=e.indexOf("AppleWebKit"),i=-1!=e.indexOf("Version"),o=-1!=e.indexOf("Safari"),r=-1!=e.indexOf("Mobile"),s=-1==e.indexOf("Chrome");return t&&n&&i&&(o||r)&&s&&window.devicePixelRatio||1},getHeight:function(){var e=_typeof(window.screen)==Screen?window.screen.availWidth:window.innerWidth,t=_typeof(window.screen)==Screen?window.screen.availHeight:window.innerHeight;return e>t?Math.max(t,e)/this.getMultiplier():Math.min(t,e)/this.getMultiplier()},getWidth:function(){var e=_typeof(window.screen)==Screen?window.screen.availWidth:window.innerWidth,t=_typeof(window.screen)==Screen?window.screen.availHeight:window.innerHeight;return e>t?Math.min(t,e)/this.getMultiplier():Math.max(t,e)/this.getMultiplier()}}}),utils.dom.$create("element",{$:function(e){return document.getElementById(e)},getActualWidth:function(e){var t=this.getStyle(e,"width"),n=parseInt(t,10);return!isNaN(n)&&n>0&&t.match(/px/)?n:e.clientWidth||e.offsetWidth},getActualHeight:function(e){var t=this.getStyle(e,"height"),n=parseInt(t,10);return!isNaN(n)&&n>0&&t.match(/px/)?n:e.clientHeight||e.offsetHeight},getStyle:function(e,t){var n=document.defaultView,i=e.currentStyle||(n&&n.getComputedStyle?n.getComputedStyle(e,null):null)||e.style;return t&&i?i[t]:i},getActualWidthFixed:function(e){var t=this.getStyleFixed(e,"width"),n=parseInt(t,10);return!isNaN(n)&&n>0&&t.match(/px/)?n:e.clientWidth||e.offsetWidth},getActualHeightFixed:function(e){var t=this.getStyleFixed(e,"height"),n=parseInt(t,10);return!isNaN(n)&&n>0&&t.match(/px/)?n:e.clientHeight||e.offsetHeight},getStyleFixed:function(e,t){var n=window,i=(n&&n.getComputedStyle?n.getComputedStyle(e,null):null)||e.currentStyle||e.style;return t&&i?i[t]:i},inHierarchy:function(e,t){do{if(e==t)return!0;e=e.parentNode}while(e);return!1},insertAfter:function(e,t){var n=t.parentNode;return t.nextSibling?n.insertBefore(e,t.nextSibling):n.appendChild(e)},isOnViewport:function(e,t){var n=this.$parent.viewport.getHeight(),i=this.offset(e).top,o=this.getActualHeight(e)+i,r=t||0;return!!this.isVisible(e)&&(o+r<n?100:i+r<n?(n-(i+r))/(o-i)*100:0)},isVisible:function(e){if(!e)return!1;for(;e&&e.tagName&&"body"!=e.tagName.toLowerCase();){var t=this.getStyle(e);if("none"==t.display||"hidden"==t.visibility)return!1;e=e.parentNode}return!0},offset:function(e,t){var n,i=0,o=0,r=this.$root,s=r.utils.dom,a=s.element,d=r.browser,l=document.body||document.documentElement,c="position",u="absolute",h="borderLeftWidth",m="borderTopWidth";if(t||(t=l),e==t)return{left:0,top:0};if(e.getBoundingClientRect&&!t){var g=e.getBoundingClientRect(),p=s.document.getScrollTop(),f=s.document.getScrollLeft();return{left:parseInt(g.left+f,10),top:parseInt(g.top+p,10)}}var v=a.getStyle(e,c)==u;for(n=e;n&&n!=t;){if(i+=n.offsetLeft,o+=n.offsetTop,v||a.getStyle(n,c)!=u||(v=!0),d.Firefox){var b=parseInt(a.getStyle(n,h),10)||0,w=parseInt(a.getStyle(n,m),10)||0;i+=b,o+=w,n!=e&&"visible"!=a.getStyle(n,"overflow")&&(i+=b,o+=w)}n=n.offsetParent}for(d.Safari&&v&&(i-=l.offsetLeft,o-=l.offsetTop),d.Firefox&&!v&&(i+=parseInt(a.getStyle(l,h),10)||0,o+=parseInt(a.getStyle(l,m),10)||0),n=e.parentNode;n&&n!=t;)(!d.Opera||"tr"!=n.tagName.toLowerCase()&&"inline"!=a.getStyle(n,"display"))&&(i-=n.scrollLeft,o-=n.scrollTop),n=n.parentNode;var y=a.getStyle(l);return t==l&&y.position==u&&y.left&&(i-=parseInt(y.left,10)||0),{left:parseInt(i,10),top:parseInt(o,10)}},setStyle:function(e,t){var n,i=this.$root.browser;if(!e)return null;for(n in t||(t={}),t)null!=t[n]&&("opacity"!=n&&"cssFloat"!=n||!i.IE?e.style[n]=t[n]:("opacity"==n&&(e.style.filter="alpha(opacity="+Math.ceil(100*parseFloat(t[n]))+")"),"cssFloat"==n&&(e.style.styleFloat=t[n])));return e},getData:function(e,t){return e.dataset?e.dataset[t]:e.getAttribute("data-"+t)},setData:function(e,t,n){e.dataset?e.dataset[t]=n:e.setAttribute("data-"+t,n)},hasStyleTransformation:function(e){for(var t,n=this.$root.browser,i=n.Firefox?"MozTransform":n.Chrome||n.Safari?"WebkitTransform":n.IE?"zoom":n.Opera?"OTransform":null;e&&"html"!=e.tagName.toLowerCase();){if((t=this.getStyle(e)).transform&&"none"!=t.transform||i&&t[i]&&t[i]!=(n.IE?"normal":"none"))return!0;e=e.parentNode}return!1}}),utils.dom.$create("document",{getHeight:function(){var e=document.body,t=document.documentElement;return Math.max(e.scrollHeight,e.offsetHeight,t.clientHeight,t.scrollHeight,t.offsetHeight)},getWidth:function(){var e=document,t="clientWidth";return Math.max(e.documentElement[t],e.body[t])||0},getScrollTop:function(){var e=document,t="scrollTop";return window.pageYOffset||e.documentElement[t]||e.body[t]||0},getScrollLeft:function(){var e=document,t="scrollLeft";return window.pageXOffset||e.documentElement[t]||e.body[t]||0}}),utils.dom.$create("viewport",{getHeight:function(){var e=this.$root;if("p"==e.browser.getDevice())return e.utils.dom.viewportFixed.getHeight();var t=document,n=t.documentElement,i="clientHeight";return window.innerHeight||n&&(n[i]||t.body[i])||0},getWidth:function(){var e=this.$root;if("p"==e.browser.getDevice())return e.utils.dom.viewportFixed.getWidth();var t=document,n=t.documentElement,i="clientWidth";return window.innerWidth||n&&(n[i]||t.body[i])||0}}),utils.dom.$create("viewportFixed",{getHeight:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];n.clientHeight||e.innerHeight||i.clientHeight;return e.innerHeight&&n.clientHeight?Math.min(e.innerHeight,n.clientHeight):e.innerHeight||n.clientHeight||i.clientHeight},getWidth:function(){var e=window,t=document,n=t.documentElement,i=t.getElementsByTagName("body")[0];n.clientWidth||e.innerWidth||i.clientWidth;return e.innerWidth&&n.clientWidth?Math.min(e.innerWidth,n.clientWidth):e.innerWidth||n.clientWidth||i.clientWidth}}),utils.dom.$create("style",{getStylesheet:function(){var e=this.$root.settings;if(e.stylesheet)return e.stylesheet;var t=document.getElementsByTagName("head");t=t.length?t[0]:document.body;var n=document.createElement("style");return n.type="text/css",e.stylesheet=t.appendChild(n)},addRule:function(e,t){var n=this.getStylesheet();n.styleSheet&&n.styleSheet.addRule?n.styleSheet.addRule(e,t):n.sheet&&n.sheet.insertRule&&n.sheet.insertRule([e,"{",t,"}"].join(""),n.sheet.cssRules?n.sheet.cssRules.length:0)},addClass:function(e,t){var n=this.$root.utils.array,i=e.className.split(/\s+/);-1==n.indexOf(i,t)&&n.push(i,t),e.className=i.join(" ")},removeClass:function(e,t){var n=e.className.split(/\s+/);this.$root.utils.array.discard(n,t),e.className=n.join(" ")},buildHookUnderlineCSS:function(e,t,n){var i="border-bottom:",o="text-decoration:",r="none",s="underline",a=n?" !important;":";";switch(e){case"single":return[i,"0 ",r,a,o,s,a].join("");case"dotted":return[i,(this.$root.comm.settings.responses.impression.uw||1)+"px dotted ",t,a,o,r,a].join("");case"dashed":return[i,"1px dashed ",t,a,o,r,a].join("");case"none":return[i,"0 ",r,a,o,r,a].join("");default:return[i,(this.$root.comm.settings.responses.impression.uw||1)+"px solid ",t,a,o,s,a].join("")}},buildBorderRadius:function(e){var t=this.$root.what,n=document.body.style,i="border-radius:"+e+";";return"string"==t(n.borderRadius)?i:"string"==t(n.MozBorderRadius)?"-moz-"+i:"string"==t(n.WebkitBorderRadius)?"-webkit-"+i:""},buildBoxShadow:function(e){var t=this.$root,n=t.what,i=t.browser,o=document.body.style,r="box-shadow:"+e+";";return"string"==n(o.boxShadow)?r:"string"==n(o.MozBoxShadow)?"-moz-"+r:"string"!=n(o.WebkitBoxShadow)||i.Safari&&!parseFloat(i.AppleWebKit>=533)?"":"-webkit-"+r},buildTextShadow:function(e){var t=this.$root.what,n=document.body.style,i="text-shadow:"+e+";";return"string"==t(n.textShadow)?i:"string"==t(n.MozTextShadow)?"-moz-"+i:"string"==t(n.WebkitTextShadow)?"-webkit-"+i:""},buildGradient:function(e,t){var n,i,o=this.$root,r=o.browser,s=r.getName(),a=r.getVersion(!0),d=t?"":";",l={Firefox:{v:3.6,p:"-moz"},Chrome:{v:1,p:"-webkit"},IE:{v:10,p:"-ms"},Safari:{v:4,p:"-webkit"},Opera:{v:11.1,p:"-o"}};return e&&("string"==o.what(e)||!l[s]||a<l[s].v)?("array"==o.what(e)&&(e=e[1]),[t?"":"background-color:",e,d].join("")):!e||"array"!=o.what(e)||e.length<3?"":(i="circle"==(n=e[0])?"radial":"linear","Safari"==s&&a<5.1||"Chrome"==s&&a<10?"linear"==i?[t?"":"background-image:"," -webkit-gradient(linear, left top, right top, from(",e[1],"), to(",e[e.length-1],"))",d].join(""):[t?"":"background-image:"," -webkit-gradient(radial, center center, 0, center center, 300, from(",e[1],"), to(",e[e.length-1],"))",d].join(""):[t?"":"background-image:",l[s].p,"-",i,"-gradient(",n,",",e.slice(1).join(","),")",d].join(""))},getCssProp:function(e,t){if(window.getComputedStyle&&document.defaultView.getComputedStyle(e,null))var n=parseInt(document.defaultView.getComputedStyle(e,null).getPropertyValue(t));else if(e.currentStyle)n=parseInt(e.currentStyle[t]);return n},supports:function(e){var t=this.$root.what,n=document.body.style,i=this.$root.browser,o="string",r="Moz",s="Webkit",a=e.charAt(0).toUpperCase()+e.substr(1);switch(e){case"borderRadius":case"textShadow":return t(n[e])==o?e:t(n[r+a])==o?r+a:t(n[s+a])==o&&s+a;case"boxShadow":return t(n[e])==o?e:t(n[r+a])==o?r+a:!(t(n[s+a])!=o||i.Safari&&!parseFloat(i.AppleWebKit>=533))&&s+a;default:return!1}}}),utils.dom.$create("event",{disableEventBubbling:function(e,t){e.addEventListener?e.addEventListener(t,this.stop,!1):e.attachEvent&&e.attachEvent("on"+t,this.stop)},stop:function(e){e.cancelBubble=!0,e.returnValue=!1,e.stopImmediatePropagation&&e.stopImmediatePropagation(),e.preventDefault&&e.preventDefault(),e.stopPropagation&&e.stopPropagation()}}),$root.$create("helpers",{getVar:function(e,t,n){var i=this.$root,o=i.settings.white_label,r="infolink",s=r+"s",a="undefined",d=this.$root.what,l=i.utils,c=i.utils.string,u=null;if(r+="_",s+="_",location.search&&c.toObject(location.search)&&(u=c.toObject(location.search)["il."+e]||null),!u&&!n){var h=c.toObject(l.cookie.get("il.params"));h&&"undefined"!=h&&(u=h["il."+e])}return u||(u=o&&d(window[o+"_"+e])!=a?window[o+"_"+e]:d(window[s+e])!=a?window[s+e]:d(window[r+e])!=a?window[r+e]:null),t&&(t[e]=u),this.isGSF()&&(u=window.infolinks_config[e]),u},setVar:function(e,t){var n=this.$root.settings.white_label,i="undefined",o=this.$root.what;o(t)!=i&&(window[(o(n)!=i?n:"infolinks_")+e]=t)},isGSF:function(){return!(!window.$sf||!window.$sf.ext||"function"!=typeof window.$sf.ext.status)},getSafeFrameLocation:function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t="data-jcp-attribution-data",n=document.querySelector("script["+t+"]");if(n){var i=JSON.parse(n.getAttribute(t)).flat().find((function(e){return"string"==typeof e&&e.includes(document.referrer)})),o=decodeURIComponent(new URLSearchParams(i).get("q")),r=new URLSearchParams(o.split("?")[1]);return e?r.get("url").match(/^https?:\/\/([^\/]+\.com)/)[1]:r.get("url")}return e?window.document.referrer.match(/^https?:\/\/([^\/]+\.com)/)[1]:window.document.referrer},isTabActive:function(){return"visible"===document.visibilityState},initAlgoBehaviors:function(e,t){var n;for(n in t)e[n]||(e[n]=t[n])},buildImpPageMarginsParam:function(){var e=this.$root.settings.inFrameSettings,t=e.width,n=e.margins=this.getPageMargins(),i=this.$root.comm.settings.responses.gsd.wd,o=this.$root.utils.dom.viewport.getWidth();return i&&(i.offset&&(e.offset=parseInt(i.offset)),i.contentWidth&&i.contentWidth>-1&&(e.contentWidth=parseInt(i.contentWidth),e.contentWidth+2*t.wide<o?e.showW=!0:e.contentWidth+2*t.thin<o&&(e.showT=!0)),i.absPos&&(e.absPos=i.absPos)),[e.showW?"w":e.showT?"t":n.left>t.thin?n.left>t.wide?"w":"t":"",e.showW?"w":e.showT?"t":n.right>t.thin?n.right>t.wide?"w":"t":""].join("*").replace(/^\*$/,"")},getPageMargins:function(){var e=this.$root,t=e.settings.inFrameSettings,n=e.utils.dom,i=n.findWidestNode(),o={left:0,right:0};if(i&&i.node!=document.body){var r=n.element.offset(i.node),s=n.element.getActualWidth(i.node),a=n.document.getWidth();o={left:r.left-t.buffer,right:a-s-r.left-2*t.buffer}}return o},chanceIntegration:function(){var e=this.getVar("percentage");if(e&&(e=e>100?100:e<0?0:e,100*Math.random()>e)){var t;try{t=this.searchForIntegrationComment(document.body)}catch(e){t=null}if(t){var n=t.data;"complete"==document.readyState||this.getVar("ddw")||document.write(n.substring(14,n.length))}return this.$root.logger.log("Stopping on unlucky chance integration.",this.chanceIntegration),!0}return!1},searchForIntegrationComment:function(e){switch(e.nodeType){case 1:case 9:for(var t=0,n=e.childNodes.length;t<n;t++){var i=this.searchForIntegrationComment(e.childNodes[t]);if(i)return i}return null;case 8:return e.data.length>15&&"IL_INTEGRATION"==e.data.substr(0,14)?e:null;default:return null}},IsCommentExist:function(e,t){switch(e.nodeType){case 1:case 9:for(var n=0,i=e.childNodes.length;n<i;n++){var o=this.IsCommentExist(e.childNodes[n],t);if(o)return o}return null;case 8:return-1!=e.data.indexOf(t)||null;default:return null}},isSupportedClient:function(){var e=this.$root,t=e.browser,n=e.settings.supportedClients[t.getName()];return n&&parseFloat(t.getVersion(!0))>=n},setHosts:function(){var e,t,n,i,o=this.$root,r="",s=o.settings,a=s.hosts,d=document.getElementsByTagName("script"),l=o.helpers.getVar("resources");if(window.$iceboot?(s.boot=window.$iceboot,n=o.version=s.boot.version,i=/\/infolinks_main\.js$/):i=new RegExp("/"+$ice.versionFile+".js$"),l)e=(l=l.replace(/^\w+:\/\//,"")).substring(0,l.indexOf("/")),r=l.substring(l.indexOf("/"))+"/";else for(var c=0,u=d.length;c<u;c++)if(null!=d[c].src.match(i)){if(e=(t=d[c].src.replace(/^\w+:\/\//,"")).replace(/\/.*/,""),r=t.substring(t.indexOf("/"),t.lastIndexOf("/")+1),!n){var h=r.split("/");o.version=h[h.length-2]}break}e?a.resources=e:(a.resources=a.resourcesDefault,r=a.scriptDefaultPath),a.router=o.utils.string.toObject(location.search,"il.mt")||o.helpers.getVar("metro_server")||a.resources.replace(/\bresources\b/,"router"),a.thumbnails=a.resources.replace(/\bresources\b/,"thumbnails"),a.protocol=o.settings.protocol,n&&(r+=n),r&&"/"!=r.charAt(r.length-1)&&(r+="/"),a.scriptPath=r,-1!=r.indexOf("/src/")&&(a.src=!0)},validateProtocol:function(e){var t=$root.utils;return e&&!t.string.parseURL(e).protocol?"http://"+e:e},getCustomerId:function(){var e=this.$root,t=e.helpers;e.settings.$extend({customerId:t.getVar("cid")||t.getVar("pid")||"null",websiteId:t.getVar("wsid")||0,dfpSlot:t.getVar("dfp_slot"),customerUrl:document.location.href})},setDefaultWebsiteDirectives:function(e){var t,n=this.$root,i={ht:!0,qmin:1,ha:null,hd:null};for(t in e.wd||(e.wd={}),i)"undefined"==n.what(e.wd[t])&&(e.wd[t]=i[t])},getReferrer:function(){var e,t=this.$root,n=document.referrer,i={ref:"",refq:""},o=t.utils,r=o.string,s=o.cookie.has("refc"),a=o.string.toObject(location.search,"il.sq"),d=o.base64.decodeBase64("Lmdvb2dsZS4="),l=o.base64.decodeBase64("d3d3Lmdvb2dsZS5jb20=");if(a)return i={refq:decodeURIComponent(a),ref:l},o.object.extend(t.settings,i),i;if(n){if(-1!=n.indexOf(d)&&n.match(/\/cse/))return i;if(-1!=(e=n.indexOf("?"))){try{var c=r.toObject(n.substring(e+1))||{};i.refq=r.truncate(r.trim(decodeURIComponent((c.q||c.p||"").replace(/\+/g," "))),100,""),i.ref=n.substring(0,e)}catch(e){t.logger.error("Error reading referrer.",this.getReferrer)}"p"!=!t.browser.getDevice()||-1==n.indexOf(d)||!/\/(url|imgres|search|cse)/.test(n.substring(n.indexOf("/")))||c&&c.adurl||(i.ose=1)}else s||(i.ref=n);i.ref=r.truncate(i.ref.replace(/^\w+:\/\//,""),100,""),i.refq&&!s&&o.cookie.set("refc",o.object.toQueryString(i),60)}!i.refq&&s&&o.object.extend(i,r.toObject(o.cookie.get("refc")||""));var u=t.helpers.getVar("search_query");return u&&(i.refq=u,i.ose&&delete i.ose,i.ref||(i.ref=l)),o.object.extend(t.settings,i),i},normalizeText:function(e){var t="|";e=(e=e.replace(/\.|:|;|<|>|=|\?|\(|\)|\[|\]|\{|\}|,|"|\x201C|\x201D|\x96|\x97|\\|\//g,t)).replace(/['`\-]\W/g,t).replace(/\W['`\-]/g,t);var n=new RegExp("\\s*\\|+\\s*","g"),i=new RegExp("\\|{2,}","g");return e=(e=e.replace(n,t).replace(i,t)).toLowerCase().replace(/\|/g,"P").replace(/\s/g,"S").replace(/\./g,"D").replace(/'/g,"Q").replace(/\$/g,"M").replace(/\+/g,"A")},countWords:function(e){var t=new RegExp("P|S","g"),n=e.match(t);return null!=n?n.length+1:0},getMetaContent:function(e,t){for(var n=document.getElementsByTagName("meta"),i=0,o=n.length;i<o;i++)if(n[i].name&&n[i].name.toLowerCase()==e&&n[i].content)return this.normalizeText(this.$root.utils.string.truncateToChar(n[i].content,1024*t," "));return""},getTagTexts:function(e,t,n){var i,o,r,s,a,d,l=this.$root,c=l.utils,u=c.string,h=c.array,m=[],g=!1,p=0,f=l.settings.textLimits.merged,v=0;for("array"!=l.what(e)&&(e=[e]),o=0,r=e.length;o<r;o++){for(s=0,a=(i=document.getElementsByTagName(e[o])).length;s<a;s++)if(d="text"==t?i[s].textContent||i[s].innerText||"":"alt"==t?i[s].alt:""){if(v++,p+(d=u.truncateToChar(d,f[n].i," ")).length>1024*f[n].t||v>=20){g=!0;break}h.push(m,d),p+=d.length}if(g)break}return this.normalizeText(m.join("|"))},setNativeAppParams:function(e){var t=$root,n=t.settings,i=t.helpers;if(e)e&&"object"==t.what(e)&&(n.nativeAppParams=this.secureInput(e));else{var o=i.getVar("nativeAppParams");o&&"object"==t.what(o)&&(n.nativeAppParams=this.secureInput(o))}},usePercentages:function(e){var t,n=$root.utils,i=0,o=[];for(var r in"string"==$root.what(e)&&(e=n.string.stringToObject(e)),e)e[r]=parseFloat(e[r]),isNaN(e[r])?delete e[r]:i+=e[r];for(var r in e){if(e[r]=parseFloat(e[r]),t=e[r]/i,o[r]=t,Math.random()<=o[r])return r;i-=e[r]}},secureInput:function(e){var t=$root,n=t.settings,i=0,o={};if(t.utils.object.size(e)>n.appParamLimits)for(var r in e){if(!(i<n.appParamLimits))break;o[r]=e[r],i++}else o=e;for(var r in o)o[r].length>n.paramCharLimit&&delete o[r];return o},checkForAttrToRemove:function(e,t,n){var i,o,r,s=$root,a=s.utils,d=s.settings,l=new Date;if(n.capExp||(n.capExp=365),o=new Date(l.setDate(l.getDate()+n.capExp)),n.prodvw&&(i=n.prodvw.split(","),this.removeAttrFromLocalStorage(i,"pv",o)),t){i=t.split(","),r=a.object.size(d.fc);for(var c=0;c<r;c++)i&&i[c]in d.fc&&delete d.fc[i[c]]}e&&(i=e.split(","),this.removeAttrFromLocalStorage(i,"fc",o))},removeAttrFromCookie:function removeAttrFromCookie(attrToRemove,cname,expiration){var rt=$root,capCountObj,capCountObjSize,ut=rt.utils;if(ut.cookie.has(cname)&&attrToRemove){capCountObj=eval("("+ut.cookie.get(cname)+")"),capCountObj=this.handleOldFormat(capCountObj),capCountObjSize=ut.object.size(capCountObj);for(var i=0;i<capCountObjSize;i++)attrToRemove&&attrToRemove[i]in capCountObj&&delete capCountObj[attrToRemove[i]];ut.cookie.set(cname,ut.object.stringify(capCountObj),expiration)}},removeAttrFromLocalStorage:function removeAttrFromLocalStorage(attrToRemove,itemName,expiration){var rt=$root,capCountObj,capCountObjSize,ut=rt.utils;if(null!=localStorage.getItem(itemName)&&attrToRemove){capCountObj=eval("("+localStorage.getItem(itemName)+")"),capCountObj=this.handleOldFormat(capCountObj),capCountObjSize=ut.object.size(capCountObj);for(var i=0;i<capCountObjSize;i++)attrToRemove&&attrToRemove[i]in capCountObj&&delete capCountObj[attrToRemove[i]];localStorage.setItem(itemName,JSON.stringify(capCountObj)),ut.storage.setExpireDate(itemName,new Date(expiration))}},handleOldFormat:function(e){var t,n,i;for(var o in(n=Date.parse(e.expiration)-864e5)>(i=(new Date).getTime())&&(n=i),e)-1==(t=String(e[o])).indexOf(":")&&(e[o]=t+":"+n);return e},saveIncToStorage:function(e,t){var n,i,o,r,s=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=$root,d=a.utils,l={},c=new Date,u=a.comm.settings.responses.impression;u.capExp||(u.capExp=1),i=new Date(c.setDate(c.getDate()+u.capExp)),d.storage.passedExpireDate(t)&&localStorage.removeItem(t),null!=localStorage.getItem(t)?(n=(l=JSON.parse(localStorage.getItem(t))).ed,l[e]?(s?(o=l[e].substring(l[e].lastIndexOf(":")+1),r=parseInt(l[e].split(/[::]/)),r++,l[e]=r+":"+o):l[e]++,localStorage.setItem(t,JSON.stringify(l)),d.storage.setExpireDate(t,new Date(n))):(l[e]=s?"1:"+(new Date).getTime():1,n=l.ed,localStorage.setItem(t,JSON.stringify(l)),d.storage.setExpireDate(t,new Date(n)))):(l[e]=s?"1:"+(new Date).getTime():1,localStorage.setItem(t,JSON.stringify(l)),d.storage.setExpireDate(t,i))},saveFcAndPvToStorage:function(e,t){var n=$root.helpers;n.saveForMsgCap(e,"fc",!0),n.saveForMsgCap(t,"pv",!1)},saveIncToCookie:function saveIncToCookie(value,csName){var rt=$root,ut=rt.utils,capCountObj={},date=new Date,count=[],expiration,imp=rt.comm.settings.responses.impression,itemExp;imp.capExp||(imp.capExp=365),expiration=new Date(date.setDate(date.getDate()+imp.capExp)),ut.cookie.has(csName)?(capCountObj=eval("("+ut.cookie.get(csName)+")"),capCountObj=this.handleOldFormat(capCountObj),capCountObj[value]?(itemExp=capCountObj[value].substring(capCountObj[value].lastIndexOf(":")+1),count=parseInt(capCountObj[value].split(/[::]/)),count++,capCountObj[value]=count+":"+itemExp,ut.cookie.set(csName,ut.object.stringify(capCountObj),expiration)):(capCountObj[value]="1:"+(new Date).getTime(),ut.cookie.set(csName,ut.object.stringify(capCountObj),expiration))):(capCountObj[value]="1:"+(new Date).getTime(),ut.cookie.set(csName,ut.object.stringify(capCountObj),expiration))},saveIncToVar:function(e,t){var n,i,o=$root,r=o.utils,s=o.settings,a={},d=[];s[t]&&(a=s[t])[e]?(i=a[e].substring(a[e].lastIndexOf(":")+1),d=parseInt(a[e].split(/[::]/)),d++,a[e]=d+":"+i,s[t]=a):(a[e]="1:"+(new Date).getTime(),s[t]=a),n=r.object.join(a,"~"),s.msgvwimp=n},saveForMsgCap:function(e,t){try{var n=$root.helpers;"pv"!=t&&n.saveIncToVar(e,t),"fc"!=t&&"pv"!=t?n.saveIncToCookie(e,t):n.saveIncToStorage(e,t,!0)}catch(e){return}},setViews:function setViews(csName,paramName){try{var rt=$root,ut=rt.utils,st=rt.settings,capCountStr,capCountObj,hp=rt.helpers;ut.cookie.has(csName)&&(capCountObj=eval("("+ut.cookie.get(csName)+")"),delete capCountObj.expiration,capCountStr=ut.object.join(capCountObj,"~"),st[paramName]=capCountStr),hp.supportsStorage()&&(ut.storage.passedExpireDate(csName)&&localStorage.removeItem(csName),null!=localStorage.getItem(csName)&&(capCountObj=JSON.parse(localStorage.getItem(csName)),delete capCountObj.ed,capCountStr=ut.object.join(capCountObj,"~"),st[paramName]=capCountStr))}catch(e){return}},processImpressionResponse:function(e){var t,n=this.$root,i=n.helpers;if(!e||"object"!=(void 0===e?"undefined":_typeof(e)))return null;if(e.components){for(t in e.prs={},e.components)t&&"string"==typeof t&&(e.prs[t.charAt(0)]=e.components[t]);delete e.components}try{e.sentences&&"object"==_typeof(e.sentences)&&i.normalizeSentenceLists(e)}catch(t){n.loggly.errorLog(t,"Error normalizing sentence lists",{hasResponse:!!e,hasSentences:!!e.sentences,responseType:void 0===e?"undefined":_typeof(e),sentencesType:_typeof(e.sentences),sentences:e.sentences})}try{e.messages&&i.findMaxBidCount(e)}catch(t){n.loggly.errorLog(t,"Error finding max bid count",{hasMessages:!!e.messages})}return e},runInTag:function(){var e=this.$root,t=e.settings;e.comm.settings.responses.impression.prs.t=t.prs.t,e.event.fire("productRenderStatus",{prod:"t",status:"during"}),e.event.fire("initIntag")},findMaxBidCount:function(e){var t,n,i,o=0;for(t in e.prs)if(n=e.prs[t].messages)for(i in n)n[i].bdc>o&&(o=n[i].bdc);this.$root.settings.bdc=o},normalizeSentenceLists:function(e){var t,n,i,o=this.$root,r=o.utils;if(e&&e.prs&&"object"==_typeof(e.prs)){var s=e.sentences?r.object.keys(e.sentences).length:0;for(t in e.prs)try{if(!e.prs[t]||!e.prs[t].sentences)continue;if(s&&1===e.prs[t].sentences.length&&"ALL"===e.prs[t].sentences[0])e.prs[t].sentences=r.array.range(0,s-1);else if(!Array.isArray(e.prs[t].sentences)){var a=e.prs[t].sentences;for(e.prs[t].sentences=[],n=0,i=a.length;n<i;n++)e.prs[t].sentences[n]=n}}catch(n){o.loggly.errorLog(n,"Error normalizing sentences for product",{product:t,hasProd:!!e.prs[t],hasSentences:!(!e.prs[t]||!e.prs[t].sentences),numOfSentences:s})}}},getCustomerBehavior:function(e){var t,n,i,o=this.$root,r={};function s(){return arguments[1].toUpperCase()}var a=o.utils.string.qw(e);for(n=0,i=a.length;n<i;n++)null!=(t=o.helpers.getVar(a[n]))&&(r[a[n].replace(/_(\w)/g,s)]=t);return r},getImpressionBehavior:function(){var e=this.$root,t=e.settings,n=e.utils.object,i=e.comm.settings.responses.impression.behavior_imp||{};n.renameProperty(i,"lc","linkColor"),n.renameProperty(i,"st","bubbleShowDelay"),n.renameProperty(i,"rw","adsReuseWindow"),n.renameProperty(i,"bd","bubbleDirection"),t.behavior.impression=i},renameBehaviorProperties:function(e){var t=this.$root.utils.object;return t.renameProperty(e,"hc","highlightCount"),t.renameProperty(e,"lc","linkColor"),t.renameProperty(e,"du","doubleUnderline"),t.renameProperty(e,"st","bubbleShowDelay"),t.renameProperty(e,"rw","adsReuseWindow"),t.renameProperty(e,"si","simanitIcon"),t.renameProperty(e,"bd","bubbleDirection"),t.renameProperty(e,"t","theme"),t.renameProperty(e,"ln","lines"),e},startCountDownTimer:function(e,t){var n,i=$root,o=i.settings,r=[],s=i.utils,a=i.utils.dom;o.countDownTimers[t]&&clearInterval(o.countDownTimers[t]),n=e/1e3,s.timer.start("mi_timer"),o.countDownTimers[t]=setInterval((function(){n--,r=a.filterByClass(t);for(var e=0;e<r.length;e++)r[e].innerHTML=n;0==n&&(s.timer.stop("mi_timer"),clearInterval(o.countDownTimers[t]))}),1e3)},sanitize:function(e,t,n){var i=this.$root;for(var o in e)if(n&&"undefined"==i.what(t[o]))delete e[o];else switch(t[o]){case"int":e[o]=parseInt(e[o],10)||0;break;case"bool":e[o]="false"!=e[o]&&!!e[o];break;case"color":e[o]=this.validateColorValue(e[o]||"");break;case"str":e[o]=e[o]&&e[o].toString?e[o].toString():e[o];break;case"array":e[o]="array"==i.what(e[o])?e[o]:[];break;case"node":e[o]=e[o]&&e[o].tagName?e[o]:null;break;case"function":e[o]="function"==i.what(e[o])?e[o]:null;break;default:"array"==i.what(t[o])&&-1==i.utils.array.indexOf(t[o],e[o])&&(e[o]=t[o][0])}return e},validateColorValue:function(e){for(var t=0,n=(e=e.split(/\s*,\s*/)).length,i=/^#?[0-9a-fA-F]{6}$/;t<n;t++)e[t]=e[t]&&null!=e[t].match(i)?"#"==e[t].charAt(0)?e[t]:"#"+e[t]:"#000000";return 1==e.length?e[0]:e},createBaseClasses:function(){var e=this.$root,t=e.utils.dom.style,n=e.settings.baseClass,i="margin:0;padding:0;border:0;outline:0;font:normal normal normal 13px trebuchet MS,Arial,sans-serif;vertical-align:baseline;background:transparent;list-style:none;text-decoration:none;text-align:left;float:none;position:static;";t.addRule("."+n,i),t.addRule("."+n+" *",i),t.addRule("a."+n+":hover","background-color:transparent !important;")},supportsStorage:function(){return"undefined"!=typeof Storage&&!!window.JSON&&!!window.JSON.parse},supportsSessionStorage:function(){try{var e=window.sessionStorage;return e.setItem("test","test"),e.removeItem("test"),!0}catch(e){return!1}},getVpfc:function(e,t){if(this.supportsSessionStorage()&&window.sessionStorage.getItem("vpfc")&&JSON.parse(window.sessionStorage.getItem("vpfc"))[e])return"u"===e&&t?JSON.parse(window.sessionStorage.getItem("vpfc"))[e][t]:JSON.parse(window.sessionStorage.getItem("vpfc"))[e]},getHookData:function(e){var t=this.$root.comm.settings.responses.getads;return t&&t[e]&&("nologo"==t[e].skin?(t[e].theme="nologo",t[e].skin="variant"):"cdtodg"==t[e].skin?(t[e].theme="cdtodg",t[e].skin="variant"):"yell"==t[e].skin&&(t[e].theme="yell",t[e].skin="variant")),t&&t[e]||null},setHookData:function(e,t){var n=this.$root.comm.settings.responses;n.getads||(n.getads={}),n.getads[e]=t},clearHookData:function(e){var t=this.$root.comm.settings.responses.getads;t&&t[e]&&(t[e]=null)},createHook:function(e,t,n,i,o,r,s,a,d){var l=this.$root,c=l.settings,u=o.settings.sentences,h={id:e,fontSize:i,node:n,parentNode:n?n.parentNode:null,rendered:!0,sentence:t,prod:r,type:s,hovered:!1,currentAdIndex:0,instance:d};return c.hooksMap[h.id]=h,u[t]||(u[t]={hooks:[],rendered:0}),l.utils.array.push(u[t].hooks,h),u[t].rendered++,a&&(h.bubble=l.utils.object.clone(l.bubble.settings.base),l.helpers.bindHookEvents(h)),h},getInplaceLid:function(e){var t=this.$root,n=window.googletag;if(n&&n.pubads&&n.pubads().getSlots&&n.pubads().getSlots().length>0)for(var i=window.googletag.pubads().getSlots(),o=0;o<i.length;o++)if(-1!=e.id.indexOf(i[o].getSlotId().getId()))return t.settings.getAdsProds.u+"_"+i[o].getSlotElementId()+"_"+e.width+"x"+e.height;return t.settings.getAdsProds.u+"_"+e.id+"_"+e.width+"x"+e.height},getIncubeLid:function(e){var t=this.$root,n=window.googletag;if(n&&n.pubads&&n.pubads().getSlots&&n.pubads().getSlots().length>0)for(var i=window.googletag.pubads().getSlots(),o=0;o<i.length;o++)if(-1!=e.id.indexOf(i[o].getSlotId().getId()))return t.settings.getAdsProds.k+"_"+i[o].getSlotElementId()+"_"+e.width+"x"+e.height;return t.settings.getAdsProds.k+"_"+e.id+"_"+e.width+"x"+e.height},getHookBehavior:function(e,t){return t||this.$root.products[this.$root.settings.hooksMap[e].type].settings.behavior.merged},bindHookEvents:function(e,t){var n=this.$root,i=n.event.dom,o=n.bubble,r=e.node,s={hookId:e.id},a=n.helpers.getHookBehavior(e.id),d=n.settings;i.bind(r,{event:"dblclick",listener:o.hookDblClick}),t&&a.mi&&-1==a.mi.indexOf(d.mobileIntext.old)?(s.isMobile=t,i.bind(r,{event:"touchend",data:s,listener:o.hookMouseover})):(i.bind(r,{event:"mouseenter",data:s,listener:o.hookMouseover}),i.bind(r,{event:"mouseleave",data:s,listener:o.hookMouseout}),i.bind(r,{event:"click",data:s,listener:o.hookClick}))},getHookSD:function(e,t){var n,i=this.$root,o=i.settings.hooksMap[e];return o?(n=o.updater?o.updater.impression:i.comm.settings.responses.impression,t?i.utils.object.extend({sdata:o.sentence,scs:n.sentences[o.sentence]}):i.utils.object.extend({sdata:o.sentence,scs:n.sentences[o.sentence]},n.rauth)):{}},getAdByMidx:function(e,t){return this.$root.utils.array.find(e,(function(e){return e.midx==t}))},getSkinPath:function(e,t){var n=this.$root,i=n.utils.array,o=["/",n.settings.hosts.resources,"static","skins"];return e&&i.push(o,e,t,(-1==n.utils.array.indexOf(["intext","intag","inscreen"],t)?n.products[t]:n.bubble).skins[e].settings.rv),i.push(o,"").join("/")},initTheme:function(e,t,n){var i,o,r,s,a,d=this.$root,l=e.id,c=d.settings,u=d.helpers.getHookBehavior(l),h=d.helpers.getHookData(l),m=t.settings,g=d.utils.object,p=n||e.type,f=d.products[p].settings,v=m.themesets[p],b=h.themeset||u.themeset||null;if(b&&!c.themeset&&v[b]&&v[b].length?(c.themeset=b,a=c.theme=v[b][Math.floor(Math.random()*v[b].length)]):a=h.theme||c.theme||u.theme,f.theme=a,(s=m.themes[p].base).hpl=c.helpUrl,s.lgl=c.homeUrl,r=f.themes&&f.themes[p]&&f.themes[p].base?g.extend({},f.themes[p].base):{},g.extend(r,s),i=(m.themes[p][a]||{}).inherit)for(o=0;o<i.length;o++)g.extend(r,m.themes[p][i[o]]);return g.extend(r,m.themes[p][a]),f.themeAttributes=r,e.skin=u.skin,e.themeset=b,e.theme=f.theme,e.attributes=f.themeAttributes,e.attributes},setTailColor:function(e,t){switch(this.$root.what(e)){case"function":return e(t);case"string":return e;default:return"#000000"}},setAdThumbnail:function(e){"text"!=e.template||e.thumbURL||(e.thumbURL=["https://",this.$root.settings.hosts.thumbnails,"/thumbnail.jpg?domain=",e.displayedURL].join(""))},hitURL:function(e){var t=$root;"array"!=t.what(e)&&(e=[e]);for(var n=0;n<e.length;n++)t.utils.dom.createDOMFragment({tag:"img",parent:document.body,attributes:{src:e[n]},style:{display:"none",width:"1px",height:"1px"}})},renderCustomJS:function(e){var t,n,i,o,r=$root.utils;i=document.createElement("div"),n=e.split(";");for(var s=0;s<n.length;s++){i.innerHTML=r.base64.decodeBase64(n[s]),o=i.getElementsByTagName("script");for(var a=0;a<o.length;a++)""!=o[a].src?this.addScriptSrc(o[a].src):((t=document.createElement("script")).innerHTML=o[a].innerHTML,document.body.appendChild(t))}},renderCustomCode:function(e,t,n){e.customCode&&"iframe"!=e.actualTemplate&&this.addCustomCodeToDOM(e.customCode,!0,n)},renderDoqCustomCode:function(e){this.addCustomCodeToDOM(e,!1)},addCustomCodeToDOM:function(e,t,n){var i,o,r=$root,s=this.settings,a=(r.settings,r.utils),d=a.dom;o=e.split(";");var l=document.createElement("div");for(l.setAttribute("id","IL_IFR_DIV"+s.iframeNum),t?d.element.insertAfter(l,n):document.body.appendChild(l),i=0;i<o.length;i++){var c=document.createElement("iframe");c.setAttribute("name","IL_IFR_FRAME"+s.iframeNum),c.style.display="none",l.appendChild(c),o[i]="<div>"+a.base64.decodeBase64(o[i])+"</div>",this.createExternalIframe(null,"IL_IFR_FRAME"+s.iframeNum,s.iframeNum,o[i],null),s.iframeNum++}},createExternalIframe:function(e,t,n,i,o){var r=$root,s="",a=window.location.href,d=new RegExp("[?&]il.frame(=([^&#]*)|&|#|$)"),l=document.getElementsByName(t)[0];if(e&&(s="<script>var style = document.createElement('style');style.type = 'text/css';style.innerHTML = 'body { margin: 0px !important}';document.getElementsByTagName('head')[0].appendChild(style);window.hookId='"+e.id+"'<\/script>",e.pixels)){"array"!=r.what(e.pixels)&&(e.pixels=[e.pixels]);for(var c=0;c<e.pixels.length;c++)s+="<img src="+e.pixels[c]+" style='display:none; width:1px; height:1px'>"}s+=i||!e?i:r.helpers.parseTokens(e,null,n),o?l.removeAttribute("sandbox"):l&&l.sandbox&&l.sandbox.remove?setTimeout((function(){l.sandbox.remove("allow-same-origin")}),15):setTimeout((function(){l.sandbox=l.sandbox.replace("allow-same-origin","")}),15),l.onload=function(e){var t=JSON.stringify({name:"IL_iceContent",content:s});return l.contentWindow.postMessage(t,"*"),!1},"complete"==document.readyState||"interactive"==document.readyState?d.exec(a)&&d.exec(a)[2]?l.src=d.exec(a)[2]:l.src="https://resources.infolinks.com/static/container-4.0.html":window.onload=function(){d.exec(a)&&d.exec(a)[2]?l.src=d.exec(a)[2]:l.src="https://resources.infolinks.com/static/container-4.0.html"}},createFriendlyIframe:function(e,t,n,i,o){var r=$root,s=document.getElementsByName(t)[0];e&&(s.contentWindow.$iceContent="<script>var style = document.createElement('style');style.type = 'text/css';style.innerHTML = 'body { margin: 0px !important}';document.getElementsByTagName('head')[0].appendChild(style);window.hookId='"+e.id+"'<\/script>"),s.contentWindow.$iceContent+=i||r.helpers.parseTokens(e,null,n),s.src='javascript:window["$iceContent"]',o?s.removeAttribute("sandbox"):s&&s.sandbox&&s.sandbox.remove?setTimeout((function(){s.sandbox.remove("allow-same-origin")}),15):setTimeout((function(){s.sandbox=s.sandbox.replace("allow-same-origin","")}),15)},createCustomCodeInAd:function(e){var t,n,i=$root.utils,o="";if(e.customCode&&"iframe"==e.actualTemplate){for(n=e.customCode.split(";"),t=0;t<n.length;t++)n[t]=i.base64.decodeBase64(n[t]),o+=" "+n[t];return o}return""},getPluginsChecksum:function(){var e,t,n,i,o,r=[];if(!navigator.plugins)return"";for(t=0,n=navigator.plugins.length;t<n;t++)for(e=navigator.plugins[t],r[r.length]=(e.description||e.name||"").charAt(0),i=0,o=e.length;i<o;i++)r[r.length]=(e[i].description||e[i].name||"").charAt(0);return r.join("").replace(/\s/g,"")},mapUnhoverableAreas:function(){var e=this.$root,t=e.settings,n=e.utils,i=n.dom.element,o=e.browser,r=document.getElementsByTagName("embed"),s=document.getElementsByTagName("object"),a=n.array.concat(r,s);t.unhoverableAreas=[];for(var d=0;d<a.length;d++)if(i.isVisible(a[d])){if("embed"==a[d].tagName.toLowerCase()){if("transparent"==(a[d].getAttribute("wmode")||"").toLowerCase())continue}else{for(var l=a[d].getElementsByTagName("param"),c=!1,u=0,h=l.length;u<h;u++)if("wmode"==l[u].name&&"transparent"==l[u].value.toLowerCase()){c=!0;break}if(c)continue}if("embed"==a[d].tagName.toLowerCase()&&"object"==a[d].parentNode.tagName.toLowerCase()){if(o.IE)continue;n.array.discard(a,a[d].parentNode)}var m=parseInt(a[d].width,10)||a[d].offsetWidth||0,g=parseInt(a[d].height,10)||a[d].offsetHeight||0;if(m&&g){var p=i.offset(a[d]);n.array.push(t.unhoverableAreas,[p.left,p.top,p.left+m,p.top+g])}}},hasSpecialTags:function(e,t){return e=e.toLowerCase(),!("all"!=t&&"script"!=t||-1==e.indexOf("<scr")&&-1==e.indexOf("document.write"))||("all"==t||"iframe"==t)&&-1!=e.indexOf("<ifr")},addUniqeTag:function(e,t,n,i,o){var r={html:e,prodName:t,bdc:n,midx:i,emd:o},s=document.querySelectorAll("[data-"+t+"_"+n+"_"+i+"_"+o+"]");return function(e){for(var t in e)if(e.hasOwnProperty(t)&&!e[t]&&0!=e[t])return!1;return!0}(r)&&0==s.length?"<div data-"+t+"_"+n+"_"+i+"_"+o+' style="display: none"></div>'+e:e},parseTokens:function(e,t,n){var i,o,r,s=this.$root,a=this.getHookData(e.id),d=s.helpers.getAdByMidx(a.ads,a.ads[n||e.currentAdIndex].midx),l=s.helpers;if(t||(t=d.content),"html"==d.template||"external"==d.template){for(var c,u,h,m,g,p=/@start@.*?@end@/;null!=(c=t.match(p));)delete event.capara,-1!=(h=(u=c[0]).substring(7,u.length-5)).indexOf("|||")&&(r=h.split("|||"),event.capara=r[0],h=r[1]),m=s.comm.getRedirectUrl(e,h,"onWin",event),d.de&&(m="~encfrom~"+m+"~encto~"),t=t.replace(p,m);for(p=/@encode@.*?@encode@/;null!=(c=t.match(p));)g=encodeURIComponent(c[0].substring(8,c[0].length-8)),t=t.replace(p,g);for(;-1!=(i=t.indexOf("~encfrom~"));)o=t.indexOf("~encto~"),g=encodeURIComponent(t.substring(i+9,o)),t=t.substring(0,i)+g+t.substring(o+7);for(p=/@hookId@/;null!=(c=t.match(p));)t=t.replace(p,e.id);for(p=/@JSEnc@.*?@JSEncEnd@/;null!=(c=t.match(p));)c[0]=c[0].replace(/(['"])/g,"\\$1"),t=t.replace(p,c[0].substring(7,c[0].length-10))}return"javascript"==d.contentType&&(t=['<script type="text/javascript">',t,"<\/script>"].join("")),t+=l.createCustomCodeInAd(d)},setActualTemplate:function(e){return e.actualTemplate||(e.actualTemplate=e.echo||("html"==e.template||"external"==e.template)&&e.content&&this.hasSpecialTags(e.content,"script")?"iframe":e.contentUrl||"external"==e.template?"html":e.template)},getPlatform:function(){var e,t,n,i=this.$root,o=document.getElementsByName("generator"),r="undefined";for(e=0,t=o.length;e<t;e++)if(n=o[e].getAttribute("content")){if(n.indexOf("WordPress")>-1)return"wdp";if(n.indexOf("Joomla")>-1)return"jml";if(n.indexOf("blogger")>-1)return"bsp";if(n.indexOf("vBulletin")>-1)return"vbt";if(n.indexOf("phpBB")>-1)return"pbb";if(n.indexOf("weebly")>-1)return"wbl";if(n.indexOf("tumblr")>-1)return"tbr"}if(i.what(window.Drupal)!=r)return"drl";if(i.what(window.Joomla)!=r)return"jml";if(i.what(window.blogger)!=r)return"jml";if(i.what(window.blogger_blog_id)!=r)return"jml";if(i.utils.dom.filterByClass("contentpaneopen").length)return"jml";if(i.what(window.vBulletin)!=r)return"vbt";if(i.what(window.phpbb)!=r)return"pbb";if(i.what(window.positionWeeblyFooter)!=r)return"wbl";if(i.what(window.Tumblr)!=r)return"tbr";if(i.what(window.ipb)!=r)return"ipb";var s,a=document.getElementsByTagName("link");for(e=0,t=a.length;e<t;e++)if(s=a[e].getAttribute("href")){if(s.indexOf("wp-content")>-1)return"wdp";if(s.indexOf("support-files")>-1)return"sbi"}return""},createAdViewUrl:function(e){for(var t,n=this.$root,i=comm.settings.responses.gsd,o=n.utils,r=n.settings,s=e.params,a=n.settings.hooksMap[e.hookId],d=n.helpers.getHookData(a.id),l="undefined",c=[],u=[],h=n.utils.array.push,m=0;m<d.ads.length;m++)d.ads[m].dontShow||(h(c,d.ads[m].midx),h(u,a.bdc));e&&e.capara&&o.object.size(e.capara)>0&&(t=o.object.stringify(e.capara));var g=o.object.clean(o.object.extend({rid:i.rid,bdc:n.what(s.bdc)!=l?s.bdc:u.join("~"),midx:n.what(s.midx)!=l?s.midx:null!=a.currentAdIndex?c[a.currentAdIndex]:c.join("~"),emd:n.what(s.emd)!=l?s.emd:d.ads[a.currentAdIndex].emd||"",rts:o.date.now(),trce:r.trce,prod_t:"unknown",jsv:n.version,ifip:n.settings.ifip||"",skin:a.skin,theme:a.theme,themeset:a.themeset,capara:t,cmpid:d.ads[a.currentAdIndex]?d.ads[a.currentAdIndex].campaignUuid:""},n.helpers.getHookSD(a.id),s,r.nativeAppParams));return this.createQueryString([i.rs,"/action/adview.htm"].join(""),g,"adViewed",e)},createQueryString:function(e,t,n,i){var o,r,s,a=$root,d=[];if("object"==a.what(t)){for(var l in t)a.utils.array.push(d,d.length||-1!=e.indexOf("?")?"&":"?",encodeURIComponent(l),"=",encodeURIComponent(t[l]));o=d.join("")}else"string"==a.what(t)&&(o=t);return e+=o,s=a.settings.protocol+e,n&&(r=function(){"undefined"==a.what(i)?a.event.fire(n):a.event.fire(n,i)}),n&&r(),s},getPlatformVersion:function(e){var t;return(t=this.getVar("pv"))||"wdp"==e&&(t=this.IsCommentExist(document.body,"Infolinks START"))&&(t=this.IsCommentExist(document.body,"Infolinks END"))&&(t="0.0.0"),t},setCaparaBubble:function(e,t){var n={},i=$root.settings;return i.useClParams.itl?n.hii=t.instanceIndex:n={},e.mi&&(n.mi=e.mi,-1!=e.mi.indexOf(i.mobileIntext.countDown)&&e.cd&&(n.cd=e.cd)),n},transitionEndEventName:function(){var e,t=document.createElement("div"),n={transition:"transitionend",OTransition:"otransitionend",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"};for(e in n)if(n.hasOwnProperty(e)&&undefined!==t.style[e])return n[e]},getSiteLanguage:function(){if(this.getSiteLanguage.lang)return this.getSiteLanguage.lang;var e,t,n,i,o,r="en",s=this.$root,a=document.getElementsByTagName("html")[0];if("en"==s.comm.settings.responses.impression.lang||"es"==s.comm.settings.responses.impression.lang)return this.getSiteLanguage.lang=s.comm.settings.responses.impression.lang;if(t=a.getAttribute("lang"),"undefined"!=s.what(t))return t=t.toLowerCase(),/^es/.test(t)&&(r="es"),this.getSiteLanguage.lang=r;for(n=0,i=(e=document.getElementsByTagName("meta")).length;n<i;++n)if(o=e[n],/^Content-Language$/i.test(o.getAttribute("http-equiv")||"")&&/^es/i.test(o.getAttribute("content"))||/^language$/i.test(o.getAttribute("name")||"")&&/^Spanish/i.test(o.getAttribute("content")||""))return this.getSiteLanguage.lang="es";return this.getSiteLanguage.lang=r},translate:function(e,t){var n=t||this.$root.settings.translations;return decodeURIComponent(n[e]?n[e][this.getSiteLanguage()]:e)},setKid:function(e,t){var n=this.getSiteLanguage();return this.$root.utils.VeST(e,{kid:this.$root.settings.kid[t]||"",langPath:"en"==n?"":n+"/"})},getEchoForm:function(e,t,n,i,o){var r=this.$root,s=r.settings,a=[r.settings.protocol,this.getVar("passbackurl")||s.hosts.router,"/echo.htm",o?"?hookId="+o:""].join("");return r.utils.VeST('<form <% if (formId){ %>id="<%= formId %>"\t<% } %> \t<% if (formCls){ %>class="<%= formCls %>"<% } %>\t method="post" action="<%= echo %>" target="<%= iframeName %>" accept-charset="utf-8" style="display:none;">\t<input type="hidden" name="echo" value="<%= content %>" />\t<input type="hidden" name="pid" value="<%= cid %>" />\t<input type="hidden" name="wsid" value="<%= wsid %>" />\t<input type="hidden" name="purl" value="<%= purl %>" />\t<input type="hidden" name="jsv" value="<%= jsv %>" /></form>\t\t',{echo:a,content:encodeURIComponent(e.split("").reverse().join("")),iframeName:t,formId:n,formCls:i,cid:s.customerId,wsid:s.websiteId,jsv:r.version,ifip:s.ifip,purl:s.customerUrl,nocache:r.utils.number.next("echo")})},dimObj:function(e,t,n){var i,o,r,s=$root,a=s.utils,d=s.comm.settings.responses.impression.prs,l=s.browser,c=a.dom,u=s.helpers.isSearchProduct(e),h=s.helpers.isTopProduct(e);t||(t=0),n||(n={}),i=l.getDevice(),e&&("t"==i?(o=n.width||c.screenAvailDimensions.getWidth(),r=n.height||c.screenAvailDimensions.getHeight(),(u||h)&&(o*=window.devicePixelRatio,r*=window.devicePixelRatio),d[e].behavior.tminh&&(this.mih=-1==d[e].behavior.tminh?-1:d[e].behavior.tminh*r-t),d[e].behavior.tmaxh&&(this.mah=-1==d[e].behavior.tmaxh?-1:d[e].behavior.tmaxh*r-t),d[e].behavior.tminw&&(this.miw=-1==d[e].behavior.tminw?-1:d[e].behavior.tminw*o-2),d[e].behavior.tmaxw&&(this.maw=-1==d[e].behavior.tmaxw?-1:d[e].behavior.tmaxw*o-2),"true"!=d[e].behavior.idd&&!0!==d[e].behavior.idd||(d[e].behavior.tminh&&(this.mih=parseFloat(d[e].behavior.tminh)),d[e].behavior.tmaxh&&(this.mah=parseFloat(d[e].behavior.tmaxh)),d[e].behavior.tminw&&(this.miw=parseFloat(d[e].behavior.tminw)),d[e].behavior.tmaxw&&(this.maw=parseFloat(d[e].behavior.tmaxw)))):"p"==i?(o=n.width||a.dom.viewport.getWidth(),r=n.height||a.dom.viewport.getHeight(),d[e].behavior.pminh&&(this.mih=-1==d[e].behavior.pminh?-1:d[e].behavior.pminh*r-t),d[e].behavior.pmaxh&&(this.mah=-1==d[e].behavior.pmaxh?-1:d[e].behavior.pmaxh*r-t),d[e].behavior.pminw&&(this.miw=-1==d[e].behavior.pminw?-1:d[e].behavior.pminw*o-2),d[e].behavior.pmaxw&&(this.maw=-1==d[e].behavior.pmaxw?-1:d[e].behavior.pmaxw*o-2),"true"!=d[e].behavior.idd&&!0!==d[e].behavior.idd||(d[e].behavior.pminh&&(this.mih=parseFloat(d[e].behavior.pminh)),d[e].behavior.pmaxh&&(this.mah=parseFloat(d[e].behavior.pmaxh)),d[e].behavior.pminw&&(this.miw=parseFloat(d[e].behavior.pminw)),d[e].behavior.pmaxw&&(this.maw=parseFloat(d[e].behavior.pmaxw)))):"m"==i&&(o=n.height||c.screenAvailDimensions.getWidth(),r=n.width||c.screenAvailDimensions.getHeight(),(u||h)&&(o*=window.devicePixelRatio,r*=window.devicePixelRatio),d[e].behavior.mminh&&(this.mih=-1==d[e].behavior.mminh?-1:d[e].behavior.mminh*r-t),d[e].behavior.mmaxh&&(this.mah=-1==d[e].behavior.mmaxh?-1:d[e].behavior.mmaxh*r-t),d[e].behavior.mminw&&(this.miw=-1==d[e].behavior.mminw?-1:d[e].behavior.mminw*o-2),d[e].behavior.mmaxw&&(this.maw=-1==d[e].behavior.mmaxw?-1:d[e].behavior.mmaxw*o-2),"true"!=d[e].behavior.idd&&!0!==d[e].behavior.idd||(d[e].behavior.mminh&&(this.mih=parseFloat(d[e].behavior.mminh)),d[e].behavior.mmaxh&&(this.mah=parseFloat(d[e].behavior.mmaxh)),d[e].behavior.mminw&&(this.miw=parseFloat(d[e].behavior.mminw)),d[e].behavior.mmaxw&&(this.maw=parseFloat(d[e].behavior.mmaxw)))))},getCustomScale:function(e,t,n){var i=0;return $root.browser.Firefox&&(i=.015),n&&-1!=n?Math.min(e/n-i,1):e/t-i},pad:function(e,t){for(var n=""+e;n.length<t;)n="0"+n;return n},getTimeZone:function(){var e,t=$root.helpers;return e=((e=(new Date).getTimezoneOffset())<0?"+":"-")+t.pad(parseInt(Math.abs(e/60)),2)+t.pad(Math.abs(e%60),2)},getFontsChecksum:function(){var e,t,n=this.$root,i=0,o=[],r=["Cambria","Cardo","Constantia","Crimson Text","Droid Serif","Georgia","IM Fell DW Pica","OFL Sorts Mill Goudy TT","Old Standard TT","Palatino Linotype","Times New Roman","Times","Vollkorn","Arial","Arial Black","Arial Narrow","Calibri","Cantarell","Candara","Corbel","Droid Sans","Helvetica","Impact","Josefin Sans Std Light","Microsoft Sans Serif","Molengo","Nobile","Tahoma","Trebuchet MS","Verdana","Yanone Kaffeesatz","Comic Sans MS","Lobster","Reenie Beanie","Tangerine","Andale Mono","Consolas","Courier","Courier New","Droid Sans Mono","Inconsolata","Lucida Console"];n.browser.IE&&n.utils.dom.createDOMFragment({tag:"object",parent:document.body,id:"dlgHelper",attributes:{classid:"clsid:3050f819-98b5-11cf-bb82-00aa00bdce0b",width:"0px",height:"0px"}});var s=document.getElementById("dlgHelper");if(s&&s.fonts)for(e=s.fonts.count,t=1;t<e+1;t++)o.push(s.fonts(t));else{var a=new this.Detector;for(t=0;t<r.length;t++)a.detect(r[t])&&o.push(r[t])}for(t=0;t<o.length;t++)i+=o[t].charCodeAt(0)+o[t].charCodeAt(o[t].length/2)+o[t].charCodeAt(o[t].length-1);return i},Detector:function(){var e=["monospace","sans-serif","serif"],t=document.getElementsByTagName("body")[0],n=document.createElement("span");n.style.fontSize="72px",n.innerHTML="mmmmmmmmmmlli";var i={},o={};for(var r in e)n.style.fontFamily=e[r],t.appendChild(n),i[e[r]]=n.offsetWidth,o[e[r]]=n.offsetHeight,t.removeChild(n);this.detect=function(r){var s=!1;for(var a in e){n.style.fontFamily=r+","+e[a],t.appendChild(n);var d=n.offsetWidth!=i[e[a]]||n.offsetHeight!=o[e[a]];t.removeChild(n),s=s||d}return s}},setNatural:function(e){for(var t,n,i=this.$root,o=function(e){if(n=e.domEvent,!(t=n?n.target||n.srcElement:e).style.width||!t.style.height)if(void 0===t.naturalWidth){var i=new Image;i.src=t.src,t.style.width=i.width+"px",t.style.height=i.height+"px"}else t.style.width=t.naturalWidth+"px",t.style.height=t.naturalHeight+"px"},r=0;r<e.length;r++)e[r].complete?o(e[r]):i.event.dom.bind(e[r],{event:"load",listener:o})},findMaxZindex:function(){for(var e,t=0,n=this.$root.utils,i=document.getElementsByTagName("div"),o=document.getElementsByTagName("span"),r=document.getElementsByTagName("iframe"),s=n.array.concat(i,o,r),a=0,d=s.length;a<d;a++)s[a].style.zIndex&&s[a].style.zIndex>0&&parseInt(t)<parseInt(s[a].style.zIndex)&&(t=s[a].style.zIndex),(e=n.dom.style.getCssProp(s[a],"z-index"))&&e>0&&parseInt(t)<n.dom.style.getCssProp(s[a],"z-index")&&(t=n.dom.style.getCssProp(s[a],"z-index"));return t},getCookieSupport:function(){var e=!0;do{var t="gCStest="+Math.floor(1e8*Math.random());if(document.cookie=e?t+";expires=Tue, 01-Jan-2030 00:00:00 GMT":t,-1!==document.cookie.indexOf(t))return document.cookie=t+";expires=Sat, 01-Jan-2000 00:00:00 GMT",e}while(!(e=!e));return null},fixCorruptCookie:function fixCorruptCookie(cname){var rt=$root,ut=rt.utils,capCountObj,expiration,date=new Date,capExp=365,deletedCookie={};if(expiration=new Date(date.setDate(date.getDate()+capExp)),ut.cookie.has(cname)){for(var attr in capCountObj=eval("("+ut.cookie.get(cname)+")"),capCountObj)capCountObj[attr]==capCountObj[attr]&&-1==capCountObj[attr].toString().indexOf("NaN")||(deletedCookie={deletedCookieContent:capCountObj},rt.event.fire("sendClientLog",{params:{capara:ut.object.stringify(deletedCookie)}}),delete capCountObj[attr]);ut.cookie.set(cname,ut.object.stringify(capCountObj),expiration)}},fixCorruptLocalStorageItem:function fixCorruptLocalStorageItem(itemName){var rt=$root,ut=rt.utils,capCountObj,expiration,date=new Date,capExp=365,deletedLocalStorageItem={},prodCodes=["a","b","c","d","e","f","h","i","k","n","o","s","t","u","x","z"];if(expiration=new Date(date.setDate(date.getDate()+capExp)),null!=localStorage.getItem(itemName)){for(var attr in capCountObj=eval("("+localStorage.getItem(itemName)+")"),capCountObj)(capCountObj[attr]!=capCountObj[attr]||!capCountObj[attr]||-1!=capCountObj[attr].toString().indexOf("NaN")||"fc"===itemName&&-1!=prodCodes.indexOf(attr))&&(deletedLocalStorageItem={deletedLocalStorageItem:capCountObj},delete capCountObj[attr]);localStorage.setItem(itemName,JSON.stringify(capCountObj)),ut.storage.setExpireDate(itemName,new Date(expiration))}},validLink:function(e){var t,n,i=e.href.indexOf("//"),o=window.location.href.indexOf("//");return-1==i?i=0:i+=2,-1==o?o=0:o+=2,t=e.href.substring(i,e.href.length),n=window.location.href.substring(o,window.location.href.length),-1==e.href.indexOf("javascript:void(0)")&&("#"!=t[t.length-1]||(t="/"==t[t.length-2]?t.substring(0,t.length-2):t.substring(0,t.length-1),"#"==n[n.length-1]&&(n=n.substring(0,n.length-1)),"/"==n[n.length-1]&&(n=n.substring(0,n.length-1)),0!=t.length&&t!=n))},collectLinks:function(e,t){for(var n=[],i=[],o=0,r=0,s=0;s<e.length;s++)this.validLink(e[s])&&(e[s].onclick?(i[o]=e[s],o++):(n[r]=e[s],r++));return t?i:n},containsJS:function(e){return e.indexOf("javascript")>-1},checkValidURL:function(e){var t=e.match("^(\\w+)\\:.*");return!(t&&t.length>1)||("http"==t[1]||"https"==t[1])},whichTransitionEvent:function(e){var t,n;for(t in n={transition:"transitionend",OTransition:"oTransitionEnd",MozTransition:"transitionend",WebkitTransition:"webkitTransitionEnd"})if(void 0!==e.style[t])return n[t]},mapReduceLinks:function(e){for(var t,n=$root.utils,i={},o=0;o<e.length;o++)e[o].href&&this.checkValidURL(e[o].href)&&!this.containsJS(e[o].href)&&((t=n.string.parseURL(e[o].href).parent_domain)in i?i[t]++:i[t]=1);return i},navigate:function(e){window.location=e},isNative:function(e){if(e.toString().indexOf("[native code]")>-1)return!0},getScaleFactor:function(e){return-1==e&&(e=728),"portrait"==this.getScreenOrientation()?this.getScreenDimensions().width/Number(e):this.getScreenDimensions().height/Number(e)},getScreenOrientation:function(){return window.innerHeight>window.innerWidth?"portrait":"landscape"},getScreenDimensions:function(){return{width:Math.min(document.body.clientWidth||document.documentElement.clientWidth,window.innerWidth),height:Math.min(document.body.clientHeight||document.documentElement.clientHeight,window.innerHeight)}},makeContainer:function(e,t){if(null===document.getElementById(e)){var n=document.createElement("div");n.id=e,n.setAttribute("style","position:fixed;width:100%;height:100%;left:0;right:0;bottom:0px;z-index:2147483646;pointer-events:none !important;"),document.body.insertBefore(n,document.body.childNodes[0])}},appendToContainer:function(e,t,n,i,o){var r=this.$root.helpers,s=document.getElementById(e),a=r.getWebkitTransformString(t,"left bottom");s.setAttribute("style","position:fixed;width:100%;left:0;right:0;bottom:0px;z-index:2147483646; "+a),s.appendChild(document.getElementById(o))},setDims:function(e,t){var n=this.$root,i=n.utils.dom;return e.heightOpen=90,"m"==n.browser.getDevice()?(e.heightOpen="text"===t?190:90,e.btnBtm=10,e.thumbWidth=160,e.thumbHeight=130,e.contentWidth=450,e.contentHeight=140,e.colBuffer=25,e.fontSize=26,e.heightClose=80,e.iconSize=47,e.logoWidth=70,e.logoHeight=70,i.innerDimensions.getHeight()<i.innerDimensions.getWidth()&&(e.thumbWidth=90,e.thumbHeight=65,e.heightOpen="text"==t?110:90,e.heightClose=50,e.colBuffer=25,e.fontSize=20,e.iconSize=27,e.logoWidth=30,e.logoHeight=30,e.btnBtm=5,e.btnfontSize=e.fontSize-5,e.btnpaddingwidth=8,e.btnpaddingheight=20,e.contentHeight=70)):"t"==n.browser.getDevice()&&(e.heightOpen="text"==t?110:90,e.btnBtm=25,e.thumbWidth=90,e.thumbHeight=65,e.contentWidth=400,e.contentHeight=67,e.colBuffer=25,e.fontSize=22,e.heightClose=50,e.iconSize=25,e.btnBtm=10,e.logoHeight=30,e.btnBtm=10,i.innerDimensions.getHeight()<i.innerDimensions.getWidth()&&(e.contentHeight=72)),e},downScale:function(e,t,n,i,o){for(var r=document.getElementById(o).scrollWidth;(e.height*n*t>i||e.width*n*t>r)&&!(t<=0);)t-=.1;return t},setScaleCapping:function(e,t,n,i,o){var r=this.$root,s=r.comm.settings.responses.impression.prs[o].behavior,a=this.getScreenDimensions().height,d=a>this.getScreenDimensions().width,l={m:{heightCapKey:d?"mobilePortraitHeightCap":"mobileLandscapeHeightCap",defaultCapRatio:.5},t:{heightCapKey:d?"tabletPortraitHeightCap":"tabletLandscapeHeightCap",defaultCapRatio:.5}}[r.browser.getDevice()];if(!l)return null;"number"!=typeof s[l.heightCapKey]&&(s[l.heightCapKey]=Number(s[l.heightCapKey]),isNaN(s[l.heightCapKey])&&(s[l.heightCapKey]=void 0));var c=a*(s[l.heightCapKey]||l.defaultCapRatio)-n*i;return e.height*i*t>c?this.downScale(e,t,i,c,container_name):null},getWebkitTransformString:function(e,t){var n=" -ms-transform: scale("+e+");  -moz-transform: scale("+e+");  -o-transform: scale("+e+");  -webkit-transform: scale("+e+"); "+(" -webkit-transform-origin: "+t+";  -o-transform-origin: "+t+";  -moz-transform-origin: "+t+";  -ms-transform-origin: "+t+"; "),i="";return"iPhone"==this.$root.browser.getOS()&&(i="translateZ(0);backface-visibility: hidden;")," -webkit-perspective: 1000; "+i+" "+n},enlargeTo:function(){return"-webkit-perspective: 1000;"},setHorizontalTransform:function(e,t){e.style.transform="translate("+t+"px,0)",e.style.transition="all 2s ease-in-out",e.style["-webkit-transition"]="all 1s ease-in-out",e.style["-o-transition"]="all 1s ease-in-out",e.style["-moz-transition"]="all 1s ease-in-out"},replaceTransform:function(e,t,n,i){var o=n.match(t);null!=o&&o[0]?e.style[i]=o[0]:e.style[i]=""},animateMarginTop:function(e,t,n){e.style["margin-top"]=n+"px",e.style.transition="margin-top "+t+"ms ease-in-out",e.style["-webkit-transition"]="margin-top "+t+"ms ease-in-out",e.style["-o-transition"]="margin-top "+t+"ms ease-in-out",e.style["-moz-transition"]="margin-top "+t+"ms ease-in-out",e.style["-ms-transition"]="margin-top "+t+"ms ease-in-out"},setFadeTransform:function(e,t,n,i){if(e.style.opacity=n,0==i)return!0;e.style.transition="opacity "+t+"ms ease-in",e.style["-webkit-transition"]="opacity "+t+"ms ease-in-out",e.style["-o-transition"]="opacity "+t+"ms ease-in-out",e.style["-moz-transition"]="opacity "+t+"ms ease-in-out",e.style["-ms-transition"]="opacity "+t+"ms ease-in-out"},setVerticalTransform:function(e,t,n,i,o,r){var s=void 0!==o?o:1;return-1===e.style.transform.indexOf("scale")&&(e.style["-ms-transform"]="",e.style["-webkit-transform"]="",e.style["-o-transform"]="",e.style["-moz-transform"]=""),i?(e.style["-ms-transform"]+=" translate(0,"+-n+"px)",e.style["-webkit-transform"]+=" translate(0,"+-n+"px)",e.style["-o-transform"]+=" translate(0,"+-n+"px)",e.style["-moz-transform"]+=" translate(0,"+-n+"px)",e.style["-webkit-transform"]+=" transform(0,"+-n+"px);",e.style["-o-transform"]+=" transform(0,"+-n+"px);",e.style["-moz-transform"]+=" transform(0,"+-n+"px);",e.style["-ms-transform"]+=" transform(0,"+-n+"px);"):(e.style.transform+=" translate(0,"+-n*s+"px)",e.style["-ms-transform"]+=" translate(0,"+-n*s+"px)",e.style["-webkit-transform"]+=" translate(0,"+-n*s+"px)",e.style["-o-transform"]+=" translate(0,"+-n*s+"px)",e.style["-moz-transform"]+=" translate(0,"+-n*s+"px)"),0==r||(e.style.transition="all, "+t+"ms ease-in-out",e.style["-webkit-transition"]="all, "+t+"ms ease-in-out",e.style["-o-transition"]="all, "+t+"ms ease-in-out",e.style["-moz-transition"]="all, "+t+"ms ease-in-out",e.style["-ms-transition"]="all, "+t+"ms ease-in-out"),!0},setDownAndTransformUp:function(e,t,n){!n||!t||t<=0||(e.style.transform="translateY("+t+"px)",setTimeout((function(){e.style.transform="translateY(0)";var t=n||"1000";e.style.transition="transform "+t+"ms ease-in-out"}),10))},isSearchProduct:function(e){return-1!="soxdp".indexOf(e)},isTopProduct:function(e){return-1!="h".indexOf(e)},inIframe:function(){try{return window.self!==window.top}catch(e){return"error"}},evalJSFromHtml:function evalJSFromHtml(html,noIframe){if(noIframe){var element=document.createElement("div");element.innerHTML=html;for(var scripts=element.getElementsByTagName("script"),i=0;i<scripts.length;++i){var script=scripts[i];eval(script.innerHTML),""!=script.src&&this.addScriptSrc(script.src)}}},findComment:function(e,t){if(-1!=(t.content?t.content.indexOf(["\x3c!--",e,"--\x3e"].join("")):-1))return!0},addScriptSrc:function(e){var t=document.createElement("script"),n=document.getElementsByTagName("body")[0];t.type="text/javascript",t.async=window.infolinks_async||t.async,t.defer=window.infolinks_ddw||t.defer,t.src=e,n.appendChild(t)},addScriptWithCallback:function(e,t){if(e&&-1!==e.indexOf("http")){var n=document.createElement("script"),i=!1,o=document.getElementsByTagName("head")[0];n.onload=n.onreadystatechange=function(){i||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(i=!0,t(),n.onload=n.onreadystatechange=null,o&&n.parentNode&&o.removeChild(n))},n.setAttribute("type","text/javascript"),window.infolinks_async&&n.setAttribute("async",window.infolinks_async),window.infolinks_ddw&&n.setAttribute("type",window.infolinks_ddw),n.setAttribute("src",e),o.appendChild(n)}},shouldBlock:function(){var e,t=$root.utils,n=window.location.href;return-1!=(e=t.string.parseURL(n)).domain.indexOf("googleusercontent.com")||-1!=e.domain.indexOf("google.co.in")||(!!e.domain.match(/\d+\.\d+\.\d+\.\d+/)||(-1!=e.protocol.indexOf("file")||void 0))},enableScroll:function(e,t){t?($root.event.dom.unbind(e,"touchmove",this.disableTouchmove),$root.event.dom.unbind(e,"mousewheel",this.disableTouchmove),$root.event.dom.unbind(e,"DOMMouseScroll",this.disableTouchmove)):($root.event.dom.bind(e,{event:"touchmove",listener:this.disableTouchmove}),$root.event.dom.bind(e,{event:"mousewheel",listener:this.disableTouchmove}),$root.event.dom.bind(e,{event:"DOMMouseScroll",listener:this.disableTouchmove}))},disableTouchmove:function(e){this.$root.utils.dom.event.stop(e.domEvent)},moveAndHideElement:function(e,t){return e&&t?(this.removeAttr(e,"id"),this.removeAttr(e,"class"),this.removeAttr(e,"name"),this.$root.event.dom.unbindAll(e),e.setAttribute("style","display:none !important"),!1):e?(e.parentNode.removeChild(e),!0):void 0},removeAttr:function(e,t){if(e){1==e.nodeType&&e.removeAttribute(t);for(var n=0;n<e.childNodes.length;n++)1==e.childNodes[n].nodeType&&e.childNodes[n].removeAttribute(t),this.removeAttr(e.childNodes[n],t)}},removeBorders:function(e){e&&(e.style.borderLeft="",e.style.borderRight="",e.style.borderTop="")},settings:{iframeNum:0,postedForms:0}});var comm=$root.$create("comm",{loadScript:function(e,t,n,i){var o,r=this,s=this.$root;if(e=this.getEncodedUrl(e,t),o=n?function(e){var t=r.$root,o=r.loadedScripts;if(o[e])return!0;o[e]=!0,"undefined"==t.what(i)?t.event.fire(n):t.event.fire(n,i)}:function(){r.loadedScripts[e]=!0},!this.loadedScripts[e]){this.loadedScripts[e]=!1;var a=document.createElement("script");a.type="text/javascript",a.async=window.infolinks_async||a.async,a.defer=window.infolinks_ddw||a.defer,a.charset="UTF-8",a.onreadystatechange=function(){try{/complete|loaded/.test(this.readyState)&&!r.loadedScripts[e]&&o(e)}catch(e){s.loggly.errorLog(e,"_comm loadScript onreadystatechange unexpected error in handler for event 'onreadystatechange'")}},a.onload=function(){try{o(e)}catch(e){s.loggly.errorLog(e,"_comm loadScript onload unexpected error in handler for event 'onload'")}},a.src=e;var d=document.getElementsByTagName("head");return d=d[0]||document.body,t&&t.hks&&JSON.parse(t.hks)[0]&&JSON.parse(t.hks)[0].lid&&(a.id="getAds_"+JSON.parse(t.hks)[0].lid),t&&"afterGSD"===t.evt&&(a.id=t.evt),a=d.appendChild(a),!0}o()},getMrcTrackingPixelUrl:function(e){var t=this.settings.responses.gsd,n=this.createClientLogParams({data:{params:e}});return this.getEncodedUrl([t.rs,"/action/dcl.htm"].join(""),n)},createClientLogParams:function(e){var t,n,i,o=this.$root,r=this.settings.responses.gsd,s=o.utils,a=o.settings,d=o.settings.hooksMap[e.data.params.hookId],l=e.data.params,c="undefined",u=[],h=[],m=o.utils.array.push;if(d){if((t=o.helpers.getHookData(d.id))&&t.ads)for(var g=0;g<t.ads.length;g++)t.ads[g].dontShow||(m(u,t.ads[g].midx),m(h,d.bdc));var p=s.object.clean(s.object.extend({emd:o.what(l.emd)!=c?l.emd:t&&t.ads&&t.ads[d.currentAdIndex]?t.ads[d.currentAdIndex].emd:"",rts:s.date.now(),jsv:o.version,skin:d.skin,theme:d.theme,themeset:d.themeset,cmpid:t&&t.ads&&t.ads[d.currentAdIndex]?t.ads[d.currentAdIndex].campaignUuid:""},a.nativeAppParams));s.object.extend(p,l),i=s.object.stringify(p),n=s.object.clean({rid:r.rid,prod_t:d.prod,ifip:o.settings.ifip||"",sdata:d.sentence,trce:a.trce,bdc:o.what(l.bdc)!=c?l.bdc:h.join("~"),midx:o.what(l.midx)!=c?l.midx:u.join("~"),capara:!0===l.customParams?s.object.stringify(l.capara):i})}else p=e.data.params,i=s.object.stringify(p),n=s.object.clean({rid:r.rid,ifip:o.settings.ifip||"",jsv:o.version,trce:a.trce,capara:i}),l.customParams&&(n.capara=s.object.stringify(l.capara),delete l.capara,delete l.customParams,n=s.object.clean(s.object.extend(n,l)));return n},getEncodedUrl:function(e,t){var n=this.$root,i="",o=[];if(n.settings.protocol=n.settings.siteUrl.substr(0,n.settings.siteUrl.indexOf("://")+3),"object"==n.what(t)){for(var r in t)n.utils.array.push(o,o.length||-1!=e.indexOf("?")?"&":"?",encodeURIComponent(r),"=",encodeURIComponent(t[r]));i=o.join("")}else"string"==n.what(t)&&(i=t);return null==(e+=i).match(/^\w+:\/\//)&&(e=n.settings.protocol+e),e},supportsCORS:function(){var e=window.XMLHttpRequest?new XMLHttpRequest:null;return this.settings.cors=e&&"withCredentials"in e},sendMessage:function(e){var t=this.$root,n=t.utils.dom.element.$("iceCommFrame");n&&n.contentWindow?n.contentWindow.postMessage(e,"*"):t.logger.error("Could not get comm frame.",this.sendMessage)},receiveMessage:function receiveMessage(event){var de=event.domEvent,message=de.data,data,rt=event.$root,st=rt.settings,lg=rt.logger,hp=rt.helpers,frameName,frame,stopMessage,suspended,origin=(de.origin||de.domain).replace(rt.settings.protocol,"");if(suspended=hp.getVar("suspended"),"go"==message&&suspended){try{frameName=event.domEvent.source.name,frameName||(frameName=event.domEvent.source.frames.frameElement.id),frame=document.getElementById(frameName),stopMessage="Stop",frame?frame.contentWindow.postMessage(stopMessage,"*"):top.contentWindow.postMessage(stopMessage,"*")}catch(e){}return hp.setVar("suspended",!1),void rt.event.fire("beforeGSD")}if(this.settings&&this.settings.responses&&this.settings.responses.gsd&&0==origin.indexOf(this.settings.responses.gsd.rs)){"("==message.charAt(0)&&")"==message.charAt(message.length-1)&&(message=message.substring(1,message.length-1));try{data="undefined"!=rt.what(window.JSON)&&window.JSON.parse?window.JSON.parse(message):eval("("+message+")"),"afterImpression"==data.type&&(st.runScript=!1)}catch(e){return void lg.error("Data parsing failed: "+e.message+". message:"+message+" ",this.receiveMessage)}"error"==data.action?lg.error(data.data,this.receiveMessage):"event"==data.action?rt.event.fire(data.type,data.data):data.action||rt.event.fire("afterImpression",data)}},setAdsParams:function(e){var t,n,i,o,r,s,a=this.$root,d=a.settings,l=a.utils,c=a.helpers,u=a.comm.settings.responses.gsd,h=a.settings.impression.params,m=[],g=a.comm.settings.responses.impression.rauth,p=a.comm.settings,f=p.responses.impression.fpid,v={},b=c.getTimeZone();return r=e,o=c.getVar("advtq",null,!0),(i=d.hooksMap[r.hookId])&&(t=r.hookId,i.bdc=++d.bdc,r.dim&&(v=r.dim,v=this.roundDimensions(v)),r.capara&&(l.object.size(r.capara)?l.object.size(r.capara)>0&&(s=l.object.stringify(r.capara),r.params=l.object.clean({capara:s})):delete r.capara),n=l.object.clean(l.object.extend({lid:t,bdc:i.bdc,prod_t:i.prod,miw:v.miw,maw:v.maw,mih:v.mih,garc:r.garc,mah:v.mah,vpfc:c.getVpfc(r.prod,t)},e.params||{},a.helpers.getHookSD(t,!0))),m[0]=n),l.object.clean(l.object.extend({hks:l.object.stringify(m),rid:u.rid,jsv:a.version,sr:[screen.availWidth,screen.availHeight].join("X"),rts:l.date.now(),cfv:a.comm.settings.flashVersion,ifip:d.ifip,fpid:f,ref:d.impression.params.ref,refq:d.impression.params.refq,trce:d.trce,ose:d.ose||"",cb:"getAdsResponse",os:h.os,ov:h.ov,br:h.br,bv:h.bv,dv:h.dv,ce:h.ce,advtq:o,purl:a.helpers.isGSF()?c.getSafeFrameLocation():d.customerUrl,tzo:b,ls:a.comm.settings.ls,c:d.c,strg:d.strg,pitc:p.responses.impression.pitc||"",msgvwcoo:d.msgvwcoo||"",msgvwimp:d.msgvwimp||"",sua:d.sua},g,d.nativeAppParams,u.cks))},isGetAdProduct:function(e){var t=this.$root.settings;return e==t.getAdsProds.fl||e==t.getAdsProds.fr||e==t.getAdsProds.u||e==t.getAdsProds.k||e==t.getAdsProds.h||e==t.getAdsProds.s||e==t.getAdsProds.x||e==t.getAdsProds.o||e==t.getAdsProds.d||e==t.getAdsProds.e||e==t.getAdsProds.z||e==t.getAdsProds.b||!isNaN(e)},addSpecialGetAdsParams:function(e){for(var t in e)if(!this.isGetAdProduct(t))for(var n in e)this.isGetAdProduct(n)&&(e[n][t]=e[t]);return e},sendAjaxRequest:function(e){var t,n,i=this.$root,o=window.XMLHttpRequest?new XMLHttpRequest:null;if("object"!=i.what(e))return null;if(o&&"withCredentials"in o?t=o:window.XDomainRequest&&(n=new XDomainRequest),!t&&!n)return null;function r(e,t){if(!e.done&&!e.aborted){var n=e.xhr||e.xdr;e.done=!0,e.xdr||200==e.xhr.status?(e.onSuccess&&i.comm.handleAjaxResponse({action:"event",type:e.onSuccess,data:n.responseText}),t&&i.event.fire(t.event,t.data)):(e.xdr||0!=e.xhr.status)&&i.comm.handleAjaxResponse({action:"error",data:"Ajax request failed."})}}function s(){if(a&&!a.done){var e=a.xhr||a.xdr;a.aborted=!0,e.abort(),i.comm.handleAjaxResponse({action:"error",data:"Ajax request timed out."}),a.xhr&&delete a.xhr.onreadystatechange}}t?t.onreadystatechange=function(){try{if(!a||!a.xhr)return;4==a.xhr.readyState&&r(a,e.callback)}catch(e){i.loggly.errorLog(e,"_comm sendAjaxRequest onreadystatechange unexpected error in handler for event 'onreadystatechange'")}}:n.onload=function(){try{r(a,e.callback)}catch(e){i.loggly.errorLog(e,"_comm sendAjaxRequest onload unexpected error in handler for event 'onload'")}};var a=i.utils.object.extend({xhr:t,xdr:n,process:function(){var e=a.xhr||a.xdr,t=a.params||{},n=a.method||"GET",o=a.url||window.location.href;a.queryString=(a.queryString?a.queryString+"&":"")+i.utils.object.toQueryString(t,!0).substr(1),"GET"==a.method&&a.queryString&&(a.url+=(a.url.indexOf("?")>-1?"&":"?")+a.queryString),a.timeout>0&&setTimeout(s,a.timeout),a.xhr?a.xhr.open(n,o,!0):a.xdr.open(n,o),"POST"==n?(a.xhr&&"function"==i.what(a.xhr.setRequestHeader)&&a.xhr.setRequestHeader("Content-type","application/x-www-form-urlencoded"),e.send(a.queryString)):e.send()}},e);return a.process(),a},handleAjaxResponse:function handleAjaxResponse(response){var rt=this.$root,data;if("error"==response.action)rt.logger.error(response.data,this.handleAjaxResponse);else if("event"==response.action){try{data="undefined"!=rt.what(window.JSON)&&window.JSON.parse?window.JSON.parse(response.data):eval("("+response.data+")")}catch(e){return void rt.logger.error("Data parsing failed: "+e.message,this.handleAjaxResponse)}rt.event.fire(response.type,data)}},getRedirectUrl:function(e,t,n,i){var o,r=this.$root,s=r.settings,a=r.utils,d=a.object,l=r.helpers.getHookData(e.id),c=r.helpers.getAdByMidx(l.ads,l.ads[e.currentAdIndex].midx);if(c.noClickPrefix)return t||c.redirectURL;i&&i.capara&&(o=i.capara,"object"==r.what(o)&&(o=r.utils.object.stringify(o)));var u=a.date.now(),h=d.clean(d.extend({rid:this.settings.responses.gsd.rid,bdc:e.bdc,midx:e.midx||l.ads[e.currentAdIndex].midx,rts:u,vt:a.timer.poll("adView"+e.id),clk_t:n,jsv:r.version,prod_t:e.prod||"",tcln:e.tcln||"",trce:s.trce,pst:e.pst||"",cv:e.viewed?1:0,refq:s.impression.params.refq||"",ifip:s.ifip||"",cmpid:c.campaignUuid,capara:o},r.helpers.getHookSD(e.id)));return h.rurl=t||c.redirectURL||"",h.rurl=r.helpers.validateProtocol(h.rurl),[s.protocol,this.settings.responses.gsd.rs,"/action/clk.htm"].join("")+d.toQueryString(h,!0)},roundDimensions:function(e){return e.miw&&(e.miw=Math.floor(e.miw)),e.maw&&(e.maw=Math.ceil(e.maw)),e.mih&&(e.mih=Math.floor(e.mih)),e.mah&&(e.mah=Math.ceil(e.mah)),e}},{settings:{responses:{},errorReportingUrl:"http://cel.infolinks.com/",ls:"",products:{}},loadedScripts:{},pendingRequests:[]},!0);comm.$create("flash",{getSwfUrl:function(){return["//",this.$root.settings.hosts.resources,"/flash/ic5.swf"].join("")},embed:function(){var e=this.$root,t=this.getSwfUrl();e.utils.timer.start("tmr_fsh"),e.utils.dom.createDOMFragment({tag:"div",parent:document.body,style:{display:"block",position:"absolute",top:"1px",left:"1px",width:"1px",height:"1px"},innerHTML:['<embed pluginspage="http://www.macromedia.com/go/getflashplayer" src="',t,'" width="1" height="1" wmode="transparent" name="ilfc" allowScriptAccess="always" type="application/x-shockwave-flash"></embed>'].join("")})},embedIE:function embedIE(options){var rt=this.$root,st=rt.settings,ut=rt.utils,swf=this.getSwfUrl(),id="ilfc"+rt.utils.number.next("flashEmbedConter");this.requests[options.url]={request:ut.object.extend(options,{open:!1,complete:!1})};var flashVars=ut.object.toQueryString({url:options.url,method:options.method,success:options.onSuccess,error:options.onSuccess},!0).substr(1);options.params&&(flashVars+=["&",ut.object.toQueryString(options.params,!0).substr(1)].join("")),window[id+"_DoFSCommand"]=function(command,args){var response,func;try{func=eval(command),response=eval(decodeURIComponent(args))}catch(e){return void rt.logger.error("Error evaluating response.",this)}func.call(func.$parent,response)},rt.utils.timer.start("tmr_fsh"),ut.dom.createDOMFragment({tag:"div",parent:document.body,style:{display:"block",position:"absolute",top:"1px",left:"1px",width:"1px",height:"1px"},innerHTML:['<object id="',id,'" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" codebase="http://download.macromedia.com/pub/shockwave/cabs/flash/swflash.cab" width="1" height="1" align="middle">','<param name="movie" value="',swf,'" />','<param name="quality" value="high" />','<param name="allowScriptAccess" value="always" />','<param name="wmode" value="transparent" />','<param name="flashvars" value="environment=IE&pcode=',st.impression.pcode,"&",flashVars,'" />',"</object>","<sc","ript event=FSCommand(command,args) for=",id,">\n ",id,"_DoFSCommand(command, args)</sc","ript>"].join("")}),this.flashLoadComplete()},flashLoadUpdate:function(e){this.flashLoadAmount=e},flashLoadComplete:function(){var e=this.$root;for(this.flashLoadAmount=10,this.flashElement=window["ilfc"+e.utils.number.get("flashEmbedConter")]||document.ilfc,e.utils.timer.stop("tmr_fsh");this.$parent.pendingRequests.length;)e.event.fire("sendImpression",e.comm.pendingRequests.shift())},sendURLRequest:function(e,t,n,i,o,r){this.requests[e]={request:{url:e,method:t,params:n,success:i,error:o,contextReferenceKey:r,open:!1,complete:!1}},this.flashElement.sendURLRequest(e,t,n,i,o,r)},requestOpenHandler:function(e){this.requests[e.url].request.open=!0},requestCompleteHandler:function requestCompleteHandler(response){var rt=this.$root,data,request=this.requests[response.url];if(request){if(request.request.complete=!0,request.response=response,response.success){var event=response.success;try{data=eval(response.data.replace(/^data=/,""))}catch(e){return void rt.logger.error("Error Evaluating Response.")}rt.event.fire(event,data)}}else rt.logger.error("Missing Request Object")},requestError:function(e){if(this.requests[e.url].response=e,e.error){var t=e.error;this.$root.event.fire(t,e)}},getFlashVersion:function(){var e,t=-1,n="Shockwave Flash",i=navigator.plugins,o=this.$root.browser;if(i&&i.length&&(e=i[n+" 2.0"]||i[n])&&(t=parseFloat(e.description.replace(/[a-z ]+([0-9\.]+)[a-z ]+/i,"$1."))),-1==t&&o.IE&&o.Windows){for(var r,s=[".9",".7",".6",".3",".3",""],a=[null,null,"WIN 6,0,21,0",null,"WIN 3,0,18,0","WIN 2,0,0,11"],d=0,l=s.length;d<l;d++){try{r=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"+s[d]),t=a[d]?a[d]:r.GetVariable("$version")}catch(e){}if(-1!=t)break}-1!=t&&(t=parseFloat(t.replace(/^[a-z ]+/i,"").replace(/,/g,".")))}return t}},{requests:{}},!1),comm.bind({event:"initComm",listener:{init:function(){var e=this.$root,t=this.settings;e.browser;t.initialized||(t.initialized=!0,t.flashVersion=this.flash.getFlashVersion(),e.comm.settings.listeningToMessages||e.event.dom.bind(window,{event:"message",listener:this.receiveMessage}),this.supportsCORS()?t.mode="cors":window.postMessage?(t.mode="messaging",t.messagingReady=!1,e.utils.dom.createDOMFragment({tag:"div",style:{display:"none"},parent:document.body,innerHTML:['<iframe id="iceCommFrame" src="',e.settings.protocol,t.responses.gsd.rs,'/comm2.htm" width="1" height="1" frameborder="0" scrolling="no"></iframe>'].join("")})):t.flashVersion>=9?(t.mode="flash",e.browser.IE||this.flash.embed()):(t.mode="unsupported",e.logger.error("Unsupported comm mode",this.init)))}}}),comm.bind({event:"sendImpression",listener:{sendImpression:function(e){var t,n,i,o,r,s,a=this.$root,d=a.browser,l=(a.settings,this.settings),c=(a.utils.array,e.data.options),u=e.data.beforeSend,h="function"==a.what(u);if("cors"==l.mode)h&&u.call(a,"a"),this.sendAjaxRequest(c);else if("messaging"==l.mode)if(l.messagingReady){h&&u.call(a,"a");var m=a.utils.object.stringify({action:"ajax",data:c});this.sendMessage(m)}else a.utils.array.push(this.pendingRequests,e.data);else if("flash"==l.mode)d.IE?(h&&u.call(a,"f"),this.flash.embedIE(c)):10==this.flash.flashLoadAmount&&this.flash.flashElement?(h&&u.call(a,"f"),this.flash.sendURLRequest(c.url,c.method,c.params,c.onSuccess,c.onSuccess,1)):a.utils.array.push(this.pendingRequests,e.data);else{for(h&&u.call(a,"s"),t=c.params.ptxt,(n=a.utils.string.qw("ptxt plinks pimgs phdrs pdesc page_keyw ptitle")).length,r=0,s=n.length;r<s;r++)c.params[n[r]]="";if(a.utils.object.clean(c.params),i=a.utils.object.toQueryString(c.params).length+c.url.length+document.location.href.length+navigator.userAgent.length+document.cookie.length+400,(o={IE:2048,Other:8192}[d.IE?"IE":"Other"]-i)<0)return void a.logger.error("Request too long for GET.",this.sendImpression);c.params.ptxt=o>0?t.substring(0,o):"",c.params.twnum=a.helpers.countWords(c.params.ptxt),this.loadScript(c.url,c.params)}}}}),comm.bind({event:"callGetAds",listener:{callGetAds:function(e){var t=this.$root,n={},i=t.settings,o=e.data.hookId,r=t.comm.settings.responses.gsd,s=t.utils;for(var a in t.helpers.getHookData(o)||t.helpers.setHookData(o,"pending"),n=this.setAdsParams(e.data),s.cookie.getCCP()&&(n.usprivacy=s.cookie.getCCP()),"undefined"!=t.what(window.x1)&&"undefined"!=t.what(window.x2)&&(n[window.x1]=window.x2),localStorage.getItem("intentiq-apn")&&(n["intentiq-apn"]=localStorage.getItem("intentiq-apn")),i.il_ls)n[a]=i.il_ls[a];n.hbnr=!!t.settings.pbIceLoaded,n.msgvwcoo&&delete n.msgvwcoo,n.msgvwimp&&delete n.msgvwimp,t.comm.loadScript(r.rs+"/action/getads.htm",n)}}}),comm.bind({event:"getAdsResponse",listener:{getAdsResponse:function(e){var t=this.$root,n=t.settings,i=t.helpers,o=t.comm.settings.responses.impression,r=t.comm.settings;for(var s in e.data=this.addSpecialGetAdsParams(e.data),i.checkForAttrToRemove(e.data.msgvwcoo,e.data.msgvwimp,o),e.data){if(!isNaN(s))return void t.event.fire("getadsResponseBubble",e.data[s]);if(-1!=s.indexOf(n.getAdsProds.u))t.event.fire("getadsResponseInplace",e.data[s]);else if(-1!=s.indexOf(n.getAdsProds.k))t.event.fire("getadsResponseIncube",e.data[s]);else switch(s.replace(/[0-9]/g,"")){case n.getAdsProds.z:case n.getAdsProds.b:case n.getAdsProds.e:t.event.fire("getadsResponseBubble",e.data[s]);break;case n.getAdsProds.h:r.isInscreenE?(r.intopData=e.data[s],r.getadsResponseIntopPending=!0):(r.getadsResponseIntopPending=!1,t.event.fire("getadsResponseIntop",e.data[s]));break;case n.getAdsProds.s:case n.getAdsProds.x:case n.getAdsProds.o:case n.getAdsProds.d:r.isInscreenE?(r.insearchData=e.data[s],r.getadsResponseInsearchPending=!0):(r.getadsResponseInsearchPending=!1,t.event.fire("getadsResponseInsearch",e.data[s]));break;case n.getAdsProds.c:case n.getAdsProds.n:case n.getAdsProds.a:e.data[s].prod=n.inContentProducts[s.replace(/[0-9]/g,"")],t.event.fire("getadsResponseIncontent",e.data[s]);break;case n.getAdsProds.fl:case n.getAdsProds.fr:t.event.fire("getadsResponseInframe",e.data[s])}if(e.data[s].lid){var a=document.getElementById("getAds_"+e.data[s].lid);a&&a.parentElement.removeChild(a)}}}}}),comm.bind({event:"setVpfc",listener:{setVpfc:function(e){var t;if(this.$root.helpers.supportsSessionStorage()){t=window.sessionStorage;var n=JSON.parse(t.getItem("vpfc"))||{},i=e.data.prod;if("u"==i){var o=e.data.id;n[i]=n[i]||{},n[i][o]=n[i][o]?parseInt(n[i][o])+1:1}else n[i]=n[i]?parseInt(n[i])+1:1;t.setItem("vpfc",JSON.stringify(n))}}}}),comm.bind({event:"sendAdView",listener:{sendAdView:function(e){for(var t,n=this.$root,i=this.settings.responses.gsd,o=n.utils,r=n.settings,s=e.data.params,a=n.settings.hooksMap[e.data.hookId],d=n.helpers.getHookData(a.id),l="undefined",c=[],u=[],h=n.utils.array.push,m=0;m<d.ads.length;m++)d.ads[m].dontShow||(h(c,d.ads[m].midx),h(u,a.bdc));e&&e.data&&e.data.capara&&o.object.size(e.data.capara)>0&&(t=o.object.stringify(e.data.capara));var g=o.object.clean(o.object.extend({rid:i.rid,bdc:n.what(s.bdc)!=l?s.bdc:u.join("~"),midx:n.what(s.midx)!=l?s.midx:c.join("~"),emd:n.what(s.emd)!=l?s.emd:d.ads[a.currentAdIndex].emd||"",rts:o.date.now(),trce:r.trce,prod_t:"unknown",jsv:n.version,ifip:n.settings.ifip||"",skin:a.skin,theme:a.theme,themeset:a.themeset,capara:t,cmpid:d.ads[a.currentAdIndex]?d.ads[a.currentAdIndex].campaignUuid:""},n.helpers.getHookSD(a.id),s,r.nativeAppParams)),p=n.helpers.createAdViewUrl({hookId:a.id,params:g});this.sendAjaxRequest({url:p})}}}),comm.bind({event:"sendClientLog",listener:{sendClientLog:function(e){var t=this.settings.responses.gsd,n=this.createClientLogParams(e);this.loadScript([t.rs,"/action/dcl.htm"].join(""),n)}}}),comm.bind({event:"adViewed",listener:{adViewed:function(e){this.$root.settings.hooksMap[e.data.hookId].viewed=!0}}}),comm.bind({event:"doRedirect",listener:{doRedirect:function(e){var t,n=e.data,i=this.$root,o=i.settings,r=i.browser,s=i.utils,a=n.hook,d=i.helpers.getHookBehavior(a.id,e.data.behavior).adsReuseWindow;if("k"===a.prod){if("complete"===a.clickStatus[e.data.side])return}else if("complete"==o.clickStatus)return;n.maxLength||(n.maxLength=r.IE?2048:8192);var l=i.helpers.getHookData(a.id),c=n.url||i.helpers.getAdByMidx(l.ads,l.ads[a.currentAdIndex].midx).redirectURL;i.event.fire(a.type+"HookMouseout",{hookId:a.id});var u=a.node&&a.node.id||n.cleanHookID;if("k"===a.prod?a.clickStatus[e.data.side]="complete":o.clickStatus="complete",d||a.bubble&&i.event.fire("hideBubble",{hookId:a.id}),a=null,c.length<n.maxLength){t=u;try{t=o.adWin.name}catch(e){}if(n.cleanHookID&&(t=n.cleanHookID),r.IE&&r.getVersion(!0)<9){var h=i.utils.dom.createDOMFragment({tag:"a",parent:document.body,attributes:{href:c},style:{display:"none"}});!d&&o.adWin&&t==u&&(h.target=t),h.click()}else if(!d&&o.adWin&&t==u)try{o.adWin.location=c}catch(e){window.location=c,o.adWin.close(),o.adWin=null}else window.location=c}else{var m=c,g=null,p=c.indexOf("?");if(-1!=p){m=c.substring(0,p);var f=s.string.toObject(c.substring(p+1),null,!0);for(var v in g=[],f)s.array.push(g,{tag:"input",type:"hidden",value:f[v],attributes:{name:v}})}s.dom.createDOMFragment({tag:"form",parent:document.body,style:{display:"none"},children:g,attributes:s.object.extend({action:m,method:"post"},d?{}:{target:u})}).submit()}}}}),comm.bind({event:"productClick",listener:{productClick:function(e){var t,n=this.$root,i=n.settings,o=e.data.hookId,r=i.hooksMap[o],s=n.helpers,a=n.helpers.getHookData(o),d=e.data.clickType||r.clickType,l=e.data.cleanHookID,c=s.getHookBehavior(o,e.data.behavior),u=n.utils;if("k"===r.prod){if(t=e.data.side,r.clickStatus&&r.clickStatus[t]&&"complete"===r.clickStatus[t])return void("false"===c.rmc||n.event.fire("sendClientLog",{params:{hookId:o,misclickProd:(new Date).getTime()}}));r.clickStatus[t]="pending"}else if("complete"==i.clickStatus)return void("false"===c.rmc||n.event.fire("sendClientLog",{params:{hookId:o,misclickProd:(new Date).getTime()}}));if(("onLink"==d||"onLinkAfterWinOpen"==d)&&a&&a.ads&&a.ads[r.currentAdIndex]&&!a.ads[r.currentAdIndex].redirectURL)return i.clickStatus="none",void(i.adWin&&(n.event.fire("hideBubble",{hookId:o}),i.adWin.close(),i.adWin=null));var h=this.getRedirectUrl(r,e.data.url||null,d,e.data);if(c.mi&&-1==c.mi.indexOf(i.mobileIntext.old))return n.event.fire("sendClientLog",{params:{hookId:r.id,clickLocation:e.data.clickLocation,timeUntilClick:u.timer.poll("mi_timer")}}),void("onWin"==d&&n.event.fire("startClick",{url:h,hook:r,cleanHookID:l,side:t||null}));n.helpers.getHookBehavior(r.id,e.data.behavior).adsReuseWindow?setTimeout((function(){n.event.fire("sendClientLog",{params:{hookId:r.id,noLoadEvent:!0}})}),3e3):i.adWin=window.open("",r.node?r.node.id:l),n.event.fire("startClick",{url:h,hook:r,cleanHookID:l,behavior:e.data.behavior||null,side:t||null})}}}),comm.bind({event:"startClick",listener:{updateClickCookie:function(e){var t=this.$root,n=t.settings,i=t.utils,o=i.object,r=t.utils.date.now(),s=e.data.hook,a=t.helpers.getHookData(s.id),d=t.helpers.getAdByMidx(a.ads,a.ads[s.currentAdIndex].midx),l=s.midx||a.ads[s.currentAdIndex].midx,c=o.clean(o.extend({rid:this.settings.responses.gsd.rid,bdc:s.bdc,midx:l,emd:d.emd||"",rts:r,vt:i.timer.poll("adView"+s.id),clk_t:s.clickType,jsv:t.version,prod_t:s.prod||"",tcln:s.tcln||"",pst:s.pst||"",trce:n.trce,ifip:n.ifip||""},t.helpers.getHookSD(s.id))),u={method:"GET",callback:{event:"doRedirect",data:e.data},url:[t.settings.protocol,this.settings.responses.gsd.rs,"/",r,"/ck.js?",encodeURIComponent(JSON.stringify(c))].join("")};this.sendAjaxRequest(u)}}}),comm.bind({event:"commRemoteReady",listener:{commRemoteReady:function(){for(this.settings.messagingReady=!0;this.pendingRequests.length;)this.$root.event.fire("sendImpression",this.pendingRequests.shift())}}}),comm.bind({event:"sendErrorReport",listener:{sendErrorReport:function(e){var t=this.$root,n=t.settings,i=t.comm.settings.responses.gsd,o=null,r=null;e.data.cbdata&&(o=e.data.cbdata.evt,r=e.data.cbdata.data,delete e.data.cbdata),this.loadScript(this.settings.errorReportingUrl,t.utils.object.extend({pid:n.customerId,wsid:n.websiteId,jsv:t.version,trce:n.trce,rid:i?i.rid:""},e.data||{}),o,r)}}}),$root.$create("settings",{},{supportedClients:{IE:6,Edge:12,Firefox:1.5,Safari:3,MobileSafari:1,Opera:10,Chrome:1,AppleWebKit:533,ucweb:2},hosts:{resourcesDefault:"resources.infolinks.com",scriptDefaultPath:"/js/"},productCodes:{i:"intext",t:"intag",s:"insearch",f:"inframe",e:"inscreen",c:"incontent",n:"inrecommend",a:"inarticle",h:"intop",u:"inplace",K:"incube"},singleGetAdsProds:{},getAdsProds:{fl:"IL_IF_LEFT",fr:"IL_IF_RIGHT",c:"IL_IN_CONTENT",n:"IL_IN_RECOMMEND",a:"IL_IN_ARTICLE",u:"u_IL_INPLACE",k:"k_IL_INCUBE",h:"h_IL_INTOP",s:"s_IL_INSEARCH",x:"x_IL_INSEARCH",o:"o_IL_INSEARCH",d:"d_IL_INSEARCH",e:"IL_INSCREEN_e",b:"IL_INSCREEN_b",z:"IL_INSCREEN_z"},inContentProducts:{IL_IN_CONTENT:"c",IL_IN_RECOMMEND:"n",IL_IN_ARTICLE:"a"},nodeTypes:{ELEMENT:1,DOCUMENT:9,TEXT:3,COMMENT:8},baseZIndex:1e10,bdc:0,behavior:{def:{linkColor:"009900",bubbleShowDelay:200,bubbleHideDelay:1e3,adsReuseWindow:!0,hoverRequestDelay:20},sanitizer:{linkColor:"color",linkHoverColor:"color",linkHoverBgColor:"color",bubbleShowDelay:"int",bubbleHideDelay:"int",adsReuseWindow:"bool",hoverRequestDelay:"int"}},hooksMap:{},hooksCount:0,baseClass:"IL_BASE",clickStatus:"none",defaultLabel:"infolinks",defaultHomeUrl:"http://www.infolinks.com/<%= langPath %>?kid=<%=kid%>&trackerid=101",defaultHelpUrl:"http://www.infolinks.com/<%= lang %>learn-more-about-infolinks/?pid=<%= cid %>&wsid=<%= wsid %>",white_labelLoaded:!1,kid:{i:"TX",t:"TG",s:"SR",x:"XS",o:"OS",f:"FR",e:"ISE",z:"ISZ",b:"ISB",c:"CT",n:"RE",a:"AR"},siteUrl:window.location.href,runScript:!0,protocol:window.location.href.substr(0,window.location.href.indexOf("://")+3),startInFold:!1,bubbleAdMsgIdx:"",countDownTimers:{},emptyString:"",useClParams:{},productAttributes:{options:{inherit:["array","inherit"],adc:["color","adDescriptionColor"],adfs:["int","adDescriptionFontSize"],adt:["int","adDescriptionTop"],adw:["int","adDescriptionWidth"],adh:["int","adDescriptionHeight"],adbt:["int","adDescriptionAndButtonTop"],aub:["int","adDisplayUrlBottom"],uc:["color","adDisplayUrlColor"],aufs:["int","adDisplayUrlFontSize"],auh:["int","adDisplayUrlHeight"],aut:["int","adDisplayUrlTop"],atl:["int","adTextsLeft"],tc:["color","adTitleColor"],atfs:["int","adTitleFontSize"],atmh:["int","adTitleMaxHeight"],attd:["str","adTitleTextDecoration"],atmt:["str","adTitleMarginTop"],atw:["int","adTitleWidth"],att:["int","adTitleTop"],aataat:["int","adAreaTop"],bgc:["color","BackgroundColor"],bgi:["str","backgroundImage"],bbc:["color","bodyBorderColor"],bbw:["int","bodyBorderWidth"],bpt:["int","bodyPaddingTop"],blc:["color","borderLeftColor"],blw:["int","borderLeftWidth"],brc:["color","borderRightColor"],brw:["int","borderRightWidth"],hbc:["color","headerBorderColor"],hbw:["int","headerBorderWidth"],bcn:["str","buttonClassName"],bcno:["str","buttonClassNameOver"],bbi:["str","buttonBackgroundImage"],bbpo:["str","buttonBackgroundPositionOver"],bbgc:["color","buttonBackgroundColor"],bbco:["color","buttonBackgroundColorOver"],bbr:["str","buttonBorder"],bbrr:["str","buttonBorderRadius"],bbp:["int","buttonBottom"],bc:["color","buttonColor"],bfs:["int","buttonFontSize"],bwd:["int","buttonWidth"],brp:["int","buttonRight"],bt:["str","buttonText"],btp:["int","buttonTop"],bht:["int","buttonHeight"],cef:["enum","closeEffect"],fi:["str","favicon"],ff:["int","fontFamily"],bte:["bool","hasButton"],ht:["bool","hasTail"],hbgc:["color","headerBackgroundColor"],hbgi:["str","headerBackgroundImage"],hgt:["int","height"],hgtc:["int","heightClosed"],hpcn:["str","helpButtonClassName"],hpbi:["str","helpButtonBackgroundImage"],hpp:["str","helpButtonBackgroundPosition"],hppo:["str","helpButtonBackgroundPositionOver"],hph:["int","helpButtonHeight"],hpl:["str","helpButtonLink"],hpcb:["function","helpButtonCallback"],hpw:["int","helpButtonWidth"],hpr:["int","helpButtonRight"],hpt:["int","helpButtonTop"],lbc:["color","leadBrandColor"],lgh:["int","logoHeight"],lgl:["str","logoLink"],lgu:["str","logoUrl"],lgw:["int","logoWidth"],lt:["int","logoTop"],oef:["enum","openEffect"],rc:["int","roundedCorners"],sdw:["bool","shadow"],sdwo:["bool","shadow"],stfs:["int","searchTitleFontSize"],stc:["int","searchTitleColor"],spfs:["int","searchPrefixFontSize"],stp:["str","searchTitlePrefix"],stpc:["str","searchTitlePrefixColor"],sts:["str","searchTitleSuffix"],tt:["enum","tailType"],tcl:["function","tailColor"],wdh:["int","width"],xbcn:["str","xButtonClassName"],xbi:["str","xButtonBackgroundImage"],xbp:["int","xButtonBackgroundPosition"],xbpo:["int","xButtonBackgroundPositionOver"],xbh:["int","xButtonHeight"],xbw:["int","xButtonWidth"],xbr:["int","xButtonRight"],xbt:["int","xButtonTop"],cpt:["str","caption"],cpw:["int","captionWidth"],cph:["int","captionHeight"],cptp:["int","captionTop"],cprt:["int","captionRight"],cplt:["int","captionLeft"],cpcl:["color","captionColor"],cpfs:["int","captionFontSize"],cphpu:["str","captionHorizontalPlacementUnits"],cphpt:["str","captionHorizontalPlacementTranslate"],cpfw:["str","captionFontWeight"],rct:["str","resultContentTop"]}},textLimits:{def:{plinks:{t:2,i:100},pimgs:{t:2,i:100},phdrs:{t:2,i:100},pdesc:1,page_keyw:2}},loadedData:{},translations:{advertisement:{en:"Advertisement",es:"Aviso Publicitario"},clickHere:{en:"Click here",es:"Presione%20Aqu%C3%AD"},searchingFor:{en:"Searching for",es:"%C2%BFBuscando"},nextSearchResultFor:{en:"Next search result for",es:"Nueva%20b%C3%BAsqueda%20para"},learnMore:{en:"Learn More",es:"Saber%20m%C3%A1s"},adsBy:{en:"Ads by",es:"Anuncios"},continueToSite:{en:"Continue to site in",es:"Continuar%20al%20sitio%20en"}},prs:{t:{}},intagMinContentWidth:200,waitForViewEvent:!1,msgvwcoo:"",msgvwimp:"",prodvw:"",fc:{},autoMarkerCls:"IL_IN_AUTO",capara:{},c:"",strg:"",singleGetAdsPrs:{},msgvwcooToRemove:"msgvwcoo",msgvwImpToRemove:"msgvwImp",oldIE:(b=$root.browser,b.IE&&("BackCompat"==document.compatMode||b.getVersion(!0)<9)),webkitTransformOrigin:"-webkit-perspective: 1000; -webkit-transform-origin: 0 0; transform-origin: 0 0; -ms-transform-origin: 0 0;",inContentSets:{inContentAutoExecuted:!1,instanceCounter:0,inContentManualExist:!1},mobileIntext:{old:"old",twoClick:"twoclick",countDown:"countdown",defaultCountDownTime:5e3},nativeAppParmas:{},appParamLimits:10,paramCharLimit:300,defaultLocation:2,noIframe:"NO_IFRAME",noUnit:"NO_UNIT",maxWidth:"MAX_WIDTH",inTagSettings:{relatedTags:"IL_RELATED_TAGS",prodId:"IL_IN_TAG"},inFrameSettings:{width:{thin:120,wide:160},buffer:15}}),$root.$create("harvest",{createInstance:function(){var e={texts:[],nodes:[],stopped:!1,harvesting:!1,firstNode:null,charCount:0,insideAllowedNode:null,useAllowSettings:!1};return e},setConditionalTags:function(){var e=this.$root.settings,t=this.settings,n=(e.white_label||e.defaultLabel).toUpperCase();t.tagGenericOff="INTEXT_OFF",t.tagGenericOn="INTEXT_ON",t.tagGenericStop="INTEXT_STOP",t.tagGenericToggle="INTEXT_TOGGLE",t.tagOff=n+"_OFF",t.tagOn=n+"_ON",t.tagStop=n+"_STOP",t.tagToggle=n+"_TOGGLE"},setHarvestEnabled:function(){var e=this.settings,t=document.body.innerHTML,n=function(e){return t.indexOf(["\x3c!--",e,"--\x3e"].join(""))},i=n(e.tagGenericOn),o=n(e.tagOn),r=-1==i||-1==o?Math.max(i,o):Math.min(i,o),s=n(e.tagGenericOff),a=n(e.tagOff),d=-1==s||-1==a?Math.max(s,a):Math.min(s,a);e.enabled=-1==r||-1!=d&&r>d},getHarvestedText:function(e){var t=this.$root,n=t.settings,i=this.settings,o=t.helpers,r=t.utils,s=r.array,a=n.highlightDeny,d=n.highlightAllow,l=this.createInstance();if(i.instances[i.instances.length]=l,1==i.instances.length&&r.timer.start("tmr_har"),d){for(var c in i.allowedTags=s.toObject(d.tags,{},1),i.allowedIds=s.toObject(d.ids,{},1),i.allowedCls=s.toObject(d.cls,{},1),i.allowedTags)i.deniedTags[c]&&delete i.deniedTags[c];d.min||(d.min=1),l.useAllowSettings=!0}a&&(i.deniedTags=s.toObject(a.tags_ex,i.deniedTags,1),i.deniedIds=s.toObject(a.ids_ex,i.deniedIds,1),i.deniedCls=s.toObject(a.cls_ex,i.deniedCls,1)),this.setConditionalTags(),this.setHarvestEnabled(),i.allowOnclick=o.getVar("allow_onclick"),this.harvestText(e||document.body);var u=l.texts.join("|");u=o.normalizeText(u);var h=o.countWords(u);return l.useAllowSettings&&h<d.min&&(l.useAllowSettings=!1,this.harvestText(e||document.body),u=l.texts.join("|"),u=o.normalizeText(u),h=o.countWords(u)),1==i.instances.length&&r.timer.stop("tmr_har"),l.text=u,l},isHarvestableNode:function(e){var t=this.settings,n=this.$root.utils,i=n.dom;return!(null!=e.getAttribute("onclick")&&e!=document.body&&!t.allowOnclick||t.deniedTags[e.tagName.toLowerCase()]||e.id&&t.deniedIds[e.id]||e.className&&"function"==typeof e.className.split&&n.object.hasKey(t.deniedCls,e.className.split(/\s+/))||!this.$root.comm.settings.responses.gsd.wd.ht&&!n.dom.element.isVisible(e)||!i.element.isVisible(e))},harvestText:function(e){var t,n,i,o=this.$root,r=this.settings,s=null,a=o.utils,d=a.object,l=a.timer,c=o.settings.nodeTypes,u=r.instances.length-1,h=r.instances[u];h.harvesting||(h.harvesting=!0,h.stopped=!1,l.start("harvest"+u),h.nodes=[],h.texts=[],h.charCount=0,h.firstNode=e,h.useAllowSettings||(h.insideAllowedNode=e)),h.stopped||-1!=r.timeLimit&&l.poll("harvest"+u)>=r.timeLimit?h.stopped=!0:s=e.nodeType;var m=d.keys(r.allowedIds).length>0,g=d.keys(r.allowedCls).length>0;switch(s){case c.DOCUMENT:case c.ELEMENT:if(this.isHarvestableNode(e)){for(h.useAllowSettings&&!h.insideAllowedNode&&!r.deniedTags[e.tagName.toLowerCase()]&&(!m&&!g||m&&e.id&&r.allowedIds[e.id]||g&&e.className&&d.hasKey(r.allowedCls,e.className.split(/\s+/)))&&(h.insideAllowedNode=e),t=0,n=e.childNodes.length;t<n&&!h.stopped;t++)this.harvestText(e.childNodes[t]);h.insideAllowedNode==e&&(h.insideAllowedNode=null)}break;case c.TEXT:r.enabled&&h.insideAllowedNode&&(i=a.string.trim(e.data).replace(/\s+/g," ")).length>3&&(-1!=r.charLimit&&h.charCount+i.length>r.charLimit&&(h.stopped=!0,i=i.substring(0,r.charLimit-h.charCount).replace(/\S+$/,"")),a.array.push(h.nodes,e),a.array.push(h.texts,i),h.charCount+=i.length);break;case c.COMMENT:this.checkConditionalTags(a.string.trim(e.data),r)}h.firstNode==e&&(h.harvesting=!1,l.stop("harvest"+u))},checkConditionalTags:function(e,t){var n=this.settings;switch(e){case n.tagOff:case n.tagGenericOff:t.enabled=!1;break;case n.tagOn:case n.tagGenericOn:t.enabled=!0;break;case n.tagToggle:case n.tagGenericToggle:t.enabled=!t.enabled;break;case n.tagStop:case n.tagGenericStop:n.instances[n.instances.length-1].stopped=!0}}},{settings:{allowedCls:null,allowedIds:null,charLimit:8e3,deniedCls:{footer:1,wibiyaToolbar_window:1},deniedIds:{footer:1,wibiyaToolbar:1,wibiyaToolbar_window_template:1},deniedTags:{a:1,acronym:1,address:1,br:1,dd:1,dl:1,dt:1,embed:1,fieldset:1,h1:1,h2:1,h3:1,h4:1,h5:1,h6:1,iframe:1,input:1,label:1,legend:1,noscript:1,object:1,param:1,script:1,select:1,style:1,textarea:1,th:1,title:1,m:1,svg:1},enabled:!0,timeLimit:1e3,instances:[]}});var shared=$root.$create("shared",{prepareVisitCount:function(e){var t=this.$root,n=t.utils,i=(t.helpers,t.settings,""),o="",r=window.location.hostname;window.location.hostname;try{for(var s=0;s<r.length;s+=2)i+=r[s];return o+=i+"s",i=n.base64.encodeBase64(i).replace(/=/g,""),o=n.base64.encodeBase64(o).replace(/=/g,""),"undefined"!=typeof Storage&&window.JSON&&window.JSON.parse?this.saveToStorage(i,o):this.saveToCookie(i,o)}catch(e){return!1}},saveToStorage:function(e,t){var n,i=this.$root.utils,o=1,r=1,s=new Date;return i.storage.passedExpireDate(e)&&localStorage.removeItem(e),sessionStorage.getItem(t)?(localStorage.getItem(e)&&(r=(n=JSON.parse(localStorage.getItem(e))).pi+1,o=n.vc,n={d:i.date.now(),vc:o,pi:r},localStorage.setItem(e,JSON.stringify(n)),i.storage.setExpireDate(e,s.getTime()+2592e6)),sessionStorage.setItem(t,!0)):(localStorage.getItem(e)?(o=(n=JSON.parse(localStorage.getItem(e))).vc+1,r=n.pi+1,n={d:i.date.now(),vc:o,pi:r}):n={d:i.date.now(),vc:o,pi:r},localStorage.setItem(e,JSON.stringify(n)),i.storage.setExpireDate(e,s.getTime()+2592e6),sessionStorage.setItem(t,!0)),JSON.parse(localStorage.getItem(e))},intopPassback:function(e,t,n,i,o){var r,s=$root,a=s.settings,d=s.helpers;e.ads.splice(n,1),e.ads[0].dontShow=!1,s.helpers.setHookData(t.hookId,e),1==i?(a.startInFold=!0,e&&e.ads[0].emd&&d.saveFcAndPvToStorage(e.ads[0].emd,o.prod),e&&e.ads[0]&&((r=e.ads[0]).width&&-1!=r.width||(r.width=728),r.height&&-1!=r.height||(r.height=90)),d.moveAndHideElement(o.node,r.hn),s.event.fire("createIntopUnit",{hookId:t.hookId,isPassBack:!0})):(e&&e.ads[i].emd&&(d.setViews("fc","msgvwcoo"),d.setViews("pv","prodvw"),d.saveFcAndPvToStorage(e.ads[i].emd,o.prod)),s.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod}}),a.startInFold=!0)},insearchPassback:function(e,t,n,i,o){var r,s=$root,a=s.settings,d=s.helpers;e.ads.splice(n,1),e.ads[0].dontShow=!1,s.helpers.setHookData(t.hookId,e),1==i?(a.startInFold=!0,e&&e.ads[0].emd&&d.saveFcAndPvToStorage(e.ads[0].emd,o.prod),e&&e.ads[0]&&((r=e.ads[0]).width&&-1!=r.width||(r.width=728),r.height&&-1!=r.height||(r.height=90)),d.moveAndHideElement(o.node,r.hn),s.event.fire("createInsearchUnit",{hookId:t.hookId,isPassBack:!0})):(e&&e.ads[i].emd&&(d.setViews("fc","msgvwcoo"),d.setViews("pv","prodvw"),d.saveFcAndPvToStorage(e.ads[i].emd,o.prod)),s.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod}}),a.startInFold=!0)},inframePassback:function(e,t,n,i,o){var r,s=$root,a=(s.settings,s.helpers),d=s.products.inframe.settings;0==i?(e&&e.ads[0].emd&&a.saveFcAndPvToStorage(e.ads[0].emd,o.prod),a.moveAndHideElement(o.node,e.ads[0].hn),s.event.fire("createInframe",{hookId:t.hookId,ad:e.ads[0],isPassback:!0})):(e&&e.ads[i].emd&&(a.setViews("fc","msgvwcoo"),a.setViews("pv","prodvw"),a.saveFcAndPvToStorage(e.ads[i].emd,o.prod)),r=-1!=event.data.hookId.indexOf("RIGHT")?"right":"left",s.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod,bdc:d.adViewParams[r].bdc.join("~"),midx:d.adViewParams[r].midx.join("~"),emd:d.adViewParams[r].emd.join("~")}}))},incontentPassback:function(e,t,n,i,o,r){var s=$root,a=s.helpers;1==i?(e.ads.splice(n,1),s.helpers.setHookData(t.hookId,e),o.doneAnimating=!1,s.event.fire("createIncontentUnit",{hookId:t.hookId,hook:o,isPassback:true,prod:r})):(e&&e.ads[i].emd&&(e.ads.splice(n,e.ads.length),s.helpers.setHookData(t.hookId,e),a.setViews("fc","msgvwcoo"),a.setViews("pv","prodvw"),a.saveFcAndPvToStorage(e.ads[i].emd,o.prod)),s.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod}}))},bubblePassback:function(e,t,n,i,o){var r=$root,s=r.settings,a=r.helpers,d={};(o.bubble.status="null",e.width<200&&(e.width=r.bubble.settings.def.width),e.height<60&&(e.height=r.bubble.settings.def.height),e.ads.splice(n,1),e.ads[0].dontShow=!1,r.helpers.setHookData(t.hookId,e),s.waitForViewEvent)?1==i?(e&&e.ads[0].emd&&a.saveFcAndPvToStorage(e.ads[0].emd,o.prod),a.moveAndHideElement(o.bubble.node,e.ads[0].hn),r.event.fire("showBubble",{hookId:t.hookId,isPassback:!0}),r.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod},capara:d}),r.utils.timer.start("adView"+t.hookId),o.startBubble=!0):(s.useClParams.itl?d.hii=o.instanceIndex:d=null,r.helpers.getHookData(t.hookId).hoverd||(e&&e.ads[i].emd&&(a.setViews("fc","msgvwcoo"),a.setViews("pv","prodvw"),a.saveFcAndPvToStorage(e.ads[i].emd,o.prod)),e.hoverd=!0,r.helpers.setHookData(t.hookId,e)),r.event.fire("sendAdView",{hookId:t.hookId,params:{prod_t:o.prod},capara:d}),r.utils.timer.start("adView"+t.hookId),o.startBubble=!0):r.event.fire("showBubble",{hookId:t.hookId})},saveToCookie:function saveToCookie(cnameB64,scnameB64){var rt=this.$root,ut=rt.utils,hp=rt.helpers,st=rt.settings,visit,vc=1,pi=1,date=new Date;return ut.cookie.has(scnameB64)?(ut.cookie.has(cnameB64)&&(visit=eval("("+ut.cookie.get(cnameB64)+")"),pi=visit.pi+1,vc=visit.vc,visit={d:ut.date.now(),vc:vc,pi:pi},date.setTime(date.getTime()+2592e6),ut.cookie.set(cnameB64,ut.object.stringify(visit),date)),ut.cookie.set(scnameB64,!0)):(ut.cookie.has(cnameB64)?(visit=eval("("+ut.cookie.get(cnameB64)+")"),vc=visit.vc+1,pi=visit.pi+1,visit={d:ut.date.now(),vc:vc,pi:pi}):visit={d:ut.date.now(),vc:vc,pi:pi},date.setTime(date.getTime()+2592e6),ut.cookie.set(cnameB64,ut.object.stringify(visit),date),ut.cookie.set(scnameB64,ut.object.stringify(visit))),eval("("+ut.cookie.get(cnameB64)+")")}},null,!0);shared.bind({event:"main",listener:{main:function(){var e=this.$root,t=e.utils,n=e.settings,i=e.helpers;if($ice.VERSION="2001.006-4.011","false"!==i.getVar("usync")){e.helpers.getCustomerId();var o="https://router.infolinks.com/usync/manage?pid="+n.customerId+"&wsid="+n.websiteId+"&pdom="+encodeURIComponent(location.hostname)+"&purl="+encodeURIComponent(n.customerUrl);t.dom.createIframe({tag:"iframe",id:"IL_MANAGE",parent:document.body,style:{position:"absolute",margin:"0 0",display:"none"},src:t.cookie.getCCP()?o+"&usprivacy="+t.cookie.getCCP():o,sandbox:"allow-same-origin allow-scripts allow-top-navigation"})}n.cconf=t.string.toObject(t.cookie.get("$ice-conf"))||{},n.cconf.logto&&(e.logger.output=n.cconf.logto),n.cconf.er&&(e.logger.errorReporting=parseInt(n.cconf.er,10)),e.utils.timer.start("tmr_wait"),e.settings.boot=window.INFOLINKS&&window.INFOLINKS._boot?window.INFOLINKS._boot:window.$iceboot?window.$iceboot:null;e.helpers.getVar("white_label",e.settings),e.helpers.chanceIntegration()||this.$root.event.fire("domready")}}}),shared.bind({event:"pbiceLoaded",listener:{pbiceLoaded:function(e){this.$root.settings.pbIceLoaded=!0}}}),shared.bind({event:"domready",listener:{domready:function(){var e,t,n=this.$root,i=n.helpers;n.utils.timer.stop("tmr_wait"),n.utils.timer.start("tmr_all"),t=i.getVar("no_if"),!i.isGSF()&&(0!=t&&i.inIframe()||i.shouldBlock())||(n.settings._initialized&&(e="Trying to re-run an application that has already been initialized."),e?n.logger.error(e,this.domready):(n.settings._initialized=!0,i.setHosts(),n.event.fire("loadPlugins")))}}}),shared.bind({event:"loadPlugins",listener:{loadPlugins:function(){var e,t,n,i,o=this.$root,r=o.settings,s=r.hosts;if(o.settings.white_label&&!o.settings.white_labelLoaded)return o.settings.white_labelLoaded=!0,void o.comm.loadScript([s.resources,s.scriptDefaultPath,"0/wl/",r.white_label,".js"].join(""),null,"loadPlugins");var a=o.helpers.getVar("inline_plugin");a&&"function"==o.what(a)&&a();var d=o.helpers.getVar("plugins");if(d)for(e=o.settings.hosts.src?"/src":"","string"==o.what(d)&&(d=[d]),o.settings.plugins={},t=0,n=d.length;t<n;t++)i=d[t].match(/https?:\/\//)?d[t]:[o.settings.hosts.resources,"/js",e,"/0/plugins/",d[t],".js"].join(""),o.settings.plugins[i]=!1,o.comm.loadScript(i,null,"pluginLoaded",{plugin:i});else o.event.fire("beforeGSD")}}}),shared.bind({event:"pluginLoaded",listener:{pluginLoaded:function(e){var t,n=this.$root,i=n.settings;if(i.plugins[e.data.plugin]=!0,-1==n.utils.array.indexOf(n.utils.object.values(i.plugins),!1)){for(t in n.plugins)n.plugins[t]&&"function"==n.what(n.plugins[t].init)&&n.plugins[t].init();n.event.fire("beforeGSD")}}}}),shared.bind({event:"beforeGSD",listener:{prepareGSD:function(){var e,t,n=this.$root,i=n.settings,o=n.helpers;e=o.getVar("suspended"),o.getCustomerId();var r=o.getReferrer();t=i.websiteId;var s=n.utils.object.clean({pid:i.customerId,wsid:i.websiteId,pdom:o.isGSF()?o.getSafeFrameLocation(!0):location.hostname,purl:o.isGSF()?o.getSafeFrameLocation():i.customerUrl,usprivacy:n.utils.cookie.getCCP()});n.comm.loadScript("https://router.infolinks.com/usync/lcmanage",s),"undefined"==n.what(o.getVar("wsid"))&&(t=""),i.trce=o.getVar("trce");s=n.utils.object.clean({evt:"afterGSD",pid:i.customerId,wsid:t,pdom:o.isGSF()?o.getSafeFrameLocation(!0):location.hostname,purl:o.isGSF()?o.getSafeFrameLocation():i.customerUrl,jsv:n.version,ref:i.refvar||r.ref,refq:r.refq,trce:i.trce,_cb:[n.utils.date.now(),n.utils.number.next("nocache")].join(""),ic:o.getVar("i_counter"),ix:o.getVar("i_disabled"),sc:o.getVar("s_counter"),sx:o.getVar("s_disabled")});localStorage.getItem("il_cuid")&&(s.il_cuid=localStorage.getItem("il_cuid")),n.utils.timer.start("tmr_gsd"),e&&i.runScript?(n.event.dom.bind(window,{event:"message",listener:n.comm.receiveMessage}),n.comm.settings.listeningToMessages=!0):n.comm.loadScript([i.hosts.router,"/gsd"].join(""),s)}}}),shared.bind({event:"afterGSD",listener:{gsdCallback:function(e){var t=this.$root,n=e.data,i=t.settings.textLimits,o=t.settings,r=t.helpers;t.utils.timer.stop("tmr_gsd"),t.event.dom.bind(window,{event:"message",listener:this.receiveMessage}),n.rs=t.utils.string.toObject(location.search,"il.rt")||t.helpers.getVar("runtime_server")||n.rs||null;var s="";if(n.rs||(s="GSD Response is missing `rs`."),n.prs||(s="GSD Response is missing `prs`."),s)t.logger.error(s,this.gsdCallback);else{n.rs=n.rs.toLowerCase(),n.makey||(n.makey=""),t.helpers.setDefaultWebsiteDirectives(n),i.merged=t.utils.object.extend(i.def,n.wd||{}),n.wsid&&(o.websiteId=n.wsid),t.comm.settings.responses.gsd=n,n.cks&&localStorage.setItem("il_cuid",n.cks.cuid),r.fixCorruptLocalStorageItem("fc"),r.fixCorruptLocalStorageItem("pv"),t.event.fire("initComm"),this.initCl();var a=document.getElementById("afterGSD");a&&a.parentElement.removeChild(a),/i|t|x|e|d/.test(n.prs)?t.event.fire("beforeHarvest"):t.event.fire("beforeImpression")}},initCl:function(){var e,t=this.$root,n=t.settings;if(t.comm.settings.responses.gsd.cfg)for(var i in e=Math.random().toPrecision(1),t.comm.settings.responses.gsd.cfg)t.comm.settings.responses.gsd.cfg[i]&&e<=t.comm.settings.responses.gsd.cfg[i]&&(n.useClParams[i]=!0)}}}),shared.receiveMessage=function(e){var t,n=e.domEvent,i=$root;i.settings;if(["https://router.infolinks.com","https://resources.infolinks.com"].includes(n.origin)){try{t=JSON.parse(n.data)}catch(e){return}if("FALLBACK"===t.message){if(void 0===t.hookId||void 0===i.settings.hooksMap[t.hookId])try{if(void 0===e.domEvent.source.hookId||void 0===i.settings.hooksMap[e.domEvent.source.hookId])return;t.hookId=String(e.domEvent.source.hookId)}catch(e){return}shared.showAd(1,t)}"DESTROY"===t.message&&t.apiK===i.comm.settings.responses.impression.behavior_imp.apiK&&i.event.fire("destroy"),"RESTORE"===t.message&&t.apiK===i.comm.settings.responses.impression.behavior_imp.apiK&&i.event.fire("restore")}},shared.showAd=function(e,t){var n,i,o=$root,r=(o.helpers,o.settings),s=o.helpers.getHookData(t.hookId),a=[r.getAdsProds.s,r.getAdsProds.x,r.getAdsProds.o,r.getAdsProds.d];if(n=0==e?1:0,s&&s.ads[0]){1==s.ads.length&&(e=0),s.width=s.ads[e].width,s.height=s.ads[e].height,s.cacheOverride=!1;var d=o.settings.hooksMap[t.hookId];d.externalTag=!1;for(var l=0;l<a.length;l++)t.hookId==a[l]&&(i=!0);i?this.insearchPassback(s,t,n,e,d):t.hookId.replace(/[0-9]/g,"")in r.inContentProducts?this.incontentPassback(s,t,n,e,d,r.inContentProducts[t.hookId.replace(/[0-9]/g,"")]):t.hookId==r.singleGetAdsProds.fl||t.hookId==r.singleGetAdsProds.fr?this.inframePassback(s,t,n,e,d):t.hookId==r.getAdsProds.h?this.intopPassback(s,t,n,e,d):this.bubblePassback(s,t,n,e,d)}},shared.bind({event:"beforeHarvest",listener:{prepareHarvest:function(){var e=this.$root,t=e.helpers,n=e.settings,i=null,o=e.comm.settings.responses.gsd;i=t.getVar("highlight_deny")||o.wd.hd||{},"undefined"!=e.what(window.vBulletin)&&(i.cls||(i.cls=[]),e.utils.array.push(i.cls,"thead","tcat","navbar","tfoot","alt2")),n.$extend({highlightDeny:i,highlightAllow:t.getVar("highlight_allow")||o.wd.ha});var r=e.harvest.getHarvestedText();e.event.fire("beforeImpression",{ptxt:r.text})}}}),shared.bind({event:"beforeImpression",listener:{prepareImpression:function(e){var t,n,i,o,r,s=this.$root,a=s.utils,d=s.helpers,l=s.settings,c=(s.products,s.comm),u=c.settings.responses.gsd,h=s.browser,m=document.getElementsByName(l.inTagSettings.relatedTags).length||"",g=document.getElementsByName(l.inTagSettings.prodId).length||"";a.cookie.remove("pv"),a.cookie.remove("fc"),i=d.getTimeZone(),o=a.object.stringify({inIframe:d.inIframe(),hbe:!!window.pbjs}),(r=d.getVar("refvar"))&&(l.refvar=r),l.impression||(l.impression={params:{}});var p=l.impression,f=p.params;if(t=a.array.toObject(u.prs.split(","),{},!0),e.data&&e.data.updater&&(t={i:!0}),f.ptxt=e.data&&"s"!=u.prs?e.data.ptxt:"",f.twnum=d.countWords(f.ptxt),t.i&&f.twnum<u.wd.qmin&&delete t.i,!t.t||"m"!=u.wd.rtm||m||g||delete t.t,(n=this.prepareVisitCount())&&(f.nov=n.vc,f.tolv=n.d,f.nop=n.pi),!0===s.helpers.getVar("inframe_disable")&&delete t.f,t.f){var v=d.buildImpPageMarginsParam();v?f.ifs=v:delete t.f}switch(f.prs=a.object.keys(t).join(","),""==f.prs&&(f.prs=".",f.ptxt=""),d.getCookieSupport()){case!1:l.c=f.c="sc";break;case!0:l.c=f.c="c";break;default:l.c=f.c="none"}d.supportsStorage()?l.strg=f.strg=!0:l.strg=f.strg=!1,d.supportsSessionStorage()&&sessionStorage.removeItem("vpfc"),d.setViews("pv","prodvw"),d.setNativeAppParams(),e.data&&e.data.updater||(a.cookie.getCCP()&&(f.usprivacy=a.cookie.getCCP()),f.pid=l.customerId,f.wsid=l.websiteId,f.makey=u.makey,f.anow=d.getVar("anow")||"",f.rid=u.rid||"",f.purl=d.isGSF()?d.getSafeFrameLocation():l.customerUrl,f.jsv=s.version,f.ms=u.ms||"",f.gid=u.wd.gid||"",f.rh=d.getVar("require_highlight")||"",f.by="u",f.crt=m,f.ctc=g,f.tzo=i,f.trce=l.trce,f.cfv=c.settings.flashVersion,l.ifip=d.getVar("ifip")||"",l.blankURL=["//",l.hosts.resources,"/static/blank.html"].join(""),f.ifip=l.ifip,f.pf=d.getPlatform(),f.ptitle=d.normalizeText(document.title),f.ref=l.refvar||l.ref,f.refq=l.refq,f.aid=d.getVar("appid"),f.cms=d.getVar("plugin_version"),f.prodvw=l.prodvw||"",l.ose&&(f.ose=l.ose),f.os=h.getOS(),f.ov=h.getOSVersion(),f.br=h.getName(),f.bv=h.getVersion(),f.en=h.getEngine(),f.dv=h.getDevice(),f.ce=navigator.cookieEnabled?"t":"f",f.cd=screen.colorDepth||screen.pixelDepth||0,f.sr=[screen.availWidth,screen.availHeight].join("X"),f.pl=d.getPluginsChecksum(),f.pv=d.getPlatformVersion(f.pf),localStorage.getItem("pitc")&&(f.pitc=localStorage.getItem("pitc")),f.capara=o,u.fn&&(f.fn=d.getFontsChecksum()),null!=f.prs.match(/[^so,\.]/)&&(f.plinks=d.getTagTexts("a","text","plinks"),f.pimgs=d.getTagTexts("img","alt","pimgs"),f.phdrs=d.getTagTexts(a.string.qw("h1 h2 h3 h4 h5 h6"),"text","phdrs"),f.pdesc=d.getMetaContent("description",l.textLimits.merged.pdesc),f.page_keyw=d.getMetaContent("keywords",l.textLimits.merged.page_keyw)),p.pcode=(d.getVar("encoding")||document.characterSet||document.charset||"").toLowerCase(),p.url=[s.settings.protocol,u.rs,"/action/doq.htm","?pcode=",p.pcode,"&r=",a.date.now(),a.number.next("nocache")].join(""),s.browser.IE&&"cors"==c.settings.mode&&(p.url+="&oct=1"),p.method="POST",p.onSuccess="afterImpression"),a.object.extend(f,u.cks||{},l.nativeAppParams),f.rts=a.date.now(),navigator.userAgentData?navigator.userAgentData.getHighEntropyValues(["architecture","bitness","mobile","model","platform","platformVersion","uaFullVersion","fullVersionList"]).then((function(e){e.brands&&delete e.brands,f.sua=JSON.stringify(e),l.sua=f.sua,p.params=a.object.clean(f),s.event.fire("sendImpression",{options:p,beforeSend:function(e){p.params.by=e,a.timer.poll("tmr_imp")||a.timer.start("tmr_imp")}})})):(p.params=a.object.clean(f),s.event.fire("sendImpression",{options:p,beforeSend:function(e){p.params.by=e,a.timer.poll("tmr_imp")||a.timer.start("tmr_imp")}}))}}}),shared.bind({event:"afterImpression",listener:{handleImpressionResponse:function(e){var t,n,i=this,o=this.$root,r=o.settings,s=o.utils,a=o.utils.timer;if(r.afterDOQ=!0,a.delta("tmr_imp")||a.stop("tmr_imp"),t=o.helpers.processImpressionResponse(e.data),"object"==o.what(t)){t.pitc&&localStorage.setItem("pitc",t.pitc);if("IntersectionObserver"in window?o.settings.observer=new IntersectionObserver((function(e,t){return i.intersectionCallback(e,t,i.$root)}),{rootMargin:"0px",threshold:.5}):o.settings.observer={observe:function(e){o.loggly.errorLog(null,"IntersectionObserver.observe not supported")},unobserve:function(e){}},(n=t.prs).r&&(n.t?(n.t.sentences=o.utils.array.uniq(o.utils.array.concat(n.t.sentences,n.r.sentences)),o.utils.object.extend(n.t.behavior,n.r.behavior)):(n.t=n.r,delete n.r)),n.c&&(n.t?(o.utils.object.extend(n.c.behavior,n.t.behavior),r.prs.t=n.t,delete n.t):delete n.c),t.prs.u&&t.prs.u.behavior.ropti){if(2===(c=t.prs.u.behavior.ropti.split(":")).length){var d=parseInt(c[0],10)/100,l=c[1];o.settings.uRopti=Math.random()<d?l:null}else o.settings.uRopti=t.prs.u.behavior.ropti;o.settings.uRopti&&o.event.fire("sendClientLog",{params:{prod_t:"u",customParams:!0,capara:{ropti:"on"}}})}else o.settings.uRopti=null;if(t.prs.k&&t.prs.k.behavior.ropti){var c;if(2===(c=t.prs.k.behavior.ropti.split(":")).length){var u=parseInt(c[0],10)/100,h=c[1];o.settings.kRopti=Math.random()<u?h:null}else o.settings.kRopti=t.prs.k.behavior.ropti;o.settings.kRopti&&o.event.fire("sendClientLog",{params:{prod_t:"k",customParams:!0,capara:{ropti:"on"}}})}else o.settings.kRopti=null;if(t.prs){if(o.comm.settings.responses.impression=t,(this.getStandaloneBehavior("u")||this.getStandaloneBehavior("k"))&&(!0===window.infolinks_initFromFrame||o.helpers.isGSF())){for(var m in this.getStandaloneBehavior("u")&&this.preRegisterInPlace(),this.getStandaloneBehavior("k")&&this.preRegisterInCube(),r.queue=[],t.prs)r.queue.push(m);if(s.oo.check(),r.checkQueuePending&&o.event.fire("checkQueue"),this.getStandaloneBehavior("u")&&t.prs.u.bdrs.length>0||this.getStandaloneBehavior("k")&&t.prs.k.bdrs.length>0){window.$ICE_HB||o.comm.loadScript("https://resources.infolinks.com/js/pbice/4.011/pbice.js",null,"pbiceLoaded")}return void o.event.fire("preRenderProducts")}for(n in t.prs)switch(n){case"c":case"n":case"a":case"t":this.intagincontentLoadPending=!0;break;case"i":this.intextLoadPending=!0;break;case"u":this.preRegisterInPlace();break;case"k":this.preRegisterInCube();break;case"h":this.loadInTop();break;case"s":case"x":case"o":case"d":this.loadInsearch();break;case"e":o.comm.settings.isInscreenE=!0;case"b":case"z":this.inscreenLoadPending=!0;break;case"f":this.inframeLoadPending=!0;default:o.settings.singleGetAdsPrs[n]=t.prs[n]}this.afterCheckQueue()}}else o.logger.error("Bad Impression response.",this.handleImpressionResponse)}}}),shared.intersectionCallback=function(e,t,n){var i=n.settings,o=1e3;e.forEach((function(e){var t=i.hooksMap[e.target.getAttribute("data-hook-id")];o=t.mrcVideoAdMode?2e3:1e3,!t||t&&t.mrcSent||(e.isIntersecting?t.mrcSent||(t.mrcTimeout=setTimeout((function(){!function(e,t,n){var o,r=n.helpers.getHookData(e.id),s=[];e.mrcSent=!0;var a={hookId:e.id,bdc:e.bdc,midx:r.ads[e.currentAdIndex].midx,customParams:!0,capara:{ve:"mrc50"}};"k"===e.prod&&(a.capara.cubeSide=e.cubeSide,e.mrcCubeSidesSent&&!e.mrcCubeSidesSent[e.cubeSide]&&(e.mrcCubeSidesSent[e.cubeSide]=!0,e.fallback[e.cubeSide]=!1));if(e.externalIframe){if(o=document.querySelectorAll("[data-hookid='"+t.target.getAttribute("data-hook-id")+"']")[0]){var d=e.mrc50URL?"array"===n.what(e.mrc50URL)?e.mrc50URL:[e.mrc50URL]:null,l=n.comm.getMrcTrackingPixelUrl(a);if(d&&(s=d),l&&s.push(l),s&&s.length>0){var c=JSON.stringify({name:"IL_sendExternalMrc",mrcTrackingPixels:s});o.contentWindow.postMessage(c,"*")}}}else n.event.fire("sendClientLog",{params:a}),e.mrc50URL&&n.helpers.hitURL(e.mrc50URL);i.observer.unobserve(t.target),e.mrcSent=!1,clearTimeout(e.mrcTimeout),e.mrcTimeout=void 0}(t,e,n)}),o)):(clearTimeout(t.mrcTimeout),t.mrcTimeout=null))}))},shared.getStandaloneBehavior=function(e){var t=this.$root.comm.settings.responses.impression,n=!1;return t.prs[e]&&(n=t.behavior_imp.standalone?"true"===t.behavior_imp.standalone:"true"===t.prs[e].behavior.standalone),n},shared.afterCheckQueue=function(){var e=this.$root,t=e.comm.settings.responses.impression;if((t.prs.c||t.prs.n||t.prs.a||t.prs.t||t.prs.i||t.prs.e||t.prs.b||t.prs.z||t.prs.f||t.prs.u&&!this.getStandaloneBehavior("u")||t.prs.k&&!this.getStandaloneBehavior("k"))&&this.loadBubble(),e.externalTags.init(),t.behavior_imp.prepareVideoPlayer){var n={"//imasdk.googleapis.com/js/sdkloader/ima3.js":{loaded:!1}},i=3e3,o=3;(function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(r>=t.length)return Promise.resolve();var s=t[r];return n[s].loaded?e(t,r+1):function(e){return new Promise((function(t,r){var s=0,a=void 0;!function d(){var l=document.querySelector('script[src="'+e+'"]');if(l&&document.head.removeChild(l),s>=o)r("Failed to load script after "+o+" attempts: "+e);else{var c=document.createElement("script");c.src=e,c.onload=function(){clearTimeout(a),n[e].loaded=!0,t("Script loaded: "+e)},c.onerror=function(){clearTimeout(a),s++,d()},document.head.appendChild(c),a=setTimeout((function(){s++,d()}),i)}}()}))}(s).then((function(){return e(t,r+1)})).catch((function(n){return e(t,r+1)}))})(Object.keys(n)).then((function(){e.event.fire("preRenderVideoProducts")}))}if(t.prs)for(var r in t.prs)if(t.prs[r].bdrs.length>0){if(!window.$ICE_HB){e.comm.loadScript("https://resources.infolinks.com/js/pbice/4.011/pbice.js",null,"pbiceLoaded");break}}e.event.fire("preRenderProducts")},shared.bind({event:"checkQueue",listener:{checkQueue:function(){var e=this.$root,t=e.settings,n=e.comm.settings.responses.impression;if(t.afterDOQ){if(t.checkQueuePending=!1,t.queue&&t.queue.length>0&&window.infolinks_initFromFrame){window.infolinks_initFromFrame=!1;for(var i=0;i<t.queue.length;i++)switch(t.queue[i]){case"c":case"n":case"a":case"t":this.intagincontentLoadPending=!0;break;case"i":this.intextLoadPending=!0;break;case"h":this.loadInTop();break;case"s":case"x":case"o":case"d":this.loadInsearch();break;case"e":e.comm.settings.isInscreenE=!0;case"b":case"z":this.inscreenLoadPending=!0;break;case"f":this.inframeLoadPending=!0;case"u":this.getStandaloneBehavior("u")||this.preRegisterInPlace();break;case"k":this.getStandaloneBehavior("k")||this.preRegisterInCube();break;default:e.settings.singleGetAdsPrs[t.queue[i]]=n.prs[t.queue[i]]}this.afterCheckQueue()}}else t.checkQueuePending=!0}}}),shared.preRegisterInPlace=function(){this.$root.helpers.isGSF()?this.createInPlaceSF():this.preregisterOriginalInplace()},shared.preregisterOriginalInplace=function(){var e=this;window.addEventListener("message",(function(t){var n,i;try{n=JSON.parse(t.data)}catch(e){}!n||"registerSlot"!=n.name||n.slot.isRegistered||n.slot.type&&"incube"==n.slot.type||(e.$root.products.inplace&&(i=e.$root.products.inplace.instances.find((function(e){return e.slot.id==n.slot.id}))),i||(n.slot.isRegistered=!0,e.createInPlace(n.slot)))})),window.infolinks_slots&&window.infolinks_slots.forEach((function(e,t){if(!(e.isRegistered||e.type&&"inplace"!=e.type)){var n=JSON.stringify({name:"isIceApiReady",slot:e}),i=document.getElementById(e.id);i&&i.contentWindow.postMessage(n,"*")}}))},shared.preRegisterInCube=function(){this.$root.helpers.isGSF()?this.createInCubeSF():this.preregisterOriginalIncube()},shared.preregisterOriginalIncube=function(){var e=this;window.addEventListener("message",(function(t){var n,i;try{n=JSON.parse(t.data)}catch(e){}n&&"registerInCubeSlot"==n.name&&!n.slot.isRegistered&&n.slot.type&&"incube"==n.slot.type&&(e.$root.products.incube&&(i=e.$root.products.incube.instances.find((function(e){return e.slot.id==n.slot.id}))),i||(n.slot.isRegistered=!0,e.createInCube(n.slot)))})),window.infolinks_slots&&window.infolinks_slots.forEach((function(e,t){if(!e.isRegistered&&"incube"==e.type){var n=JSON.stringify({name:"isIceInCubeApiReady",slot:e}),i=document.getElementById(e.id);i&&i.contentWindow.postMessage(n,"*")}}))},shared.createInCubeSF=function(){var e=this.$root;window.infolinks_slots=[window.infolinks_config.inplace_slot],e.products.incube_sf?(window.infolinks_slots[0].created=!0,e.event.fire("createInCubeSFInstance",{slot:window.infolinks_slots[0]})):this.loadIncubeSF()},shared.loadIncubeSF=function(){var e=this.$root,t="https://resources.infolinks.com/js/"+e.version+"/in_cube_sf.js";e.comm.loadScript(t,null,"icSFLoaded")},shared.bind({event:"icSFLoaded",listener:{icSFLoaded:function(e){for(var t=this.$root,n=0;n<window.infolinks_slots.length;n++)window.infolinks_slots[n].type&&"incube"!=window.infolinks_slots[n].type||window.infolinks_slots[n].created||(window.infolinks_slots[n].created=!0,t.event.fire("createInCubeSFInstance",{slot:window.infolinks_slots[n]}))}}}),shared.loadBubble=function(){var e,t=this.$root;this.bubbleLoadStart||(this.bubbleLoadStart=!0,e="https://resources.infolinks.com/js/"+t.version+"/bubble.js",t.comm.loadScript(e,null,"bubbleLoaded"))},shared.loadInplace=function(e){var t=this.$root,n=window.infolinks_basePath+"/in_place.js";this.inPlaceLoadStart||(t.comm.loadScript(n,null,"ipLoaded",{plugin:n}),this.inPlaceLoadStart=!0)},shared.loadInplaceSF=function(e){var t=this.$root,n=window.infolinks_basePath+"/in_place_sf.js";this.inPlaceSFLoadStart||(t.comm.loadScript(n,null,"ipSFLoaded",{plugin:n}),this.inPlaceSFLoadStart=!0)},shared.loadIncube=function(e){var t=this.$root,n=window.infolinks_basePath+"/in_cube.js";this.inCubeLoadStart||(t.comm.loadScript(n,null,"inCubeLoaded",{plugin:n}),this.inCubeLoadStart=!0)},shared.loadInTop=function(){var e,t=this.$root;e="icemobile"===t.versionFile?"https://resources.infolinks.com/js/"+t.version+"/mobile_intop.js":"https://resources.infolinks.com/js/"+t.version+"/in_top.js",t.comm.loadScript(e,null,"inTopLoaded")},shared.loadInsearch=function(){var e,t=this.$root;this.insearchPending||(this.insearchPending=!0,e="icemobile"===t.versionFile?"https://resources.infolinks.com/js/"+t.version+"/mobile_insearch.js":"https://resources.infolinks.com/js/"+t.version+"/in_search.js",t.comm.loadScript(e,null,"inSearchLoaded"))},shared.loadInscreen=function(){var e,t=this.$root;e="https://resources.infolinks.com/js/"+t.version+"/in_screen.js",t.comm.loadScript(e,null,"inScreenLoaded")},shared.loadIntext=function(){var e=this.$root;"icemobile"===e.versionFile?this.inTextUrl="https://resources.infolinks.com/js/"+e.version+"/mobile_intext.js":this.inTextUrl="https://resources.infolinks.com/js/"+e.version+"/in_text.js",e.comm.loadScript(this.inTextUrl,null,"inTextLoaded")},shared.loadIntagIncontent=function(){var e=this.$root;"icemobile"===e.versionFile?this.inTagInContentUrl="https://resources.infolinks.com/js/"+e.version+"/mobile_intag_incontent.js":this.inTagInContentUrl="https://resources.infolinks.com/js/"+e.version+"/intag_incontent.js",e.comm.loadScript(this.inTagInContentUrl,null,"inTagInContentLoaded")},shared.loadInframe=function(){var e=this.$root;"icemobile"===e.versionFile?this.inFrameUrl="https://resources.infolinks.com/js/"+e.version+"/mobile_inframe.js":this.inFrameUrl="https://resources.infolinks.com/js/"+e.version+"/in_frame.js",e.comm.loadScript(this.inFrameUrl,null,"inFrameLoaded")},shared.bind({event:"inFrameLoaded",listener:{inTextLoaded:function(e){var t=this.$root;this.inframeLoadPending=!1,t.event.fire("renderInframeProduct")}}}),shared.bind({event:"inTextLoaded",listener:{inTextLoaded:function(e){var t=this.$root;this.intextLoadPending=!1,t.event.fire("renderIntextProduct")}}}),shared.bind({event:"inTagInContentLoaded",listener:{inTagInContentLoaded:function(e){var t=this.$root;this.intagincontentLoadPending=!1,t.event.fire("renderIntagProduct"),t.event.fire("renderInContentProduct")}}}),shared.bind({event:"bubbleLoaded",listener:{bubbleLoaded:function(e){this.$root;this.isBubbleLoaded||(this.isBubbleLoaded=!0,this.intextLoadPending&&this.loadIntext(),this.intagincontentLoadPending&&this.loadIntagIncontent(),this.inscreenLoadPending&&this.loadInscreen(),this.inframeLoadPending&&this.loadInframe())}}}),shared.bind({event:"inScreenLoaded",listener:{inScreenLoaded:function(e){var t=this.$root;this.inscreenLoadPending=!1,t.event.fire("renderInscreenProduct")}}}),shared.bind({event:"inSearchLoaded",listener:{inSearchLoaded:function(e){this.$root.event.fire("renderInsearchProduct")}}}),shared.bind({event:"ipLoaded",listener:{ipLoaded:function(e){for(var t=this.$root,n=0;n<window.infolinks_slots.length;n++)window.infolinks_slots[n].type&&"inplace"!=window.infolinks_slots[n].type||window.infolinks_slots[n].created||(window.infolinks_slots[n].created=!0,t.event.fire("createInPlaceInstance",{slot:window.infolinks_slots[n]}))}}}),shared.bind({event:"ipSFLoaded",listener:{ipSFLoaded:function(e){for(var t=this.$root,n=0;n<window.infolinks_slots.length;n++)window.infolinks_slots[n].type&&"inplace"!=window.infolinks_slots[n].type||window.infolinks_slots[n].created||(window.infolinks_slots[n].created=!0,t.event.fire("createInPlaceSFInstance",{slot:window.infolinks_slots[n]}))}}}),shared.bind({event:"inCubeLoaded",listener:{inCubeLoaded:function(e){for(var t=this.$root,n=0;n<window.infolinks_slots.length;n++)"incube"!=window.infolinks_slots[n].type||window.infolinks_slots[n].created||(window.infolinks_slots[n].created=!0,t.event.fire("createInCubeInstance",{slot:window.infolinks_slots[n]}))}}}),shared.bind({event:"inTopLoaded",listener:{inTopLoaded:function(e){this.$root.event.fire("renderInTopProduct")}}}),shared.createInPlace=function(e){var t=this.$root;t.products.inplace?(e.created=!0,t.event.fire("createInPlaceInstance",{slot:e})):this.loadInplace()},shared.createInPlaceSF=function(){var e=this.$root;window.infolinks_slots=[window.infolinks_config.inplace_slot],e.products.inplace_sf?(window.infolinks_slots[0].created=!0,e.event.fire("createInPlaceSFInstance",{slot:window.infolinks_slots[0]})):this.loadInplaceSF()},shared.createInCube=function(e){var t=this.$root;t.products.incube?(e.created=!0,t.event.fire("createInCubeInstance",{slot:e})):this.loadIncube()},shared.bind({event:"preRenderProducts",listener:{preRenderProducts:function(){var e=this.$root,t=e.helpers,n=e.settings,i=n.behavior,o=e.utils,r=e.helpers.getSiteLanguage(),s=e.comm.settings.responses.impression;e.comm.settings.responses.gsd;if(!n.preRenderProductsFired){n.preRenderProductsFired=!0,i.customer=t.getCustomerBehavior("link_color link_hover_color link_hover_bg_color ads_reuse_window bubble_direction bubble_logo_url bubble_logo_url_downgrade bubble_logo_width bubble_logo_height bubble_logo_link bubble_help_link skin themeset theme"),i.customer&&("nologo"==i.customer.skin?(i.customer.skin="variant",i.customer.theme="nologo"):"cdtodg"==i.customer.skin?(i.customer.skin="variant",i.customer.theme="cdtodg"):"yell"==i.customer.skin&&(i.customer.skin="variant",i.customer.theme="yell")),"true"==s.behavior_imp.nologo&&(i.customer.theme="nologo"),i.impression=t.renameBehaviorProperties(e.comm.settings.responses.impression.behavior_imp||{}),t.createBaseClasses();var a,d=["sanitizer","longName"];for(a=0;a<d.length;a++)n.productAttributes[d[a]]=o.object.map(n.productAttributes.options,(function(e){return e[a]}));delete n.productAttributes.options,n.homeUrl=i.customer.bubbleLogoLink||n.defaultHomeUrl,n.helpUrl=e.utils.VeST(i.customer.bubbleHelpLink||i.customer.bubbleLogoLink||n.defaultHelpUrl,{cid:n.customerId,wsid:n.websiteId,lang:"en"!=r?r+"/":""}),n.productRenderStatus=o.array.toObject(o.object.keys(n.productCodes),{},"before"),s&&(s.cjs&&t.renderCustomJS(s.cjs,!0),s.customCode&&t.renderDoqCustomCode(s.customCode)),this.$root.event.fire("renderProduct"),o.oo.check()}}}}),shared.bind({event:"productRenderStatus",listener:{productRenderStatus:function(e){var t=this.$root,n=t.settings,i=t.utils,o=n.productRenderStatus,r=e.data;o[r.prod]=r.status,"failed"==r.status&&t.logger.error([n.productCodes[r.prod]," failed. reason: ",r.reason].join(""),this.productRenderStatus),/before|during/.test(i.object.values(o).join(","))||this.$root.event.fire("afterRenderProducts")}}}),shared.bind({event:"afterRenderProducts",listener:{productsRendedred:function(){var e,t,n,i=this.$root,o=(i.helpers,i.settings),r=i.comm.settings.responses.gsd,s=o.hosts.src?"/src":"";i.comm.settings.responses.impression;if(/i|r|t/.test(r.prs)&&i.helpers.mapUnhoverableAreas(),"undefined"!=i.what(r.incs))for(e=0,t=r.incs.length;e<t;++e){n=function(e,t){return function(){i.plugins[e]&&"function"==i.what(i.plugins[e].init)&&i.plugins[e].init(t)}}(r.incs[e].s,r.incs[e].p),i.comm.loadScript([o.hosts.resources,"/js",s,"/0/plugins/",r.incs[e].s,".js"].join(""),null,n)}i.updater.settings.className="undefined"!=i.what(window.blogger)?"hentry":i.helpers.getVar("updater_class")||i.helpers.getVar("refreshed_container")||i.comm.settings.responses.impression.behavior_imp.udcl,i.updater.settings.className&&i.event.fire("initUpdater"),i.utils.timer.stop("tmr_all"),i.event.fire("sendImpressionLog")}}}),shared.bind({event:"sendImpressionLog",listener:{sendImpressionLog:function(){var e=this.$root,t=e.settings,n=e.utils,i=n.array,o=n.timer,r=e.comm.settings.responses,s=r.gsd;if(t.sendClientLog=e.helpers.getVar("send_client_log")||s.scl||!1,t.sendClientLog){var a,d,l,c,u=e.products,h=u.intext.settings,m=u.intag.settings,g=[],p={rid:s.rid,makey:s.makey,ifip:t.ifip||"",tmr_scr:t.boot&&t.boot.tmr_scr?n.date.now()-t.boot.tmr_scr:-1,tmr_wait:o.delta("tmr_wait")||-1,tmr_gsd:o.delta("tmr_gsd")||-1,tmr_har:o.delta("tmr_har")||-1,tmr_imp:o.delta("tmr_imp")||-1,tmr_dwq:o.delta("tmr_imp")||-1,tmr_hi:o.delta("tmr_hi")||-1,tmr_fsh:o.delta("tmr_fsh")||-1,tmr_all:o.delta("tmr_all")||-1};if(-1!=s.prs.indexOf(h.prodCode)){for(a in p.intxt_num=[h.rendered,n.object.keys(h.sentences).length].join("*"),h.sentences)for(d=0,l=h.sentences[a].hooks.length;d<l;d++)c=h.sentences[a].hooks[d],i.push(g,[a,c.visible?1:0,c.pos.left,c.pos.top].join("_"));p.intxt_sen=g.join("*")}if(-1!=s.prs.indexOf(m.prodCode)){var f=(r.impression.prs[m.prodCode]||{sentences:[]}).sentences.length;p.tCld_num=[i.sum(i.map(m.instances,(function(e){return e.hooksCount}))),f].join("*"),m.instances.length&&(p.tCld_pos=[m.instances[0].pos.left,m.instances[0].pos.top].join("*"))}document.getElementById("IL_INSEARCH")&&(document.getElementById("IL_INSEARCH").style.zIndex=e.helpers.findMaxZindex()+1),document.getElementById("IL_INTOP")&&(document.getElementById("IL_INTOP").style.zIndex=e.helpers.findMaxZindex()+1),e.comm.loadScript(s.rs+"/action/dcil.htm",p)}}}}),$root.event.dom.bind(document,{event:"keyup",listener:{keyboardShortcuts:function(e){var t=e.domEvent,n=e.$root,i=n.logger;76==t.keyCode&&t.ctrlKey&&t.altKey?(i.output="console"==i.output?"none":"console",n.what(window.console)):67==t.keyCode&&t.ctrlKey&&t.altKey&&n.what(window.console)}}});var products=$root.$create("products",{},null,!0),autoPlacement=$root.$create("autoPlacement",{createMarker:function(e,t,n,i,o){var r,s,a=this.$root,d=this.settings,l=a.utils.dom.element,c=a.settings,u=[],h=[];"array"==a.what(e)&&(e=e[0]),d.result[e]?u=d.result[e]:d.result=u=this.findPlacement(n,o);for(var m=0;m<u.length;m++)s=a.utils.dom.createDOMFragment({tag:"input",type:"hidden",attributes:{name:e,value:t}}),"IL_IN_ARTICLE"!=e&&"before"!=u[m].placement&&(r=l.getStyle(u[m].node,"height"))&&-1!=r.indexOf("px")&&l.setStyle(u[m].node,{minHeight:parseInt(r,10)+45+"px"}),"append"==u[m].placement?u[m].node.appendChild(s):"prepend"==u[m].placement?u[m].node.insertBefore(s,u[m].node.firstChild):u[m].node.parentNode.insertBefore(s,u[m].node),i&&(s.className=c.autoMarkerCls),h.push({node:s,refNode:u[m].node,capara:u[m].capara});return h},findPlacement:function(e,t){var n,i,o,r=this.$root.utils,s=this.settings,a=[],d="headerM"==e||"topM"==e,l="append",c=r.string.qw("pageContent content_body contentBody contentWrapper main_content_section main-content bodyarea content-wrap Blog1 content"),u=r.string.qw("commentlist comments respond commentpost commentform disqus_thread idc-container-parent");if("header"==e||"headerM"==e?(n=this.findHeaderPosition())||(n=this.placeOnTop(c))&&(l="prepend"):"top"!=e&&"topM"!=e||(n=this.findBestContainer(e))&&"body"==n.tagName.toLowerCase()&&(n=this.placeOnTop(c))&&"body"!=n.tagName.toLowerCase()&&(l="prepend"),n){if(!d)return[{node:n,placement:l}];a.push({node:n,placement:l})}if(t&&"legacy"!=t.bottomPlacementAlgo)if(i=this.findBestContainer(null,t))for(var h=0;i&&h<i.length;h++){var m=i[h];m.node&&null!=m.node.offsetParent&&(!t.mwfa||s.winnerWordCount>parseInt(t.mwfa))?(n=m.node,o=m.capara,a.push({node:n,placement:"append",capara:o})):"true"==t.fbit&&(a=this.findBottomPostion(u,c,a))}else"true"==t.fbit&&(a=this.findBottomPostion(u,c,a));else a=this.findBottomPostion(u,c,a);return a},findBottomPostion:function(e,t,n){var i,o,r,s=this.$root.utils.dom.element;for(o=0,r=e.length;o<r;o++)if((i=s.$(e[o]))&&s.isVisible(i))return n.push({node:i,placement:/respond|commentform|disqus_thread/.test(e[o])?"before":"prepend"}),n;for(o=0,r=t.length;o<r;o++)if((i=s.$(t[o]))&&s.isVisible(i))return n.push({node:i,placement:"append"}),n;return n.push({node:this.findBestContainer(),placement:"append"}),n},findHeaderPosition:function(){var e;return(e=this.getValidNode("tag","header"))||(e=this.getValidNode("tag","h1")),e||(e=this.getValidNode("tag","h2")),e||(e=this.getValidNode("tag","h3")),e||(e=this.getValidNode("id","head")),e||(e=this.getValidNode("id","header")),e},getValidNode:function(e,t){var n,i,o=this.$root.utils.dom.element;return"tag"==e?(n=document.getElementsByTagName(t))&&1==n.length&&(i=n[0]):"id"==e&&(i=document.getElementById(t)),i&&(i=o.offset(i).top<400?i:""),i&&this.isNodeHasPropertyValue(i,"position",["fixed","absolute"])&&(i=null),i},palgo:function(e){var t,n,i,o,r=[],s=0,a=0,d=$root,l=this.settings,c=[],u=!0,h=0,m=0,g=this.settings,p=[],f=0;t=document.getElementsByTagName("p");for(var v=0;v<t.length;v++)r[v]=(o=v,m=autoPlacement.getWords(t[o]),{parentNode:t[o].parentNode,wordCount:m.split(/\s+/).length});for(var b=0;b<r.length;b++)r[b].parentNode.getAttribute("IL_CC"+l.pIndex)?(s=r[b].parentNode.getAttribute("IL_CC"+l.pIndex),s++,r[b].parentNode.setAttribute("IL_CC"+l.pIndex,s)):r[b].parentNode.setAttribute("IL_CC"+l.pIndex,1),s>a&&(a=s,n=r[b].parentNode),r[b].wordCount>h&&(h=r[b].wordCount,i=r[b].parentNode);for(var w=0;w<r.length;w++)c[w]=r[w].parentNode.getAttribute("IL_CC"+l.pIndex);for(var y=0;y<r.length;y++)c[y]!==c[0]&&(u=!1);if(u&&(n=i),n&&parseInt(e.mp)<=n.getAttribute("IL_CC"+l.pIndex)){for(var x=n.getElementsByTagName("p"),k=0;k<x.length;k++)x[k].parentNode==n&&(p[f]=x[k],f++);if(g.winnerWordCount=autoPlacement.getWords(n).split(/\s+/).length,l.pIndex++,e&&e.pn)return e.pn=parseInt(e.pn),e.pn>a&&(e.pn=a),e.pn>0?[p[e.pn-1]]:[p[e.pn]]}else d.loggly.warnLog("Minimum paragraph number not reached, palgo failed, number of paragraphs found: ",n.getAttribute("IL_CC"+l.pIndex),"minimun paragraph required: ",e.mp)},aapalgo:function(e){var t,n=[],i=[],o=$root,r=(this.settings,0),s=0,a=[],d=(o=$root).utils.dom.element,l=parseInt(e.pn),c=parseInt(e.mp),u=this.settings,h=o.comm.settings.responses.impression.prs.a.sentences,m=e.mwfa?e.mwfa:e.mwfab,g=e.pg?parseInt(e.pg):1,p=e.mwfp?parseInt(e.mwfp):4;t=document.getElementsByTagName("p");for(var f=0;f<t.length;f++)i[f]=function(e){if("none"!==d.getStyle(t[e].parentNode,"display")&&"visible"==d.getStyle(t[e].parentNode,"visibility")&&(s=t[e].parentNode.getAttribute("data-word-count")?parseInt(t[e].parentNode.getAttribute("data-word-count")):autoPlacement.getWords(t[e].parentNode).split(/\s+/).length,t[e].parentNode.setAttribute("data-word-count",s),!((r=autoPlacement.getWords(t[e]).split(/\s+/).length)<p))){if("none"===d.getStyle(t[e],"display")||"visible"!=d.getStyle(t[e],"visibility"))return s-=r,void t[e].parentNode.setAttribute("data-word-count",s);if(-1==n.indexOf(t[e].parentNode))n.push(t[e].parentNode),t[e].parentNode.setAttribute("data-p-count",1);else{var i=parseInt(t[e].parentNode.getAttribute("data-p-count"))+1;t[e].parentNode.setAttribute("data-p-count",i)}return{paragraph:t[e],parentNode:t[e].parentNode,wordCount:r}}}(f);var v=function(e){var t=[],n=0;if(g>0){for(;n<e.length-1&&e[n];)t.push(e[n]),n+=g;return t.splice(0,h.length)}return[e[0]]};if((a=i.filter((function(e){return null!=e&&parseInt(e.parentNode.getAttribute("data-p-count"))>c&&parseInt(e.parentNode.getAttribute("data-word-count"))>parseInt(m)}))).length>=l){for(f=l-1;f<a.length;f++)if(100==d.isOnViewport(a[f].paragraph))return u.winnerWordCount=a[f].parentNode.getAttribute("data-word-count"),u.pIndex=f,v(a=a.splice(f));return u.winnerWordCount=a[l-1].parentNode.getAttribute("data-word-count"),u.pIndex=l-1,v(a=a.splice(l-1))}o.loggly.warnLog("Minimum paragraph number not reached, aapalgo failed, minimun paragraph required: ",e.mp)},classAlgo:function(e){var t,n=$root;if(e.mwfab=e.mwfa,e.mwfa=!1,"ice"===n.versionFile?e.cnfa=e.pcnfa:e.cnfa=e.mcnfa,t=document.getElementsByClassName(e.cnfa),e&&e.pn)return e.pn=parseInt(e.pn),t[e.pn]?e.pn>0?[t[e.pn-1]]:[t[e.pn]]:[t[0]]},getWords:function(e){for(var t="",n=e.childNodes.length,i=0;i<n;i++){var o=e.childNodes[i];8!=o.nodeType&&(t+=1!=o.nodeType?o.nodeValue:this.getWords(o))}return t},runMiddleAlgos:function(e){var t,n,i,o=$root,r=o.utils,s=[],a=r.dom.element,d=[],l={capara:{}};if(!e||!e.bottomPlacementAlgo)return this.palgo(e);t=e.bottomPlacementAlgo.split(",");for(var c=0;c<t.length;c++)if(t)try{for(var u=autoPlacement[t[c].replace(/\s/g,"")](e),h=0;h<u.length;h++)(l={}).node=u[h].paragraph?u[h].paragraph:u[h],l.capara={},l&&l.node?(n={top:a.offset(l.node).top+r.dom.element.getActualHeightFixed(l.node),left:a.offset(l.node).left},i=a.isOnViewport(l.node),r.object.extend(l.capara,{successfulAlgo:t[c]},n,{isAboveFold:i}),s.push(l)):(r.array.push(d,t[c]),o.event.fire("sendClientLog",{params:{failedAlgos:t[c]}}));return s}catch(e){r.array.push(d,t[c]),l&&r.object.extend(l.capara,{failedAlgos:d}),o.event.fire("sendClientLog",{params:{failedAlgos:t[c]}})}r.object.extend(l.capara,{failedAlgos:d})},findBestContainer:function(e,t){var n,i,o,r,s,a,d,l,c=this.$root,u=c.settings,h=this.settings,m=c.utils,g=null,p=-1e3,f=m.dom,v=f.element,b=m.array.toObject(m.string.qw("body tbody table tr ul dl ol span embed marquee"),{},1);if("top"!=e&&"topM"!=e||(l=!0,p=0),t&&"legacy"!=t.bottomPlacementAlgo)return this.runMiddleAlgos(t);var w,y,x,k=f.findWidestNode();for(k.node==document.body?(d=f.document.getWidth(),a=f.document.getHeight()):(d=k.width,a=k.height),this.harvest(document.body),n=0,i=h.candidates.length;n<i;n++)b[(s=(o=h.candidates[n]).node).tagName.toLowerCase()]||(o.wordsCount=parseInt(v.getData(s,"iceapw"),10)||0,o.childrenCount=parseInt(v.getData(s,"iceapc"),10)||0,o.wordsCount&&(o.childrenCount||l)&&(y=(o.width/(d||1)+o.height/(a||1))/4+o.wordsCount/(h.totalWordsCount||1)-o.childrenCount/(h.totalValidNodes||1),l?(w=v.isOnViewport(s,70),x=this.isNodeHasPropertyValue(s,"position",["fixed","absolute"]),r=o.score=!x&&100==w&&v.offset(s).top>0&&o.height>10&&o.width>u.intagMinContentWidth?f.viewport.getHeight()-v.offset(s).top+y:0):r=o.score=y,"number"==c.what(r)&&r>p&&(p=r,g=o)));if(g&&!l)for(n=0,i=h.candidates.length;n<i;n++)(o=h.candidates[n]).wordsCount==g.wordsCount&&o.node!=g.node&&v.inHierarchy(o.node,g.node)&&(g=o);return h.winner=g,g?g.node:document.body},isNodeHasPropertyValue:function(e,t,n){for(var i,o=this.$root.utils.dom.element,r=e;r&&-1==r.nodeName.toLowerCase().indexOf("document");){for(i=0;i<n.length;i++)if(o.getStyle(r,t)==n[i])return!0;r=r.parentNode}return!1},placeOnTop:function(e){for(var t,n,i,o=this.$root.utils.dom,r=o.element,s=o.viewport.getHeight(),a=0;a<e.length;a++)(t=document.getElementById(e[a]))&&(i=r.offset(t).top)<s&&(s=i,n=t);return n},harvest:function(e){var t,n,i,o,r,s,a,d,l=this.$root,c=this.settings,u=l.utils,h=u.dom.element,m=u.timer,g=l.settings.nodeTypes;switch(c.harvesting||(c.harvesting=!0,c.stopped=!1,m.start("apHarvest"),c.candidates=[],c.firstNode=e,c.enabled=!0,c.timeLimit=1e3,c.totalWordsCount=0,c.totalValidNodes=0),c.stopped||-1!=c.timeLimit&&m.poll("apHarvest")>=c.timeLimit?c.stopped=!0:t=e.nodeType,t){case g.DOCUMENT:case g.ELEMENT:if("svganimatedstring"==l.what(e.className))break;if(-1==e.className.indexOf(l.settings.baseClass)&&-1==e.className.indexOf("IL_AD")&&h.isVisible(e)&&l.harvest.isHarvestableNode(e)){for(n=0,i=e.childNodes.length;n<i&&!c.stopped;n++)this.harvest(e.childNodes[n]);for(c.totalValidNodes++,s=e.parentNode;s&&s!=document&&"html"!=s.tagName.toLowerCase();)d=(parseInt(h.getData(s,"iceapc"),10)||0)+1,h.setData(s,"iceapc",d),s=s.parentNode;u.array.push(c.candidates,{node:e,parent:e.parentNode,width:h.getActualWidth(e),height:h.getActualHeight(e)})}break;case g.TEXT:if(c.enabled&&(r=u.string.trim(e.data).replace(/\s+/g," ")).match(/\S/))for(o=r.split(/\s+/).length,c.totalWordsCount+=o,s=e.parentNode;s&&s!=document&&"html"!=s.tagName.toLowerCase();)a=(parseInt(h.getData(s,"iceapw"),10)||0)+o,h.setData(s,"iceapw",a),s=s.parentNode;break;case g.COMMENT:l.harvest.checkConditionalTags(u.string.trim(e.data),c)}c.firstNode==e&&(c.harvesting=!1,m.stop("apHarvest"))}},{settings:{result:{},pIndex:1}},!1),externalTags=$root.$create("externalTags",{init:function(){var e,t,n,i=this.$root,o=i.comm.settings.responses.impression,r=i.utils,s=r.array,a=r.object,d=this.settings;if(o.messages)if("icemobile"!==i.versionFile)for(d.bidCallbackVar=(i.settings.white_label||"infolinks")+"_etag",e=0,t=o.messages.length;e<t;e++)(n=o.messages[e].ads[0]).prs=s.toObject(n.prs?n.prs.split(","):s.discard(s.discard(s.discard(s.discard(a.keys(o.prs),"s"),"o"),"x"),"d"),{},!0),o.messages[e].msg=e,n.emd&&(d.tags[n.emd]=o.messages[e]);else delete o.messages},getProductAdSizes:function(e,t){switch(e){case"i":case"x":case"e":case"r":case"t":return[{w:300,h:250}];case"s":case"o":case"x":case"d":return[{w:728,h:90}];case"f":return[{w:t.instance.width||160,h:600}]}},setExternalTagData:function(e,t){var n=this.$root.utils.object,i=e.currentAdIndex,o=t.ads[i];if(o.content)o.content=this.$root.utils.base64.decodeBase64(o.content),e.externalTag=!0;else if(o.url||o.contentUrl)o.url&&(o.contentUrl=o.url),e.externalTag=!0;else{var r,s,a=e.externalTag,d=this.settings,l=t.ads[i].emd,c=d.tags[l],u=d.bidResponses[a];for(r=0,s=u.length;r<s;r++)u[r].emd==l&&(t.width=u[r].size.w,t.height=u[r].size.h,t.ads[i].contentUrl=u[r].result[c.ads[0].jat],n.extend(t.ads[i],c.ads[0]))}return t},getBidData:function(e){var t=this.$root,n=this.settings;if("number"!=t.what(e))return{};var i=n.bidResponses[e],o=t.utils.array.map(i,(function(e){return e.emd||""})),r=t.utils.array.map(i,(function(e){var i=e.result[n.tags[e.emd].ads[0].jpt];return t.utils.base64.encodeBase64(("number"==t.what(i)?i:-1).toString()).split("").reverse().join("")||""})),s=t.utils.array.map(i,(function(e){return[e.size.w,e.size.h].join("*")||""}));return{emd:o.join("~"),nj:r.join("~"),jsd:s.join("~")}},updateViewedTags:function(e){var t,n=this.$root,i=n.settings.hooksMap[e],o=n.helpers.getHookData(e),r=n.externalTags.settings;o.ads[i.currentAdIndex]&&(t=o.ads[i.currentAdIndex].emd),t&&(r.uemd[t]||(r.uemd[t]={}),r.uemd[t][i.prod]||(r.uemd[t][i.prod]=0),r.uemd[t][i.prod]++)},getViewedTagsParam:function(){var e,t,n=this.$root,i=this.settings,o=[];if(!n.utils.object.keys(i.uemd).length)return{};for(e in i.uemd)for(t in i.uemd[e])n.utils.array.push(o,[e,t,i.uemd[e][t]].join("!"));return{uemd:o.join("~")}}},{settings:{bidInvocation:0,bidResponses:{},bidCount:0,tags:{},bidRequestTimeout:300,uemd:{}}},!0),updater=$root.$create("updater",{handleUpdaterImpression:function(e){var t,n=this.$root,i=this.settings,o=i.instances[i.instances.length-1];t=n.helpers.processImpressionResponse(e.data),"object"==n.what(t)?(o.impression=t,o.impression.prs[n.products.intext.settings.prodCode]&&n.event.fire("initIntext",{updater:o})):n.logger.error("Bad Impression response.",this.handleUpdaterImpression)}},{settings:{def:{interval:5,container:null,tag:null},counter:0,instances:[]}},!0);updater.bind({event:"initUpdater",listener:{init:function(){var e=this.$root,t=this.settings,n=e.helpers,i=n.getVar("updater_container")||e.comm.settings.responses.impression.behavior_imp.udco;t.interval=n.getVar("updater_interval")||e.comm.settings.responses.impression.behavior_imp.udi||t.def.interval,t.container=i?e.utils.dom.element.$(i):t.def.container,t.tag=n.getVar("updater_tag")||e.comm.settings.responses.impression.behavior_imp.udt||t.def.tag;for(var o=e.utils.dom.filterByClass(t.className,t.tag,t.container),r=0,s=o.length;r<s;r++)o[r].setAttribute("iceupdated","true");e.event.unbind("afterImpression"),e.event.bind({event:"afterImpression",listener:this.handleUpdaterImpression}),e.event.repeat("updaterContentChange",1e3*t.interval)}}}),updater.bind({event:"updaterContentChange",listener:{updaterContentChange:function(){var e,t,n,i,o=this.$root,r=o.utils,s=this.settings,a=[],d=[],l=o.utils.dom.filterByClass(s.className,s.tag,s.container);for(n=0,i=l.length;n<i;n++)"true"!=l[n].getAttribute("iceupdated")&&(o.harvest.settings.enabled=!0,(e=o.harvest.getHarvestedText(l[n])).text.length>0&&(l[n].setAttribute("iceupdated","true"),r.array.push(a,e.text),d=r.array.concat(d,e.nodes)));a.length&&(t=s.instances[s.counter++]={nodes:d,text:a.join("P")},o.event.fire("beforeImpression",{ptxt:t.text,updater:s.counter}))}}});var simplePlayer=$root.$create("simplePlayer",{create:function(e){var t,n,i,o,r,s,a,d={settings:e.settings,root:e.root,width:e.settings.mobileVideoWidth||e.settings.firstAdWidth,height:e.settings.videoAdHeight||e.settings.firstAdHeight,currentPlayer:document.getElementById(e.videoId),videoContent:e.settings.vastTags[0].postLoadVideo,id:e.videoId,adContainerId:e.adCntId,canPlayCalled:!1,disposed:!1,adsManagerLoaded:!1,adPausedTimeout:null,adNeverLoadedTimeout:null,adLoadFailDuration:12,adsRequestCounter:0,adViewCounter:0,adsLength:e.settings.vastTags.length,hasShownRequiredContentDuration:!1,adRequestCounter:0,postLoadDuration:Number(e.settings.behavior.merged.vpld)||3,log:function(){},play2Vast:!0,pausedAdId:null};function l(){document.hidden?d.inactiveTabRefreshTimeout=setTimeout((function(){d.root.event.fire(d.settings.resumeRefreshEvtHandler)}),1e3*(d.settings.behavior.merged.rpt||60)):(clearTimeout(d.inactiveTabRefreshTimeout),d.currentPlayer.src!==d.videoContent&&h(d.pausedAdId))}d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,clearTimeout(d.inactiveTabRefreshTimeout),d.log("currentPlayer ",d.currentPlayer);var c=function(){return!!(["s","o","d","x"].includes(d.settings.prodCode)||["h"].includes(d.settings.prodCode)||["u"].includes(d.settings.prodCode))},u=function(e){d.pausedAdId=null;e.currentPlayer;var t=e.root;e.adRequestCounter<e.adsLength&&d.play2Vast?(!function(e){var t=e.currentPlayer;if(e.root,o&&(o.destroy(),e.adsManagerDestroyed=!0),clearTimeout(a),clearTimeout(e.adNeverLoadedTimeout),e.settings.vastTags.shift(),e.settings.vastTags[0]){e.adRequestCounter++,e.settings.isInAdMode=!0,e.adLoadTime=Date.now(),m(e),t.paused&&t.play();var n=new google.ima.AdsRequest;n.adsResponse=d.settings.vastTags[0].vastTag,n.setAdWillAutoPlay(!0),n.setAdWillPlayMuted(!0),s=[e.adsManagerLoaded,Date.now()],i.requestAds(n)}}(e),e.settings.postLoadVideoMode=!1,e.settings.isInAdMode=!1):e.settings.refreshPending||e.adViewCounter>0?(e.settings.postLoadVideoMode=!1,e.settings.isInAdMode=!1,e.settings.refreshCount<parseInt(e.settings.garl)&&!e.settings.refreshAdsCalled?(e.settings.refreshAdsCalled=!0,t.event.fire(e.settings.resumeRefreshEvtHandler)):(e.settings.refreshCount,parseInt(e.settings.garl))):(e.settings.isInAdMode=!1,e.settings.postLoadVideoMode=!1)},h=function(e){clearTimeout(d.adPausedTimeout),d.adPausedTimeout=setTimeout((function(){e==d.pausedAdId&&d.currentPlayer.paused&&!document.hidden&&d.currentPlayer.play()}),2e3)},m=function(e){e.adNeverLoadedTimeout&&clearTimeout(e.adNeverLoadedTimeout),e.adNeverLoadedTimeout=setTimeout((function(){e.settings.stopRefresh||"started"!==e.adStatus&&(e.settings.isInAdMode=!1,e.root.event.fire("sendClientLog",{params:{hookId:e.settings.instance.hook.id,bdc:e.settings.instance.hook.bdc,midx:e.settings.vastTags[0].midx,customParams:!0,capara:{"vast-adError":"446699","vast-adErrorMessage":"-"}}}),u(e))}),1e3*e.adLoadFailDuration)},g=function(){d.log(">>> on onContentPauseRequested"),d.currentPlayer.paused||d.currentPlayer.pause()},p=function(){d.log(">>> on onContentResumeRequested",d.id),d.currentPlayer.paused&&d.currentPlayer.play()},f=function e(){clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),o.removeEventListener(google.ima.AdEvent.Type.AD_PROGRESS,e)},v=function(){d.log(">>> on ad loaded"),d.adStatus="loaded",clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),d.root.event.fire("sendClientLog",{params:{hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:d.settings.vastTags[0].midx,customParams:!0,capara:{"vast-adLoadTime":Date.now()-d.adLoadTime}}}),d.loadFailDurationTimeout=setTimeout((function(){d.loadFailDurationTimeout&&clearTimeout(d.loadFailDurationTimeout),"started"!==d.adStatus&&(d.settings.isInAdMode=!1,d.root.event.fire("sendClientLog",{params:{hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:d.midx,customParams:!0,capara:{"vast-adError":"336699","vast-adErrorMessage":"VAST loaded but ad never started, ended or error"}}}),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,u(d))}),1e3*d.adLoadFailDuration)},b=function(){clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout)},w=function(){d.log(">>> on ad started show player"),d.adStatus="started",d.adViewCounter++,clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),d.pausedAdId=d.pausedAdId||"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})),d.root.event.fire(d.settings.showVideoEvtHandler,{instance:d.settings}),d.settings.instance.hook.currentAdIndex=d.settings.vastTags[0].midx;var e,t,n,i={prod_t:d.settings.instance.hook.prod,bdc:d.settings.instance.hook.bdc,midx:d.settings.vastTags[0].midx,emd:d.settings.vastTags[0].emd,capara:JSON.stringify(d.root.settings.capara)};if(0===Object.keys(d.root.settings.capara).length&&delete i.capara,d.root.event.fire("setVpfc",{prod:d.settings.prodCode}),d.root.event.fire("sendAdView",{hookId:d.settings.instance.hook.id,params:i}),d.root.helpers.isGSF()&&window.$sf.ext.inViewPercentage){var o=null;e=d.settings.instance.hook.id,t=e.match(/(\d+x\d+)$/),n={"320x50":"#008800","728x90":"#880000","300x250":"#000088","300x600":"#orange",default:"#000000"},t&&t[0];setTimeout((function e(){var t=window.$sf.ext.inViewPercentage(),n=Date.now();if(t>=50){if(o){if(n-o>=1750){var i=d.root.helpers.getHookData(d.settings.instance.hook.id),r={hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:i.ads[d.settings.instance.hook.currentAdIndex].midx,customParams:!0,capara:{ve:"mrc50"}};return d.root.event.fire("sendClientLog",{params:r}),void(d.settings.instance.hook.mrc50URL&&d.root.helpers.hitURL(d.settings.instance.hook.mrc50URL))}}else o=n;setTimeout(e,250)}}),100)}else d.settings.instance.hook.adContainer&&(d.settings.instance.hook.mrcVideoAdMode=!0,d.root.settings.observer.unobserve(d.settings.instance.hook.adContainer),d.root.settings.observer.observe(d.settings.instance.hook.adContainer),setTimeout((function(){d.settings.instance.hook.mrcVideoAdMode=!1,d.root.settings.observer.unobserve(d.settings.instance.hook.adContainer)}),2e3))},y=function(){clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),d.pausedAdId&&(d.currentPlayer.src===d.videoContent||document.hidden?(clearTimeout(a),a=setTimeout((function(){try{o.resume()}catch(e){d.adStatus="failedResume",clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout),document.removeEventListener("visibilitychange",l),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,u(d)}}),3e3)):h(d.pausedAdId))},x=function(){clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),d.currentPlayer.src===d.videoContent||document.hidden||clearTimeout(d.adPausedTimeout)},k=function(){d.log(">>> on ad complete"),d.adStatus="skipped",clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout),document.removeEventListener("visibilitychange",l),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,d.play2Vast=!c(),u(d)},I=function(){d.log(">>> on ad complete"),d.adStatus="complete",clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout),document.removeEventListener("visibilitychange",l),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,d.pausedAdId=null,d.root.event.fire("sendClientLog",{params:{hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:d.settings.vastTags[0].midx,customParams:!0,capara:{"vast-adCompletion":!0}}}),d.play2Vast=!c(),u(d)},S=function(e){d.log(">> onAdError",e.getError()),d.adStatus="errored",clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout),document.removeEventListener("visibilitychange",l),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,d.root.event.fire("sendClientLog",{params:{hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:d.settings.vastTags[0].midx,customParams:!0,capara:{"vast-adError":e.getError().getErrorCode(),"vast-adErrorMessage":e.getError().getMessage()}}}),o&&(o.destroy(),d.adsManagerDestroyed=!0),u(d)},C=function(e){if(d.adsManagerDestroyed=!1,!d.disposed){document.addEventListener("visibilitychange",l),d.log("onAdsManagerLoaded ",e),d.adsManagerLoaded=!0,Date.now()-s[1];var t=new google.ima.AdsRenderingSettings;t.restoreCustomPlaybackStateOnAdBreakComplete=!0,t.uiElements=[];(o=e.getAdsManager(d.currentPlayer,t)).setVolume(0),o.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,S),o.addEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,g),o.addEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,p),o.addEventListener(google.ima.AdEvent.Type.AD_PROGRESS,f),o.addEventListener(google.ima.AdEvent.Type.LOADED,v),o.addEventListener(google.ima.AdEvent.Type.IMPRESSION,b),o.addEventListener(google.ima.AdEvent.Type.STARTED,w),o.addEventListener(google.ima.AdEvent.Type.PAUSED,y),o.addEventListener(google.ima.AdEvent.Type.RESUMED,x),o.addEventListener(google.ima.AdEvent.Type.SKIPPED,k),o.addEventListener(google.ima.AdEvent.Type.COMPLETE,I),function(){try{r||(n.initialize(),r=!0),d.log(" >>>>>>>> start adsanager ",d.width,d.height+" || "+d.settings.videoAdHeight),d.adRequestCounter++,o.init(d.width,d.height,google.ima.ViewMode.NORMAL),o.start(),d.adStatus="requested"}catch(e){}}()}},T=function(){var e=document.createElement("script");e.src="//imasdk.googleapis.com/js/sdkloader/ima3.js",e.onload=function(){E(d)},e.onerror=function(){},document.head.appendChild(e)},E=function(e){if(window.google&&window.google.ima){d.currentPlayer.play(),t=document.getElementById(d.adContainerId),n=new google.ima.AdDisplayContainer(t,e.currentPlayer),i=new google.ima.AdsLoader(n);var o=d.settings.vastTags[0].vpaidMode;"1"===o?i.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.ENABLED):"0"===o&&i.getSettings().setVpaidMode(google.ima.ImaSdkSettings.VpaidMode.INSECURE),i.addEventListener(google.ima.AdsManagerLoadedEvent.Type.ADS_MANAGER_LOADED,C,!1),i.addEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,S,!1),d.currentPlayer.volume=0,d.currentPlayer.muted=!0,L()}else T()},L=function(){if(!d.disposed){d.currentPlayer.pause(),d.adLoadTime=Date.now(),d.root.event.fire("sendClientLog",{params:{hookId:d.settings.instance.hook.id,bdc:d.settings.instance.hook.bdc,midx:d.settings.vastTags[0].midx,customParams:!0,capara:{"vast-opportunityReached":!0}}});var e=new google.ima.AdsRequest;e.adsResponse=d.settings.vastTags[0].vastTag,e.setAdWillAutoPlay(!0),e.setAdWillPlayMuted(!0),s=[d.adsManagerLoaded,Date.now()],i.requestAds(e),d.adStatus="waiting",m(d)}};return d.currentPlayer.addEventListener("ended",(function(e){})),d.currentPlayer.addEventListener("pause",(function(){d.currentPlayer.src!==d.videoContent&&!document.hidden&&d.pausedAdId&&h(d.pausedAdId)})),d.currentPlayer.addEventListener("play",(function(){d.currentPlayer.src===d.videoContent||document.hidden||clearTimeout(d.adPausedTimeout)})),d.dispose=function(){d.disposed||(d.disposed=!0,d.pausedAdId=null,o&&(o.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,S),o.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,g),o.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,p),o.removeEventListener(google.ima.AdEvent.Type.AD_PROGRESS,f),o.removeEventListener(google.ima.AdEvent.Type.LOADED,v),o.removeEventListener(google.ima.AdEvent.Type.IMPRESSION,b),o.removeEventListener(google.ima.AdEvent.Type.STARTED,w),o.removeEventListener(google.ima.AdEvent.Type.PAUSED,y),o.removeEventListener(google.ima.AdEvent.Type.RESUMED,x),o.removeEventListener(google.ima.AdEvent.Type.SKIPPED,k),o.removeEventListener(google.ima.AdEvent.Type.COMPLETE,I),o.discardAdBreak(),o.destroy(),d.adsManagerDestroyed=!0,d.adsManagerLoaded=!1),d.currentPlayer&&document.getElementById(d.id)&&(d.currentPlayer.pause(),d.currentPlayer.src="",d.currentPlayer.load()),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,d.adNeverLoadedTimeout&&(clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout)),document.removeEventListener("visibilitychange",l),d.adContainerId&&document.getElementById(d.adContainerId)&&(document.getElementById(d.adContainerId).innerHTML=""))},d.startPreloadBannerHideTimer=function(e){d.disposed||(d.log("startPreloadBannerHideTimer thisInstance ",e),d.settings.vastTags[0]&&(d.settings.isInAdMode=!0,E(e)))},d.switchContentClearAds=function(e){d.currentPlayer.src!=e&&(d.videoContent=e,d.currentPlayer.src=e,d.currentPlayer.play(),o&&(o.removeEventListener(google.ima.AdErrorEvent.Type.AD_ERROR,S),o.removeEventListener(google.ima.AdEvent.Type.CONTENT_PAUSE_REQUESTED,g),o.removeEventListener(google.ima.AdEvent.Type.CONTENT_RESUME_REQUESTED,p),o.removeEventListener(google.ima.AdEvent.Type.AD_PROGRESS,f),o.removeEventListener(google.ima.AdEvent.Type.LOADED,v),o.removeEventListener(google.ima.AdEvent.Type.IMPRESSION,b),o.removeEventListener(google.ima.AdEvent.Type.STARTED,w),o.removeEventListener(google.ima.AdEvent.Type.PAUSED,y),o.removeEventListener(google.ima.AdEvent.Type.RESUMED,x),o.removeEventListener(google.ima.AdEvent.Type.SKIPPED,k),o.removeEventListener(google.ima.AdEvent.Type.COMPLETE,I),o.discardAdBreak(),o.destroy(),d.adsManagerLoaded=!1),d.settings.isInAdMode=!1,d.settings.postLoadVideoMode=!1,clearTimeout(a),clearTimeout(d.adNeverLoadedTimeout),clearTimeout(d.loadFailDurationTimeout),clearTimeout(d.inactiveTabRefreshTimeout),document.removeEventListener("visibilitychange",l),d.adContainerId&&document.getElementById(d.adContainerId)&&(document.getElementById(d.adContainerId).innerHTML=""))},d.isVideoShowing=function(){return!(!d||!d.currentPlayer)&&(d.settings.refreshPending=d.settings.isInAdMode||d.settings.postLoadVideoMode,d.settings.refreshPending)},d}},{},!0);event.fire("main")}catch(e){"object"==(void 0===$root?"undefined":_typeof($root))&&$root.logger&&$root.logger.error&&$root.logger.error("CatchAll. Exception: "+e.message,window),"object"==(void 0===$root?"undefined":_typeof($root))&&$root.loggly&&$root.loggly.errorLog&&$root.loggly.errorLog(e,"CatchAll. Exception: "+e.message,window)}var b})();